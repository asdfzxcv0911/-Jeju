!DOCTYPE html
html lang=zh-TW
head
    meta charset=UTF-8
    meta name=viewport content=width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no
    titleæ¿Ÿå·å³¶8å¤©7å¤œè¦ªå­è¡Œ ğŸŠtitle
    script src=httpscdn.tailwindcss.comscript
    script src=httpsunpkg.comlucide@latestscript
    !-- å¼•å…¥åœ“æ½¤å¯æ„›çš„å­—é«” --
    link href=httpsfonts.googleapis.comcss2family=Zen+Maru+Gothicwght@400;500;700&family=Noto+Sans+TCwght@400;500;700&display=swap rel=stylesheet
    
    script
        tailwind.config = {
            theme {
                extend {
                    colors {
                        jeju {
                            orange '#FF8A3D',     
                            orangeLight '#FFF0E0',
                            green '#74B16D',      
                            greenLight '#E8F5E9',
                            blue '#4DA8DA',       
                            blueLight '#E0F7FA',
                            dark '#2D3436',
                            gray '#F5F5F7',
                            naver '#03C75A',
                            tiger '#FFCC00'  è™èˆªé»ƒ 
                        }
                    },
                    fontFamily {
                        cute ['Zen Maru Gothic', 'sans-serif'],
                        sans ['Noto Sans TC', 'sans-serif'],
                    },
                    boxShadow {
                        'chic' '0 4px 20px rgba(0,0,0,0.05)', 
                        'card' '0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.01)',
                    }
                }
            }
        }
    script
    style
        body {
            font-family 'Zen Maru Gothic', 'Noto Sans TC', sans-serif;
            background-color #FDFBF7;  æ›´æº«æš–çš„èƒŒæ™¯è‰² 
            -webkit-font-smoothing antialiased;
            padding-bottom 100px;
            scroll-behavior smooth;
        }

         éš±è—æ²è»¸ 
        .no-scrollbar-webkit-scrollbar { display none; }
        .no-scrollbar { -ms-overflow-style none; scrollbar-width none; }

         å¡ç‰‡æ•ˆæœ 
        .chic-card {
            background white;
            border-radius 24px;  æ›´åœ“æ½¤ 
            box-shadow 0 4px 15px rgba(0,0,0,0.03);
            border 2px solid transparent;  é ç•™é‚Šæ¡†ä½ç½® 
            transition transform 0.2s;
            overflow hidden;
        }
        .chic-cardactive {
            transform scale(0.98);
        }

         ç™»æ©Ÿè­‰æ¨£å¼ 
        .boarding-pass {
            background white;
            border-radius 16px;
            box-shadow 0 8px 25px rgba(0,0,0,0.08);
            position relative;
            overflow hidden;
            transition all 0.3s ease;
        }
        .pass-header {
            background-color #FFCC00;  Tigerair Yellow 
            color #000;
            padding 12px 20px;
            border-bottom 2px dashed #000;
        }
        .pass-barcode {
            height 40px;
            background-image repeating-linear-gradient(90deg, #333 0, #333 2px, transparent 2px, transparent 4px, #333 4px, #333 5px, transparent 5px, transparent 7px);
            opacity 0.8;
        }
        .ticket-notch {
            width 24px;
            height 24px;
            background-color #FDFBF7;  é…åˆèƒŒæ™¯è‰² 
            border-radius 50%;
            position absolute;
            z-index 10;
            box-shadow inset 0 2px 4px rgba(0,0,0,0.05);
        }

         å±•é–‹å‹•ç•« 
        .passenger-details {
            max-height 0;
            overflow hidden;
            transition max-height 0.4s ease-out, opacity 0.3s ease;
            opacity 0;
        }
        .passenger-details.open {
            max-height 500px;
            opacity 1;
        }
        .expand-hint {
            transition transform 0.3s;
        }
        .expand-hint.open {
            transform rotate(180deg);
        }

         æ™‚é–“è»¸ç·šæ¢ 
        .timeline-linebefore {
            content '';
            position absolute;
            left 24px;
            top 20px;
            bottom 20px;
            width 2px;
            background #E5E7EB;
            z-index 0;
            border-left 2px dashed #D1D5DB;
            background transparent;
        }

         æŒ‰éˆ•èˆ‡æ¨™ç±¤ 
        .btn-naver {
            background-color #03C75A;
            color white;
            font-weight bold;
            border-radius 12px;
            box-shadow 0 2px 5px rgba(3, 199, 90, 0.2);
            transition all 0.1s;
            display inline-flex;
            align-items center;
            gap 4px;
            padding 6px 12px;
            font-size 0.75rem;
            text-decoration none;
        }
        .btn-naveractive { transform translateY(1px); box-shadow none; }

        .btn-edit {
            background-color rgba(255, 255, 255, 0.6);
            backdrop-filter blur(4px);
            color #6B7280;
            border-radius 50%;
            width 28px;
            height 28px;
            display inline-flex;
            align-items center;
            justify-content center;
            font-size 0.8rem;
            transition all 0.2s;
        }
        .btn-edithover { background-color white; color #FF8A3D; }

         æ–°ç‰ˆäº¤é€šè† å›Šæ¨£å¼ (èåˆ Naver Map é¢¨æ ¼) 
        .transport-pill {
            background-color #03C75A;  Naver Green 
            color white;
            border-radius 99px;
            padding 6px 16px;
            font-size 0.8rem;
            font-weight bold;
            display inline-flex;
            align-items center;
            gap 6px;
            margin-bottom 12px;
            margin-top 4px;
            box-shadow 0 2px 6px rgba(3, 199, 90, 0.3);
            text-decoration none;
            transition all 0.2s;
            position relative;
            z-index 10;
        }
        .transport-pillhover {
            background-color #02b350;
            transform translateY(-2px);
            box-shadow 0 4px 12px rgba(3, 199, 90, 0.4);
        }
         ç„¡é€£çµçš„ç´”è³‡è¨Šè† å›Šæ¨£å¼ 
        .transport-pill.no-link {
            background-color white;
            color #6B7280;
            border 1px solid #E5E7EB;
            box-shadow 0 1px 3px rgba(0,0,0,0.05);
            cursor default;
        }
        .transport-pill.no-linkhover {
            background-color white;
            transform none;
            box-shadow 0 1px 3px rgba(0,0,0,0.05);
        }

         å°èˆªæŒ‰éˆ•å‹•ç•« 
        .nav-item { position relative; transition all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .nav-item.active { color #FF8A3D; }
        .nav-item.activeafter {
            content ''; position absolute; top -10px; left 50%; transform translateX(-50%);
            width 40px; height 4px; background #FF8A3D; border-radius 0 0 4px 4px;
        }

         èˆªç­åˆ‡æ›æŒ‰éˆ• 
        .flight-tab-btn {
            flex 1;
            padding 12px;
            text-align center;
            border-radius 12px;
            font-weight bold;
            color #9CA3AF;
            transition all 0.3s;
            border 2px solid transparent;
        }
        .flight-tab-btn.active {
            background white;
            color #000;
            box-shadow 0 4px 10px rgba(0,0,0,0.05);
            border-color #FFCC00;
        }

         è¡Œç¨‹ç¸½è¦½é€£çµ 
        .overview-link {
            display block;
            padding 8px 12px;
            border-radius 8px;
            margin-bottom 4px;
            font-size 0.85rem;
            color #4B5563;
            background #F9FAFB;
            transition all 0.2s;
            text-decoration none;
            border-left 3px solid transparent;
            cursor pointer;  Ensure pointer cursor 
        }
        .overview-linkhover {
            background #FFF7ED;  orange-50 
            color #EA580C;
            border-left-color #EA580C;
            transform translateX(2px);
        }

         App Link Badges 
        .app-badge {
            display inline-flex;
            align-items center;
            gap 4px;
            font-size 0.65rem;
            font-weight bold;
            padding 2px 8px;
            border-radius 99px;
            text-transform uppercase;
        }
        .app-agoda { background #e5f4ff; color #2a83c6; }
        .app-klook { background #fff0e5; color #ff5b00; }
        .app-catch { background #ffebeb; color #ff3b30; }

         Modal Styles 
        .modal-overlay {
            position fixed; top 0; left 0; width 100%; height 100%;
            background rgba(0, 0, 0, 0.5); backdrop-filter blur(4px);
            z-index 100; display flex; align-items center; justify-content center;
            opacity 0; pointer-events none; transition opacity 0.3s;
        }
        .modal-overlay.active { opacity 1; pointer-events auto; }
        .modal-content {
            background white; width 90%; max-width 360px;
            border-radius 24px; padding 24px;
            transform translateY(20px); transition transform 0.3s;
            max-height 80vh; overflow-y auto;
        }
        .modal-overlay.active .modal-content { transform translateY(0); }
        
         Expense Item 
        .expense-item {
            display flex; align-items center; justify-content space-between;
            padding 12px; border-bottom 1px solid #f3f4f6;
        }
        .category-icon {
            width 40px; height 40px; border-radius 12px;
            display flex; align-items center; justify-content center;
            font-size 1.2rem; margin-right 12px;
        }
    style
head
body class=text-jeju-dark

    !-- é ‚éƒ¨æ¨™é¡Œå€ --
    header class=sticky top-0 z-40 bg-white95 backdrop-blur-md px-6 py-4 shadow-sm mb-6 flex justify-between items-center
        div
            h1 id=page-title class=text-2xl font-bold text-jeju-dark tracking-wideæ¿Ÿå·å³¶8å¤©7å¤œè¦ªå­è¡Œ ğŸŠh1
            p id=page-subtitle class=text-xs text-gray-400 font-sans font-medium tracking-widerFAMILY TRIP 2026p
        div
        div onclick=resetData() class=w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-xl cursor-pointer hoverbg-gray-200 transition title=é‡ç½®è¡Œç¨‹è³‡æ–™
            ğŸ—¿
        div
    header

    !-- 1. èˆªç­èˆ‡è¡Œæå€ (Flight) - ç¾åœ¨æ˜¯é¦–é  --
    section id=view-flight class=view-section px-4
        
        !-- èˆªç­åˆ‡æ› Tab --
        div class=bg-gray-100 p-1 rounded-2xl flex gap-1 mb-6
            button onclick=switchFlightTab('outbound') id=tab-outbound class=flight-tab-btn activeå»ç¨‹ (KHHâCJU)button
            button onclick=switchFlightTab('inbound') id=tab-inbound class=flight-tab-btnå›ç¨‹ (CJUâKHH)button
        div

        !-- å»ç¨‹å¡ç‰‡ --
        div id=flight-outbound class=flight-content
            div class=boarding-pass onclick=togglePassengerDetails('outbound-details', 'outbound-arrow')
                div class=pass-header flex justify-between items-center
                    div class=text-2xl font-black italic tracking-tightertigerairdiv
                    div class=text-xs font-bold border border-black px-2 py-0.5 roundedBOARDING PASSdiv
                div
                
                div class=p-6 pb-2
                    !-- Route --
                    div class=flex justify-between items-center mb-6
                        div class=text-center
                            div class=text-4xl font-black text-slate-900 tracking-tightKHHdiv
                            div class=text-[10px] font-bold text-slate-500 mt-1 uppercaseé«˜é›„å°æ¸¯æ©Ÿå ´div
                            div class=text-xl font-black text-slate-800 mt-11600div
                        div
                        
                        !-- Middle Cute Plane Icon --
                        div class=flex-1 px-4 flex flex-col items-center
                            div class=relative w-full flex items-center justify-center
                                div class=absolute w-full border-t-2 border-dashed border-slate-300 top-12 -translate-y-12div
                                div class=relative bg-white px-2
                                    i data-lucide=plane class=w-6 h-6 text-tiger fill-current transform -rotate-45 drop-shadow-smi
                                div
                            div
                            span class=text-[10px] text-slate-400 font-bold mt-1 bg-gray-100 px-2 rounded-full2h 25mspan
                        div

                        div class=text-center
                            div class=text-4xl font-black text-slate-900 tracking-tightCJUdiv
                            div class=text-[10px] font-bold text-slate-500 mt-1 uppercaseæ¿Ÿå·åœ‹éš›æ©Ÿå ´div
                            div class=text-xl font-black text-slate-800 mt-11925div
                        div
                    div

                    !-- Info Grid --
                    div class=grid grid-cols-3 gap-2 mb-6 text-center
                        div class=bg-gray-50 p-2 rounded-lg border border-gray-100
                            div class=text-[10px] text-gray-400 font-bold uppercaseDatediv
                            div class=text-sm font-black text-slate-8000130div
                            div class=text-xs text-blue-500 font-bold mt-1ğŸŒ¤ï¸ 6Â°Cdiv
                        div
                        div class=bg-gray-50 p-2 rounded-lg border border-gray-100
                            div class=text-[10px] text-gray-400 font-bold uppercaseTimediv
                            div class=text-sm font-black text-slate-8001600div
                        div
                        div class=bg-gray-50 p-2 rounded-lg border border-gray-100
                            div class=text-[10px] text-gray-400 font-bold uppercaseFlightdiv
                            div class=text-sm font-black text-slate-800IT670div
                        div
                    div
                div

                !-- Cut Line & Toggle Hint --
                div class=relative flex items-center justify-between px-2 cursor-pointer group
                    div class=ticket-notch -left-4div
                    div class=w-full border-t-2 border-dashed border-gray-300 flex justify-center
                        div class=bg-white px-3 text-xs text-gray-400 font-bold flex items-center gap-1 group-hovertext-jeju-orange transition
                            æŸ¥çœ‹ä¹˜å®¢è³‡è¨Š i id=outbound-arrow data-lucide=chevron-down class=w-3 h-3 expand-hint transition-transformi
                        div
                    div
                    div class=ticket-notch -right-4div
                div

                !-- Passenger Details (Collapsible) --
                div id=outbound-details class=passenger-details bg-white
                    div class=p-6 pt-4 space-y-4
                        div class=flex justify-between items-center border-b border-dashed border-gray-200 pb-3
                            div class=flex items-center gap-3
                                span class=bg-black text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold1span
                                span class=font-bold text-slate-700å®œæ˜†span
                            div
                            div class=flex gap-3 text-xs font-bold font-mono
                                span class=bg-yellow-100 text-yellow-800 px-2 py-1 rounded2Aspan
                                span class=bg-gray-100 text-gray-600 px-2 py-1 rounded15KGspan
                            div
                        div
                        div class=flex justify-between items-center border-b border-dashed border-gray-200 pb-3
                            div class=flex items-center gap-3
                                span class=bg-black text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold2span
                                span class=font-bold text-slate-700æ˜ ç¾½span
                            div
                            div class=flex gap-3 text-xs font-bold font-mono
                                span class=bg-yellow-100 text-yellow-800 px-2 py-1 rounded2Cspan
                                span class=bg-gray-100 text-gray-600 px-2 py-1 rounded15KGspan
                            div
                        div
                        div class=flex justify-between items-center
                            div class=flex items-center gap-3
                                span class=bg-black text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold3span
                                span class=font-bold text-slate-700ä¹‹é½Šspan
                            div
                            div class=flex gap-3 text-xs font-bold font-mono
                                span class=bg-yellow-100 text-yellow-800 px-2 py-1 rounded2Bspan
                                span class=bg-gray-100 text-gray-600 px-2 py-1 rounded15KGspan
                            div
                        div
                        
                        !-- Barcode --
                        div class=mt-4 pt-4 border-t-2 border-black
                            div class=pass-barcodediv
                            div class=text-center text-[10px] font-mono mt-1 tracking-widest text-gray-400IT670-KHH-CJU-JAN30div
                        div
                    div
                div
                !-- Bottom spacer if collapsed --
                div class=h-4 bg-whitediv
            div
        div

        !-- å›ç¨‹å¡ç‰‡ --
        div id=flight-inbound class=flight-content hidden
            div class=boarding-pass onclick=togglePassengerDetails('inbound-details', 'inbound-arrow')
                div class=pass-header flex justify-between items-center
                    div class=text-2xl font-black italic tracking-tightertigerairdiv
                    div class=text-xs font-bold border border-black px-2 py-0.5 roundedBOARDING PASSdiv
                div
                
                div class=p-6 pb-2
                    !-- Route --
                    div class=flex justify-between items-center mb-6
                        div class=text-center
                            div class=text-4xl font-black text-slate-900 tracking-tightCJUdiv
                            div class=text-[10px] font-bold text-slate-500 mt-1 uppercaseæ¿Ÿå·åœ‹éš›æ©Ÿå ´div
                            div class=text-xl font-black text-slate-800 mt-12015div
                        div
                        
                        !-- Middle Cute Plane Icon --
                        div class=flex-1 px-4 flex flex-col items-center
                            div class=relative w-full flex items-center justify-center
                                div class=absolute w-full border-t-2 border-dashed border-slate-300 top-12 -translate-y-12div
                                div class=relative bg-white px-2
                                    i data-lucide=plane class=w-6 h-6 text-tiger fill-current transform -rotate-45 drop-shadow-smi
                                div
                            div
                            span class=text-[10px] text-slate-400 font-bold mt-1 bg-gray-100 px-2 rounded-full2h 35mspan
                        div

                        div class=text-center
                            div class=text-4xl font-black text-slate-900 tracking-tightKHHdiv
                            div class=text-[10px] font-bold text-slate-500 mt-1 uppercaseé«˜é›„å°æ¸¯æ©Ÿå ´div
                            div class=text-xl font-black text-slate-800 mt-12150div
                        div
                    div

                    !-- Info Grid --
                    div class=grid grid-cols-3 gap-2 mb-6 text-center
                        div class=bg-gray-50 p-2 rounded-lg border border-gray-100
                            div class=text-[10px] text-gray-400 font-bold uppercaseDatediv
                            div class=text-sm font-black text-slate-8000206div
                            div class=text-xs text-blue-500 font-bold mt-1ğŸŒ™ 4Â°Cdiv
                        div
                        div class=bg-gray-50 p-2 rounded-lg border border-gray-100
                            div class=text-[10px] text-gray-400 font-bold uppercaseTimediv
                            div class=text-sm font-black text-slate-8002015div
                        div
                        div class=bg-gray-50 p-2 rounded-lg border border-gray-100
                            div class=text-[10px] text-gray-400 font-bold uppercaseFlightdiv
                            div class=text-sm font-black text-slate-800IT671div
                        div
                    div
                div

                !-- Cut Line & Toggle Hint --
                div class=relative flex items-center justify-between px-2 cursor-pointer group
                    div class=ticket-notch -left-4div
                    div class=w-full border-t-2 border-dashed border-gray-300 flex justify-center
                        div class=bg-white px-3 text-xs text-gray-400 font-bold flex items-center gap-1 group-hovertext-jeju-orange transition
                            æŸ¥çœ‹ä¹˜å®¢è³‡è¨Š i id=inbound-arrow data-lucide=chevron-down class=w-3 h-3 expand-hint transition-transformi
                        div
                    div
                    div class=ticket-notch -right-4div
                div

                !-- Passenger Details (Collapsible) --
                div id=inbound-details class=passenger-details bg-white
                    div class=p-6 pt-4 space-y-4
                        div class=flex justify-between items-center border-b border-dashed border-gray-200 pb-3
                            div class=flex items-center gap-3
                                span class=bg-black text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold1span
                                span class=font-bold text-slate-700å®œæ˜†span
                            div
                            div class=flex gap-3 text-xs font-bold font-mono
                                span class=bg-yellow-100 text-yellow-800 px-2 py-1 rounded2Fspan
                                span class=bg-gray-100 text-gray-600 px-2 py-1 rounded25KGspan
                            div
                        div
                        div class=flex justify-between items-center border-b border-dashed border-gray-200 pb-3
                            div class=flex items-center gap-3
                                span class=bg-black text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold2span
                                span class=font-bold text-slate-700æ˜ ç¾½span
                            div
                            div class=flex gap-3 text-xs font-bold font-mono
                                span class=bg-yellow-100 text-yellow-800 px-2 py-1 rounded2Dspan
                                span class=bg-gray-100 text-gray-600 px-2 py-1 rounded25KGspan
                            div
                        div
                        div class=flex justify-between items-center
                            div class=flex items-center gap-3
                                span class=bg-black text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold3span
                                span class=font-bold text-slate-700ä¹‹é½Šspan
                            div
                            div class=flex gap-3 text-xs font-bold font-mono
                                span class=bg-yellow-100 text-yellow-800 px-2 py-1 rounded2Espan
                                span class=bg-gray-100 text-gray-600 px-2 py-1 rounded20KGspan
                            div
                        div
                        
                        !-- Barcode --
                        div class=mt-4 pt-4 border-t-2 border-black
                            div class=pass-barcodediv
                            div class=text-center text-[10px] font-mono mt-1 tracking-widest text-gray-400IT671-CJU-KHH-FEB06div
                        div
                    div
                div
                div class=h-4 bg-whitediv
            div
        div
    section

    !-- 2. è¡Œç¨‹å€ (Schedule) --
    section id=view-schedule class=view-section px-4 hidden
        !-- æ—¥æœŸé¸æ“‡å™¨ --
        div class=flex gap-3 overflow-x-auto no-scrollbar mb-6 pb-2 pl-2 id=day-selector
            !-- JS ç”Ÿæˆ --
        div

        !-- æ¯æ—¥å…§å®¹å®¹å™¨ --
        div id=day-content-container class=space-y-2 relative timeline-line min-h-[50vh] pb-10
            !-- JS å°‡æœƒå‹•æ…‹æ³¨å…¥é€™è£¡çš„å…§å®¹ --
        div
    section

    !-- 3. è¨˜å¸³èˆ‡åŒ¯ç‡å€ (Money) --
    section id=view-money class=view-section px-4 hidden
        !-- åŒ¯ç‡æ›ç®—å™¨ --
        div class=chic-card p-6 mb-6 bg-gradient-to-br from-jeju-blue to-blue-400 text-white border-none shadow-blue-200
            div class=flex justify-between items-center mb-4
                h3 class=font-bold text-lg flex items-center gap-2
                    i data-lucide=arrow-left-right class=w-5 h-5i åŒ¯ç‡æ›ç®—
                h3
                span id=rate-display onclick=updateRate() class=text-xs bg-white20 px-2 py-1 rounded-lg cursor-pointer hoverbg-white30 transitionæ›´æ–°ä¸­...span
            div
            
            div class=flex gap-4 items-center
                div class=flex-1
                    label class=text-xs text-blue-100 mb-1 blockKRW (éŸ“å…ƒ)label
                    input type=number id=input-krw class=w-full bg-white20 border border-white30 rounded-xl px-3 py-2 text-white placeholder-white50 text-xl font-bold focusoutline-none focusbg-white30 placeholder=0
                div
                div class=text-2xl font-bold text-white50 mt-4=div
                div class=flex-1
                    label class=text-xs text-blue-100 mb-1 blockTWD (å°å¹£)label
                    input type=number id=input-twd class=w-full bg-white text-jeju-blue border-none rounded-xl px-3 py-2 text-xl font-bold focusoutline-none shadow-sm placeholder=0
                div
            div
            p class=text-[10px] text-blue-100 mt-3 text-center opacity-80 cursor-pointer onclick=manualRateUpdate() é»æ­¤æ‰‹å‹•è¨­å®šåŒ¯ç‡p
        div
        
        !-- æ–°å¢è¨˜å¸³è¡¨å–® --
        div class=chic-card p-5 mb-6
            h3 class=font-bold text-jeju-dark mb-4 flex items-center gap-2
                i data-lucide=pencil class=w-4 h-4 text-jeju-orangei æ–°å¢æ”¯å‡º
            h3
            div class=space-y-3
                div class=grid grid-cols-2 gap-3
                    input type=text id=expense-name placeholder=é …ç›®åç¨± (å¦‚ æ™šé¤) class=w-full bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm focusoutline-none focusborder-jeju-orange
                    select id=expense-category class=w-full bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm focusoutline-none focusborder-jeju-orange
                        option value=foodğŸ½ï¸ é£²é£Ÿoption
                        option value=transportğŸš— äº¤é€šoption
                        option value=hotelğŸ¨ ä½å®¿option
                        option value=shoppingğŸ›ï¸ è³¼ç‰©option
                        option value=funğŸ¡ å¨›æ¨‚option
                        option value=otherğŸ“¦ å…¶ä»–option
                    select
                div
                div class=flex gap-2
                    input type=number id=expense-amount placeholder=é‡‘é¡ (KRW) class=flex-1 bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm focusoutline-none focusborder-jeju-orange
                    button onclick=addExpense() class=bg-jeju-orange text-white px-6 py-2 rounded-xl font-bold hoverbg-orange-600 transition shadow-sm
                        æ–°å¢
                    button
                div
            div
        div

        !-- è¨˜å¸³åˆ—è¡¨èˆ‡çµ±è¨ˆ --
        div class=space-y-4
            div class=flex justify-between items-center px-2
                h3 class=font-bold text-jeju-darkæ¶ˆè²»ç´€éŒ„h3
                div class=text-right
                    p class=text-[10px] text-gray-400ç¸½è¨ˆç´„p
                    p class=text-sm font-bold text-jeju-dark id=total-twdNT$ 0p
                div
            div
            
            div id=expense-list class=space-y-2 pb-20
                !-- JS ç”Ÿæˆ --
                div class=text-center py-10 opacity-50
                    div class=text-4xl mb-2ğŸ’¸div
                    p class=text-smé‚„æ²’æœ‰æ¶ˆè²»ç´€éŒ„å–”ï¼p
                div
            div
        div
    section

    !-- 4. è¨‚ä½èˆ‡ä½å®¿å€ (Booking) --
    section id=view-booking class=view-section px-4 hidden space-y-4
        h3 class=font-bold text-jeju-dark px-2 mt-2 flex items-center justify-between
            spanä½å®¿è³‡è¨Šspan
            span class=app-badge app-agodaAgoda Appspan
        h3
        !-- ä½å®¿å¡ç‰‡ä¿æŒä¸è®Š --
        a href=httpswww.agoda.comzh-twtripssort=BookingStartDate&state=Upcoming&page=1 target=_blank class=chic-card p-0 overflow-hidden flex hovershadow-lg transition block
            div class=w-2 bg-jeju-orangediv
            div class=p-4 flex-1
                div class=flex justify-between
                    h4 class=font-bold text-jeju-darkæ¿Ÿå·Glad Maisoné£¯åº—h4
                    span class=text-xs bg-gray-100 px-2 py-1 rounded text-gray-500D1span
                div
                p class=text-xs text-gray-400 mt-1Maison Glad Jejup
                div class=mt-2 text-right
                     button onclick=openVoucher('Maison_Glad') class=text-[10px] bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold hoverbg-gray-200 transition
                        ğŸ“± å ±åˆ° QR Code
                    button
                div
            div
        a
        a href=httpswww.agoda.comzh-twtripssort=BookingStartDate&state=Upcoming&page=1 target=_blank class=chic-card p-0 overflow-hidden flex hovershadow-lg transition block
            div class=w-2 bg-jeju-bluediv
            div class=p-4 flex-1
                div class=flex justify-between
                    h4 class=font-bold text-jeju-darkåŸå±±è²æ–¯ç‰¹é£¯åº—h4
                    span class=text-xs bg-gray-100 px-2 py-1 rounded text-gray-500D2-D3span
                div
                p class=text-xs text-gray-400 mt-1Coop City Hotel Seongsanp
                 div class=mt-2 text-right
                     button onclick=openVoucher('Coop_City') class=text-[10px] bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold hoverbg-gray-200 transition
                        ğŸ“± å ±åˆ° QR Code
                    button
                div
            div
        a
        a href=httpswww.agoda.comzh-twtripssort=BookingStartDate&state=Upcoming&page=1 target=_blank class=chic-card p-0 overflow-hidden flex hovershadow-lg transition block
            div class=w-2 bg-jeju-greendiv
            div class=p-4 flex-1
                div class=flex justify-between
                    h4 class=font-bold text-jeju-darkç¥è©±ä¸–ç•Œ-è—é¼h4
                    span class=text-xs bg-gray-100 px-2 py-1 rounded text-gray-500D4-D5span
                div
                p class=text-xs text-gray-400 mt-1Shinhwa World Landingp
                 div class=mt-2 text-right
                     button onclick=openVoucher('Shinhwa_Landing') class=text-[10px] bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold hoverbg-gray-200 transition
                        ğŸ“± å ±åˆ° QR Code
                    button
                div
            div
        a
        a href=httpswww.agoda.comzh-twtripssort=BookingStartDate&state=Upcoming&page=1 target=_blank class=chic-card p-0 overflow-hidden flex hovershadow-lg transition block
            div class=w-2 bg-purple-400div
            div class=p-4 flex-1
                div class=flex justify-between
                    h4 class=font-bold text-jeju-darkåˆ©å¥§é£¯åº—h4
                    span class=text-xs bg-gray-100 px-2 py-1 rounded text-gray-500D6-D7span
                div
                p class=text-xs text-gray-400 mt-1Hotel Leop
                 div class=mt-2 text-right
                     button onclick=openVoucher('Hotel_Leo') class=text-[10px] bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-bold hoverbg-gray-200 transition
                        ğŸ“± å ±åˆ° QR Code
                    button
                div
            div
        a

        h3 class=font-bold text-jeju-dark px-2 mt-6 flex items-center justify-between
            spanäº¤é€šèˆ‡ç¥¨åˆ¸span
            span class=app-badge app-klookKlookspan
        h3
        div class=grid grid-cols-2 gap-3
            !-- Lotte Rental Card --
            div class=chic-card p-4 flex flex-col items-center text-center
                div class=w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mb-2
                    i data-lucide=car class=w-5 h-5 text-gray-600i
                div
                h4 class=font-bold text-sm text-jeju-dark mb-2æ¨‚å¤©ç§Ÿè»Šh4
                
                div class=flex gap-1 w-full
                    button onclick=openVoucher('WNF147844') class=flex-1 text-[10px] bg-gray-600 text-white rounded py-1 shadow-sm hoverbg-gray-700
                        ğŸ“„ æ†‘è­‰åœ–ç‰‡
                    button
                div
            div
            
            !-- Aqua Planet Card --
            div class=chic-card p-4 flex flex-col items-center text-center
                div class=w-10 h-10 rounded-full bg-cyan-50 flex items-center justify-center mb-2
                    i data-lucide=fish class=w-5 h-5 text-cyan-500i
                div
                h4 class=font-bold text-sm text-jeju-dark mb-2Aqua Planeth4
                
                div class=flex gap-1 w-full
                    button onclick=openVoucher('HRG192574') class=flex-1 text-[10px] bg-cyan-500 text-white rounded py-1 shadow-sm hoverbg-cyan-600
                        ğŸ“„ æ†‘è­‰åœ–ç‰‡
                    button
                div
            div
        div

        h3 class=font-bold text-jeju-dark px-2 mt-6 flex items-center justify-between
            spané¤å»³è¨‚ä½span
            span class=app-badge app-catchCatch Tablespan
        h3
        a href=httpsapp.catchtable.co.krctshoplondonbagel_jeju target=_blank class=chic-card p-4 flex items-center gap-3 hovershadow-lg transition block
            div class=w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-lgğŸ¥¯div
            div class=flex-1
                h4 class=font-bold text-jeju-darkå€«æ•¦è²æœåšç‰©é¤¨h4
                p class=text-xs text-jeju-orangeLondon Bagel Museump
            div
            div class=text-xs bg-red-50 text-red-500 px-3 py-1 rounded-full font-boldAppdiv
        a
        a href=httpswww.catchtable.netzh-TWshopsuksungdo_jeju target=_blank class=chic-card p-4 flex items-center gap-3 hovershadow-lg transition block
            div class=w-10 h-10 rounded-full bg-rose-100 flex items-center justify-center text-lgğŸ¥©div
            div class=flex-1
                h4 class=font-bold text-jeju-darkç†Ÿæˆåˆ° ç‡’è‚‰h4
                p class=text-xs text-rose-500Sukseongdop
            div
            div class=text-xs bg-red-50 text-red-500 px-3 py-1 rounded-full font-boldAppdiv
        a
    section

    !-- Voucher Modal (Dynamic) --
    div id=voucher-modal class=modal-overlay
        div class=modal-content relative bg-white max-h-[90vh] overflow-y-auto
            button onclick=closeVoucher() class=absolute top-4 right-4 text-gray-600 hovertext-gray-900 z-10 bg-white50 rounded-full p-1
                i data-lucide=x class=w-6 h-6i
            button
            
            div class=text-center mb-6
                h3 id=v-title class=text-lg font-bold text-jeju-dark mt-2h3
            div

            !-- Images Container --
            div id=v-custom-images class=grid gap-4div
        div
    div

    !-- Info Modal (Lounge) --
    div id=info-modal class=modal-overlay
        div class=modal-content relative bg-white
            button onclick=closeInfo() class=absolute top-4 right-4 text-gray-400 hovertext-gray-600
                i data-lucide=x class=w-6 h-6i
            button
            
            div class=text-center mb-4
                h3 class=text-lg font-bold text-jeju-dark flex items-center justify-center gap-2
                    i data-lucide=map-pin class=w-5 h-5 text-jeju-orangei å—è‹‘è²´è³“å®¤æŒ‡å¼•
                h3
            div

            div class=space-y-4 text-sm text-gray-600 leading-relaxed
                div class=bg-orange-50 p-3 rounded-lg border border-orange-100
                    p class=font-bold text-jeju-dark mb-1ğŸ“ åœ°é»p
                    pé«˜é›„å°æ¸¯æ©Ÿå ´ åœ‹éš›èˆªå»ˆ 3F (å‡ºå¢ƒç®¡åˆ¶å€å…§)p
                div

                div
                    p class=font-bold text-jeju-dark mb-2ğŸš¶â€â™‚ï¸ å¦‚ä½•å‰å¾€p
                    ul class=list-disc pl-5 space-y-1
                        lié€šéè­‰ç…§æŸ¥é©—æ«ƒæª¯é€²å…¥å…ç¨…åº—å€ã€‚li
                        liç›´æ¥span class=text-jeju-orange font-boldã€Œå‘å·¦è½‰ã€span(å¾€ 21-26 ç™»æ©Ÿé–€æ–¹å‘)ã€‚li
                        liæ²¿è‘—é•·å»Šç›´èµ°åˆ°åº•ã€‚li
                        liä½æ–¼ span class=font-bold text-jeju-dark22 è™Ÿç™»æ©Ÿé–€span é™„è¿‘ã€‚li
                    ul
                div

                div
                    p class=font-bold text-jeju-dark mb-1ğŸ‘€ è¾¨è­˜ç‰¹å¾µp
                    på¤–è§€ç‚ºå¾©å¤ç´…ç£šç‰†èˆ‡åœ“å½¢æ‹±é–€è¨­è¨ˆï¼Œå‘ˆç¾ã€Œè˜‡å·åº­åœ’ã€é¢¨æ ¼ã€‚p
                div
            div
            
            div class=mt-6
                 button onclick=closeInfo() class=w-full bg-jeju-dark text-white py-3 rounded-xl font-bold text-sm shadow-lg activescale-95 transitionçŸ¥é“äº†button
            div
        div
    div

    !-- Pickup Info Modal (Car) --
    div id=pickup-modal class=modal-overlay
        div class=modal-content relative bg-white
            button onclick=closePickup() class=absolute top-4 right-4 text-gray-400 hovertext-gray-600
                i data-lucide=x class=w-6 h-6i
            button
            
            div class=text-center mb-4
                h3 class=text-lg font-bold text-jeju-dark flex items-center justify-center gap-2
                    i data-lucide=car class=w-5 h-5 text-jeju-orangei æ¨‚å¤©ç§Ÿè»Šå–è»ŠæŒ‡å¼•
                h3
            div

            div class=space-y-4 text-sm text-gray-600 leading-relaxed
                div class=bg-blue-50 p-3 rounded-lg border border-blue-100
                    p class=font-bold text-jeju-dark mb-1ğŸ“ æ¥é§åœ°é»p
                    pæ¿Ÿå·åœ‹éš›æ©Ÿå ´ GATE 5 å‡ºå£å¤–p
                div

                div
                    p class=font-bold text-jeju-dark mb-2ğŸš¶â€â™‚ï¸ å¦‚ä½•å‰å¾€æ¥é§è»Šp
                    ul class=list-disc pl-5 space-y-1
                        lié ˜å–è¡Œæå¾Œï¼Œè«‹å¾€ strongGATE 2strong æ–¹å‘å°‹æ‰¾æ¨‚å¤©ç§Ÿè»Šæ«ƒæª¯(å¯ç¢ºèªé ç´„)ã€‚li
                        liå¾ strongGATE 5strong å‡ºå£é›¢é–‹èˆªå»ˆã€‚li
                        liéæ–‘é¦¬ç·šåˆ°å°é¢çš„ç§Ÿè»Šæ¥é§å€ã€‚li
                        liå°‹æ‰¾ strongLotte Rent-a-Car (íƒ€ìš” Bus)strong æ¥é§è»Šã€‚li
                        liæ¥é§è»Šæ¯ 8-15 åˆ†é˜ä¸€ç­ã€‚li
                    ul
                div

                div
                    p class=font-bold text-jeju-dark mb-1ğŸšŒ æ¥é§è»Šç‰¹å¾µp
                    pé€šå¸¸æ˜¯æœ‰ã€ŒTayo å°å·´å£«ã€åœ–æ¡ˆçš„å¯æ„›å…¬è»Šï¼Œéå¸¸é¡¯çœ¼ï¼p
                div
            div
            
            div class=mt-6
                 button onclick=closePickup() class=w-full bg-jeju-dark text-white py-3 rounded-xl font-bold text-sm shadow-lg activescale-95 transitionçŸ¥é“äº†button
            div
        div
    div

    !-- åº•éƒ¨å°èˆªåˆ— --
    nav class=fixed bottom-0 left-0 right-0 h-20 bg-white border-t border-gray-100 flex justify-around items-center px-2 z-50 pb-2
        button onclick=switchView('flight') id=nav-flight class=nav-item active flex flex-col items-center justify-center w-16 h-full text-jeju-dark
            i data-lucide=plane class=w-6 h-6 mb-1i
            span class=text-[10px] font-boldèˆªç­span
        button
        button onclick=switchView('schedule') id=nav-schedule class=nav-item flex flex-col items-center justify-center w-16 h-full text-gray-400 hovertext-jeju-dark
            i data-lucide=calendar-days class=w-6 h-6 mb-1i
            span class=text-[10px] font-boldè¡Œç¨‹span
        button
        button onclick=switchView('money') id=nav-money class=nav-item flex flex-col items-center justify-center w-16 h-full text-gray-400 hovertext-jeju-dark
            i data-lucide=wallet class=w-6 h-6 mb-1i
            span class=text-[10px] font-boldè¨˜å¸³span
        button
        button onclick=switchView('booking') id=nav-booking class=nav-item flex flex-col items-center justify-center w-16 h-full text-gray-400 hovertext-jeju-dark
            i data-lucide=ticket class=w-6 h-6 mb-1i
            span class=text-[10px] font-boldè¨‚ä½span
        button
    nav

    script
        lucide.createIcons();

         Voucher Data
        const voucherData = {
            'HRG192574' {
                title 'Aqua Planet æ°´æ—é¤¨é–€ç¥¨',
                 â†“â†“â†“ è«‹å°‡ä¸‹æ–¹çš„é€£çµæ›¿æ›ç‚ºæ‚¨ GitHub ä¸Šçš„ Raw åœ–ç‰‡é€£çµ â†“â†“â†“
                voucherImages [
                    'httpsraw.githubusercontent.comæ‚¨çš„å¸³è™Ÿjeju-trip-imagesmainAqua%20Planet1.png',
                    'httpsraw.githubusercontent.comæ‚¨çš„å¸³è™Ÿjeju-trip-imagesmainAqua%20Planet2.png'
                ]
            },
            'WNF147844' {
                title 'ç§Ÿè»Š- ç¾ä»£ Staria æˆ–åŒç´š',
                  â†“â†“â†“ è«‹å°‡ä¸‹æ–¹çš„é€£çµæ›¿æ›ç‚ºæ‚¨ GitHub ä¸Šçš„ Raw åœ–ç‰‡é€£çµ â†“â†“â†“
                voucherImages [
                     'httpsraw.githubusercontent.comæ‚¨çš„å¸³è™Ÿjeju-trip-imagesmainLotte_Rental_Voucher.png'
                ]
            },
            'WNF147844' {
                title 'ç§Ÿè»Š- ç¾ä»£ Staria æˆ–åŒç´š',
                  â†“â†“â†“ è«‹åœ¨é€™è£¡æ›¿æ›æˆæ‚¨çš„ GitHub åœ–ç‰‡é€£çµ â†“â†“â†“
                voucherImages [
                     'Lotte_Rental_Voucher.png'
                ]
            },
              é£¯åº—æ†‘è­‰è³‡æ–™
            'Maison_Glad' {
                title 'æ¿Ÿå·Glad Maisoné£¯åº—',
                voucherImages ['Maison_Glad_Voucher.png']
            },
            'Coop_City' {
                title 'åŸå±±è²æ–¯ç‰¹é£¯åº—',
                voucherImages ['Coop_City_Voucher.png']
            },
            'Shinhwa_Landing' {
                title 'ç¥è©±ä¸–ç•Œ-è—é¼',
                voucherImages ['Shinhwa_Landing_Voucher.png']
            },
            'Hotel_Leo' {
                title 'åˆ©å¥§é£¯åº—',
                voucherImages ['Hotel_Leo_Voucher.png']
            }
        };

         Modal Logic
        function openVoucher(id) {
            const data = voucherData[id];
            if (!data) return;

            document.getElementById('v-title').textContent = data.title;
            const customImagesContainer = document.getElementById('v-custom-images');
            
            if (data.voucherImages && data.voucherImages.length  0) {
                customImagesContainer.classList.remove('hidden');
                customImagesContainer.innerHTML = data.voucherImages.map(url = 
                    `img src=.${url} class=w-full rounded-lg mb-4 border border-gray-200 shadow-sm alt=Voucher Image onerror=this.onerror=null; this.src='httpsplacehold.co600x800f3f4f6333333text=è«‹ä¸Šå‚³+${url}';`
                ).join('');
            } else {
                customImagesContainer.innerHTML = 'p class=text-center text-gray-500 py-4æš«ç„¡åœ–ç‰‡p';
            }

            document.getElementById('voucher-modal').classList.add('active');
        }
        
        function closeVoucher() {
            document.getElementById('voucher-modal').classList.remove('active');
        }

         é˜»æ­¢äº‹ä»¶å†’æ³¡ (é¿å…é»æ“ŠæŒ‰éˆ•æ™‚è§¸ç™¼å¤–å±¤é€£çµ)
        document.querySelectorAll('button[onclick^=openVoucher]').forEach(btn = {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
            });
        });

         Info Modal Logic
        function openInfo() {
            document.getElementById('info-modal').classList.add('active');
        }
        function closeInfo() {
            document.getElementById('info-modal').classList.remove('active');
        }

         Pickup Info Modal Logic
        function openPickup() {
            document.getElementById('pickup-modal').classList.add('active');
        }
        function closePickup() {
            document.getElementById('pickup-modal').classList.remove('active');
        }

         èˆªç­åˆ‡æ›
        function switchFlightTab(type) {
            document.getElementById('flight-outbound').classList.add('hidden');
            document.getElementById('flight-inbound').classList.add('hidden');
            document.getElementById('tab-outbound').classList.remove('active');
            document.getElementById('tab-inbound').classList.remove('active');

            document.getElementById('flight-' + type).classList.remove('hidden');
            document.getElementById('tab-' + type).classList.add('active');
        }

         ä¹˜å®¢è³‡è¨ŠæŠ˜ç–Š
        function togglePassengerDetails(id, arrowId) {
            const details = document.getElementById(id);
            const arrow = document.getElementById(arrowId);
            details.classList.toggle('open');
            arrow.classList.toggle('open');
        }

         è¡Œç¨‹è³‡æ–™æ²å‹•
        function scrollToEvent(day, index) {
             åˆ‡æ›åˆ°è¡Œç¨‹åˆ†é 
            switchView('schedule');
            
             å¦‚æœä¸åœ¨ç•¶å¤©ï¼Œå…ˆåˆ‡æ›æ—¥æœŸ
            if (currentDay !== day) {
                switchDay(day);
            }

             ç­‰å¾…æ¸²æŸ“å®Œæˆå¾Œæ²å‹•
            setTimeout(() = {
                const element = document.getElementById(`event-${day}-${index}`);
                if (element) {
                    element.scrollIntoView({ behavior 'smooth', block 'center' });
                     æ·»åŠ é«˜äº®å‹•ç•«æ•ˆæœ
                    element.classList.add('ring-2', 'ring-jeju-orange', 'ring-offset-2', 'rounded-xl');
                    setTimeout(() = {
                        element.classList.remove('ring-2', 'ring-jeju-orange', 'ring-offset-2', 'rounded-xl');
                    }, 2000);
                }
            }, 100);
        }

         æ—¥æœŸè¨­å®š
        const dayConfig = [
            { day 1, date '130', week 'é€±äº”' },
            { day 2, date '131', week 'é€±å…­', isWeekend true },
            { day 3, date '21', week 'é€±æ—¥', isWeekend true },
            { day 4, date '22', week 'é€±ä¸€' },
            { day 5, date '23', week 'é€±äºŒ' },
            { day 6, date '24', week 'é€±ä¸‰' },
            { day 7, date '25', week 'é€±å››' },
            { day 8, date '26', week 'é€±äº”' }
        ];

         é è¨­è³‡æ–™
        const defaultScheduleData = {
            1 [
                { time '1330', title 'å—è‹‘è²´è³“å®¤', desc 'æ©Ÿå ´å‡ºå¢ƒå·¦è½‰ (é»æˆ‘çœ‹æŒ‡å¼•)', type 'food', link 'httpsorange.udn.comorangestory1214179179081', image '', hasInfo true },
                { transport 'âœˆï¸ é£›è¡Œ 2hr 25m' },
                { time '1600', title 'å¿«æ¨‚èµ·é£› IT670', desc 'å‰å¾€æ¿Ÿå·å³¶ âœˆï¸', type 'transport', link '', image '', weather 'ğŸŒ¤ï¸ 6Â°C' },
                { transport 'ğŸš— æ¥é§è»Š 10m (GATE 5 å‡ºå£å¤–)', link 'httpsmap.naver.compsearchë¡¯ë°ë Œí„°ì¹´%20ì œì£¼ì˜¤í† í•˜ìš°ìŠ¤' },
                { time '2030', title 'æ¨‚å¤©ç§Ÿè»Šå–è»Š', desc 'GATE 5 æ­æ¥é§è»Š (é»æˆ‘çœ‹æŒ‡å¼•)', type 'car', link 'httpswww.klook.comzh-TWbookingsspm=SearchResult.TopNavigation.Booking&clickId=0e3d45c0b7', hasPickup true },
                { transport 'ğŸš— é–‹è»Š 10m', link 'httpsmap.naver.compdirections-14149023.7538965,3960305.2109673,Maison%20Glad%20Jeju,11566418' }, 
                { time '2100', title 'æ¿Ÿå·Glad Maisoné£¯åº—', desc 'Check-in ä¼‘æ¯', type 'hotel', link 'httpsmap.naver.compsearchë©”ì¢…ê¸€ë˜ë“œì œì£¼' }
            ],
            2 [
                 { time '0900', title 'æ¿Ÿå·Glad Maisoné£¯åº—', desc 'æ—©å®‰ï¼æº–å‚™å‰å¾€æ±éƒ¨', type 'hotel', link 'httpsmap.naver.compsearchë©”ì¢…ê¸€ë˜ë“œì œì£¼', weather 'â˜€ï¸ 7Â°C' },
                 { transport 'ğŸš— é–‹è»Š 52m', link 'httpsmap.naver.compsearchëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„%20ì œì£¼' },
                 { time '1010', title 'å€«æ•¦è²æœåšç‰©é¤¨', desc 'Catch Table å…ˆå€™ä½', type 'food', link 'httpswww.catchtable.netzh-TWshoplondon_bagel_museum_jeju' },
                 { transport 'ğŸš— é–‹è»Š 7m', link 'httpsmap.naver.compsearchì œì£¼%20í•´ë…€ê¹€ë°¥%20ë³¸ì ' },
                 { time '1100', title 'æµ·å¥³é£¯æ²', desc 'å¤–å¸¶å»é‡é¤', type 'food', link 'httpsmap.naver.compsearchì œì£¼%20í•´ë…€ê¹€ë°¥%20ë³¸ì ' },
                 { transport 'ğŸš— é–‹è»Š 18m', link 'httpsmap.naver.compsearchëŒë‹´ë‹¹ê·¼' },
                 { time '1150', title 'ä¸‰é”é‡Œå°æ‘ & Doldam Carrot', desc 'éŸ“åŠ‡è¸©é»ã€ç´…è˜¿è””è›‹ç³•', type 'fun', link 'httpsmap.naver.compsearchëŒë‹´ë‹¹ê·¼' },
                 { transport 'ğŸš— é–‹è»Š 25m', link 'httpsmap.naver.compsearchì˜¤ë“œë‘ë² ì´ì»¤ë¦¬' },
                 { time '1330', title 'Audrant Bakery & å’¸å¾·æµ·ç˜', desc 'å¤§è’œéºµåŒ…ã€è¸©æ°´', type 'food', link 'httpsdpm2bb.com2025-62', hasInfo false },
                 { transport 'ğŸš— é–‹è»Š 28m', link 'httpsmap.naver.compsearchì œì£¼ë ˆì¼ë°”ì´í¬' },
                 { time '1500', title 'æ¿Ÿå·éµé“è‡ªè¡Œè»Š', desc 'é¾è‡¥å²³èˆ‡æœˆæœ—å³°', type 'fun', link 'httpsmap.naver.compsearchì œì£¼ë ˆì¼ë°”ì´í¬' },
                 { transport 'ğŸš— é–‹è»Š 18m', link 'httpsmap.naver.compsearchì—ì½”ëœë“œ' },
                 { time '1600', title 'ECOLAND æ£®æ—å°ç«è»Š', desc 'æ­ä¹˜æœ«ç­å‰ç«è»Š', type 'fun', link 'httpsmap.naver.compsearchì—ì½”ëœë“œ' },
                 { transport 'ğŸš— é–‹è»Š 38m', link 'httpsmap.naver.compsearchì½”ì—…ì‹œí‹°í˜¸í…”%20ì„±ì‚°' },
                 { time '1810', title 'æ¿Ÿå·åŸå±±è²æ–¯ç‰¹é£¯åº—', desc 'Check-in', type 'hotel', link 'httpsmap.naver.compsearchì½”ì—…ì‹œí‹°í˜¸í…”%20ì„±ì‚°' },
                 { transport 'ğŸš¶ æ­¥è¡Œ 3m', link 'httpsmap.naver.compsearchë¶€ì´Œì‹ë‹¹' },
                 { time '1900', title 'æ™šé¤-å¯Œæ‘é£Ÿå ‚', desc 'ç™½å¸¶é­šé¯–é­šæ–™ç†', type 'food', link 'httpsmap.naver.compsearchë¶€ì´Œì‹ë‹¹' }
            ],
            3 [
                 { time '0800', title 'åŸå±±è²æ–¯ç‰¹é£¯åº—', desc 'å‰å¾€æ¸¯å£æ­èˆ¹', type 'hotel', link 'httpsmap.naver.compsearchì½”ì—…ì‹œí‹°í˜¸í…”%20ì„±ì‚°', weather 'â›… 8Â°C' },
                 { transport 'ğŸš— é–‹è»Š 7m', link 'httpsmap.naver.compsearchì„±ì‚°í¬í•­ì¢…í•©ì—¬ê°í„°ë¯¸ë„' },
                 { time '0830', title 'åŸå±±æ¸¯ (æ­èˆ¹)', desc 'å¡«å¯«ä¹˜èˆ¹å–®ï¼Œè»Šè¼›ä¸Šèˆ¹', type 'ship', link 'httpsmap.naver.compsearchì„±ì‚°í¬í•­ì¢…í•©ì—¬ê°í„°ë¯¸ë„' },
                 { transport 'ğŸš¢ æ¸¡è¼ª 15m', link '' },
                 { time '0900', title 'ç‰›å³¶ (Udo)', desc 'æŠµé”å¤©æ´¥æ¸¯æˆ–ä¸‹ç‰›æœ¨æ´æ¸¯', type 'fun', link 'httpsmap.naver.compsearchìš°ë„' },
                 { transport 'ğŸš— ç’°å³¶ 15m', link 'httpsmap.naver.compsearchìš°ë„ë´‰' },
                 { time '0930', title 'ç‰›å³¶å³° & æ±å²¸é¯¨çªŸ', desc 'å£¯è§€æµ·è•æ´èˆ‡å±±æ™¯', type 'fun', link 'httpsmap.naver.compsearchìš°ë„ë´‰' },
                 { transport 'ğŸš— ç’°å³¶ 10m', link 'httpsmap.naver.compsearchí•˜ê³ ìˆ˜ë™í•´ìˆ˜ìš•ì¥' },
                 { time '1030', title 'ä¸‹é«˜æ°´æ´æµ·æ°´æµ´å ´', desc 'Tiffanyè—æµ·ç˜ã€ç¶²ç¾å’–å•¡', type 'fun', link 'httpsmap.naver.compsearchí•˜ê³ ìˆ˜ë™í•´ìˆ˜ìš•ì¥' },
                 { transport 'ğŸš— ç’°å³¶ 5m', link 'httpsmap.naver.compsearchì§€ë¯¸ìŠ¤' },
                 { time '1130', title 'Jimmys èŠ±ç”Ÿå†°æ·‡æ·‹', desc 'ç‰›å³¶å¿…åƒåç”¢', type 'food', link 'httpsmap.naver.compsearchì§€ë¯¸ìŠ¤' },
                 { transport 'ğŸš— ç’°å³¶ 10m', link 'httpsmap.naver.compsearchì„œë¹ˆë°±ì‚¬' },
                 { time '1200', title 'è¥¿æ¿±ç™½æ²™ (çŠç‘šæ²™)', desc 'éŸ“åœ‹å”¯ä¸€çŠç‘šæ²™ç˜', type 'fun', link 'httpsmap.naver.compsearchì„œë¹ˆë°±ì‚¬' },
                 { transport 'ğŸš¢ æ¸¡è¼ª 15m', link '' },
                 { time '1300', title 'è¿”å›åŸå±±æ¸¯', desc 'æ­èˆ¹é›¢é–‹ç‰›å³¶', type 'ship', link 'httpsmap.naver.compsearchì„±ì‚°í¬í•­ì¢…í•©ì—¬ê°í„°ë¯¸ë„' },
                 { transport 'ğŸš— é–‹è»Š 10m', link 'httpsmap.naver.compsearchì•„ì¿ ì•„í”Œë¼ë„·%20ì œì£¼' },
                 { time '1400', title 'Aqua Planet', desc 'æ°´æ—é¤¨', type 'fun', link 'httpswww.klook.comzh-TWbookingsspm=SearchResult.TopNavigation.Booking&clickId=0e3d45c0b7' },
                 { transport 'ğŸš— é–‹è»Š 6m', link 'httpsmap.naver.compsearchê¸ˆë—%20ì„±ì‚°%20í‘ë¼ì§€' },
                 { time '1730', title 'é»‘æ¯›è±¬æ™šé¤', desc 'ê¸ˆë— ì„±ì‚°', type 'food', link 'httpsmap.naver.compsearchê¸ˆë—%20ì„±ì‚°%20í‘ë¼ì§€' },
                 { transport 'ğŸš— é–‹è»Š 8m', link 'httpsmap.naver.compsearchì½”ì—…ì‹œí‹°í˜¸í…”%20ì„±ì‚°' },
                 { time '1930', title 'åŸå±±è²æ–¯ç‰¹é£¯åº—', desc 'ä¼‘æ¯', type 'hotel', link 'httpsmap.naver.compsearchì½”ì—…ì‹œí‹°í˜¸í…”%20ì„±ì‚°' }
            ],
            4 [
                 { time '0930', title 'åŸå±±è²æ–¯ç‰¹é£¯åº—', desc 'é€€æˆ¿ï¼Œå‰å¾€è¥¿æ­¸æµ¦', type 'hotel', link 'httpsmap.naver.compsearchì½”ì—…ì‹œí‹°í˜¸í…”%20ì„±ì‚°', weather 'â˜ï¸ 9Â°C' },
                 { transport 'ğŸš— é–‹è»Š 60m', link 'httpsmap.naver.compsearchì •ë°©í­í¬' },
                 { time '1030', title 'æ­£æˆ¿ç€‘å¸ƒ', desc 'ç›´å…¥å¤§æµ·', type 'fun', link 'httpsmap.naver.compsearchì •ë°©í­í¬' },
                 { transport 'ğŸš— é–‹è»Š 5m', link 'httpsmap.naver.compsearchì„œê·€í¬%20ë§¤ì¼%20ì˜¬ë ˆì‹œì¥' },
                 { time '1120', title 'å¶ä¾†å¸‚å ´', desc 'åˆé¤ä¼´æ‰‹ç¦®', type 'food', link 'httpsmap.naver.compsearchì„œê·€í¬%20ë§¤ì¼%20ì˜¬ë ˆì‹œì¥' },
                 { transport 'ğŸš— é–‹è»Š 35m', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€' },
                 { time '1500', title 'ç¥è©±ä¸–ç•Œ-è—é¼', desc 'Check-in', type 'hotel', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€' },
                 { time '1800', title 'è—é¼è‡ªåŠ©æ™šé¤', desc 'è±ªè¯Buffet', type 'food', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€%20ë””ë„ˆ' },
                 { transport 'ğŸš¶ æ­¥è¡Œè¿”å›', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€' },
                 { time '2000', title 'ç¥è©±ä¸–ç•Œ-è—é¼', desc 'ä¼‘æ¯', type 'hotel', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€' }
            ],
            5 [
                 { time '0930', title 'ç¥è©±ä¸–ç•Œ-è—é¼', desc 'åœ¨æ¸¡å‡æ‘å…§éŠç©', type 'hotel', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€', weather 'ğŸŒ¤ï¸ 8Â°C' },
                 { transport 'ğŸš¶ æ­¥è¡Œå‰å¾€', link 'httpsmap.naver.compsearchì‹ í™”í…Œë§ˆíŒŒí¬' },
                 { time '1000', title 'ç¥è©±ä¸»é¡Œå…¬åœ’', desc 'Big3 åˆ¸ä½¿ç”¨', type 'fun', link 'httpsmap.naver.compsearchì‹ í™”í…Œë§ˆíŒŒí¬' },
                 { transport 'ğŸš— é–‹è»Š 6m', link 'httpsmap.naver.compsearchì˜¤ì„¤ë¡%20í‹°ë®¤ì§€ì—„' },
                 { time 'PM', title 'Osulloc ç¶ èŒ¶åœ’', desc 'è‡ªç”±è¡Œç¨‹', type 'fun', link 'httpsmap.naver.compsearchì˜¤ì„¤ë¡%20í‹°ë®¤ì§€ì—„' },
                 { transport 'ğŸš— é–‹è»Š 6m', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€' },
                 { time '1800', title 'ç¥è©±ä¸–ç•Œ-è—é¼', desc 'ä¼‘æ¯', type 'hotel', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€' }
            ],
            6 [
                 { time '0930', title 'ç¥è©±ä¸–ç•Œ-è—é¼', desc 'é€€æˆ¿ï¼Œå‰å¾€å¸‚å€', type 'hotel', link 'httpsmap.naver.compsearchì œì£¼ì‹ í™”ì›”ë“œ%20ëœë”©ê´€', weather 'â˜€ï¸ 7Â°C' },
                 { transport 'ğŸš— é–‹è»Š 12m', link 'httpsmap.naver.compsearchë½€ë¡œë¡œì•¤íƒ€ìš”%20í…Œë§ˆíŒŒí¬%20ì œì£¼' },
                 { time '1000', title 'Pororo æ¨‚åœ’', desc 'å®¤å…§éŠæ¨‚å ´', type 'fun', link 'httpsmap.naver.compsearchë½€ë¡œë¡œì•¤íƒ€ìš”%20í…Œë§ˆíŒŒí¬%20ì œì£¼' },
                 { transport 'ğŸš— é–‹è»Š 38m', link 'httpsmap.naver.compsearchë„ë‘ë™%20ë¬´ì§€ê°œ%20í•´ì•ˆë„ë¡œ' },
                 { time '1630', title 'å½©è™¹æµ·å²¸å…¬è·¯', desc 'æ‹ç…§æ‰“å¡', type 'fun', link 'httpsmap.naver.compsearchë„ë‘ë™%20ë¬´ì§€ê°œ%20í•´ì•ˆë„ë¡œ' },
                 { transport 'ğŸš— é–‹è»Š 12m', link 'httpsmap.naver.compsearchìˆ™ì„±ë„%20ì œì£¼' },
                 { time '1830', title 'ç†Ÿæˆåˆ°', desc 'å¿…åƒç‡’è‚‰', type 'food', link 'httpswww.catchtable.netzh-TWshopsuksungdo_jeju' },
                 { transport 'ğŸš— é–‹è»Š 8m', link 'httpsmap.naver.compsearchí˜¸í…”%20ë ˆì˜¤' },
                 { time '2000', title 'åˆ©å¥§é£¯åº—', desc 'Check-in', type 'hotel', link 'httpsmap.naver.compsearchí˜¸í…”%20ë ˆì˜¤' }
            ],
            7 [
                 { time '0930', title 'åˆ©å¥§é£¯åº—', desc 'å‡ºç™¼å¸‚å€æ¡è²·', type 'hotel', link 'httpsmap.naver.compsearchí˜¸í…”%20ë ˆì˜¤', weather 'â˜ï¸ 6Â°C' },
                 { transport 'ğŸš— é–‹è»Š 14m', link 'httpsmap.naver.compsearchì œì£¼%20ë™ë¬¸ì‹œì¥' },
                 { time '1000', title 'æ¿Ÿå·æ±é–€å¸‚å ´', desc 'æ¡è²·æ©˜å­æœä¹¾ã€ä¼´æ‰‹ç¦®', type 'food', link 'httpsmap.naver.compsearchì œì£¼%20ë™ë¬¸ì‹œì¥' },
                 { transport 'ğŸš— é–‹è»Š 8m', link 'httpsmap.naver.compsearchìë§¤êµ­ìˆ˜' },
                 { time '1230', title 'åˆé¤-å§Šå¦¹éºµæ¢', desc 'å¿…åƒè±¬è‚‰æ¹¯éºµ', type 'food', link 'httpsmap.naver.compsearchìë§¤êµ­ìˆ˜' },
                 { transport 'ğŸš— é–‹è»Š 12m', link 'httpsmap.naver.compsearchë¸Œë¦­ìº í¼ìŠ¤%20ì œì£¼' },
                 { time '1400', title 'Brick Campus', desc 'æ¨‚é«˜ç©æœ¨æ ¡åœ’', type 'fun', link 'httpsmap.naver.compsearchë¸Œë¦­ìº í¼ìŠ¤%20ì œì£¼' },
                 { transport 'ğŸš— é–‹è»Š 10m', link 'httpsmap.naver.compsearchë¡¯ë°ë§ˆíŠ¸%20ì œì£¼ì ' },
                 { time '1630', title 'è“®æ´å•†åœˆ  æ¨‚å¤©è¶…å¸‚', desc 'é€›è¡—ã€è¶…å¸‚è£œè²¨', type 'food', link 'httpsmap.naver.compsearchë¡¯ë°ë§ˆíŠ¸%20ì œì£¼ì ' },
                 { transport 'ğŸš¶ æ­¥è¡Œå‰å¾€', link 'httpsmap.naver.compsearchêµì´Œì¹˜í‚¨%20ì—°ë™ì ' },
                 { time '1830', title 'æ™šé¤-æ©‹æ‘ç‚¸é›', desc 'èœ‚èœœç‚¸é› (è“®æ´åº—)', type 'food', link 'httpsmap.naver.compsearchêµì´Œì¹˜í‚¨%20ì—°ë™ì ' },
                 { transport 'ğŸš¶ æ­¥è¡Œè¿”å›', link 'httpsmap.naver.compsearchí˜¸í…”%20ë ˆì˜¤' },
                 { time '2000', title 'åˆ©å¥§é£¯åº—', desc 'ä¼‘æ¯', type 'hotel', link 'httpsmap.naver.compsearchí˜¸í…”%20ë ˆì˜¤' }
            ],
            8 [
                 { time '1000', title 'åˆ©å¥§é£¯åº—', desc 'é€€æˆ¿ï¼Œæœ€å¾Œæ¡è²·', type 'hotel', link 'httpsmap.naver.compsearchí˜¸í…”%20ë ˆì˜¤', weather 'â›… 4Â°C' },
                 { transport 'ğŸš— é–‹è»Š 12m', link 'httpsmap.naver.compsearchì´í˜¸í…Œìš°%20ë§ë“±ëŒ€' },
                 { time '1030', title 'æ¢¨æ¹–å°é¦¬ç‡ˆå¡”', desc 'æœ€å¾Œåˆå½±', type 'fun', link 'httpsmap.naver.compsearchì´í˜¸í…Œìš°%20ë§ë“±ëŒ€' },
                 { transport 'ğŸš— é–‹è»Š 18m', link 'httpsmap.naver.compsearchì• ì›”ì¹´í˜ê±°ë¦¬' },
                 { time '1230', title 'æ„›æœˆé‚‘å’–å•¡è¡—', desc 'æµ·æ™¯å’–å•¡ã€åˆé¤è¼•é£Ÿ', type 'food', link 'httpsmap.naver.compsearchì• ì›”ì¹´í˜ê±°ë¦¬' },
                 { transport 'ğŸš— é–‹è»Š 15m', link 'httpsmap.naver.compsearchì•„ë¥´ë–¼ë®¤ì§€ì—„%20ì œì£¼' },
                 { time '1500', title 'Arte Museum', desc 'å…‰å½±è—è¡“é¤¨ (æˆ–9.81è³½è»Š)', type 'fun', link 'httpsmap.naver.compsearchì•„ë¥´ë–¼ë®¤ì§€ì—„%20ì œì£¼' },
                 { transport 'ğŸš— é–‹è»Š 30m', link 'httpsmap.naver.compsearchë¡¯ë°ë Œí„°ì¹´%20ì œì£¼ì˜¤í† í•˜ìš°ìŠ¤' },
                 { time '1700', title 'é‚„è»Š (æ¨‚å¤©ç§Ÿè»Š)', desc 'é ç•™å¡è»Šæ™‚é–“', type 'car', link 'httpswww.klook.comzh-TWbookingsspm=SearchResult.TopNavigation.Booking&clickId=0e3d45c0b7' },
                 { transport 'ğŸšŒ æ¥é§è»Š 10m', link '' },
                 { time '1815', title 'æ¿Ÿå·æ©Ÿå ´å ±åˆ°', desc 'æº–å‚™æ­æ©Ÿ', type 'transport', link '' },
                 { time '2015', title 'èµ·é£› IT671', desc 'Bye Jeju!', type 'transport', link '', weather 'ğŸŒ™ 4Â°C' }
            ]
        };

        let scheduleData = {};
        let currentDay = 1;

         è¨˜å¸³è³‡æ–™
        let expenses = [];
        let expenseIdCounter = 0;

         åˆå§‹åŒ–
        function initData() {
             è¡Œç¨‹è³‡æ–™ (v45) - å‡ç´šç‰ˆæœ¬è™Ÿä»¥è¼‰å…¥æ–°è¨­å®š
            const storedSchedule = localStorage.getItem('jeju_schedule_data_v45');
            try {
                if (storedSchedule) {
                    scheduleData = JSON.parse(storedSchedule);
                } else {
                    scheduleData = JSON.parse(JSON.stringify(defaultScheduleData));
                }
            } catch (e) {
                console.error(Data parse error, e);
                scheduleData = JSON.parse(JSON.stringify(defaultScheduleData));
            }

             è¨˜å¸³è³‡æ–™ (expenses_v1)
            const storedExpenses = localStorage.getItem('jeju_expenses_v1');
            if (storedExpenses) {
                try {
                    expenses = JSON.parse(storedExpenses);
                     æ‰¾å‡ºæœ€å¤§çš„ ID ä»¥å»¶çºŒè¨ˆæ•¸
                    if(expenses.length  0) {
                        expenseIdCounter = Math.max(...expenses.map(e = e.id)) + 1;
                    }
                } catch(e) {
                    console.error(Expenses parse error, e);
                    expenses = [];
                }
            }

            renderExpenses();
            updateTotal();
        }

         æ‰‹å‹•è¨­å®šåŒ¯ç‡
        function manualRateUpdate() {
            const newRate = prompt(è«‹è¼¸å…¥è‡ªè¨‚åŒ¯ç‡ (1 KRW =  TWD), currentRate);
            if (newRate && !isNaN(newRate)) {
                currentRate = parseFloat(newRate);
                updateRateDisplay();
                alert(`åŒ¯ç‡å·²æ›´æ–°ç‚º ${currentRate}`);
            }
        }

        function updateRateDisplay() {
            const rateDisplay = document.getElementById('rate-display');
            rateDisplay.textContent = `1 KRW â‰ˆ ${currentRate.toFixed(4)} TWD`;
             é‡æ–°è¨ˆç®—æ›ç®—å™¨
            calcTWD();
             é‡æ–°æ¸²æŸ“åˆ—è¡¨ä»¥æ›´æ–°å°å¹£é‡‘é¡
            renderExpenses();
            updateTotal();
        }

         æ–°å¢è¨˜å¸³
        function addExpense() {
            const nameInput = document.getElementById('expense-name');
            const categorySelect = document.getElementById('expense-category');
            const amountInput = document.getElementById('expense-amount');

            const name = nameInput.value.trim();
            const category = categorySelect.value;
            const amount = parseFloat(amountInput.value);

            if (!name  isNaN(amount)) {
                alert(è«‹è¼¸å…¥é …ç›®åç¨±èˆ‡é‡‘é¡ï¼);
                return;
            }

            const newExpense = {
                id expenseIdCounter++,
                date new Date().toISOString(),  ç´€éŒ„ç•¶ä¸‹æ™‚é–“
                name name,
                category category,
                amountKRW amount
            };

            expenses.unshift(newExpense);  åŠ åˆ°æœ€å‰é¢
            saveExpenses();
            renderExpenses();
            updateTotal();

             æ¸…ç©ºè¼¸å…¥æ¡†
            nameInput.value = '';
            amountInput.value = '';
        }

         åˆªé™¤è¨˜å¸³
        function deleteExpense(id) {
            if(confirm('ç¢ºå®šè¦åˆªé™¤é€™ç­†ç´€éŒ„å—ï¼Ÿ')) {
                expenses = expenses.filter(e = e.id !== id);
                saveExpenses();
                renderExpenses();
                updateTotal();
            }
        }

         å„²å­˜è¨˜å¸³è³‡æ–™
        function saveExpenses() {
            localStorage.setItem('jeju_expenses_v1', JSON.stringify(expenses));
        }

         æ¸²æŸ“è¨˜å¸³åˆ—è¡¨
        function renderExpenses() {
            const listContainer = document.getElementById('expense-list');
            
            if (expenses.length === 0) {
                listContainer.innerHTML = `
                    div class=text-center py-10 opacity-50
                        div class=text-4xl mb-2ğŸ’¸div
                        p class=text-smé‚„æ²’æœ‰æ¶ˆè²»ç´€éŒ„å–”ï¼p
                    div`;
                return;
            }

            let html = '';
             å°æ‡‰åœ–ç¤º
            const icons = {
                food 'ğŸ½ï¸',
                transport 'ğŸš—',
                hotel 'ğŸ¨',
                shopping 'ğŸ›ï¸',
                fun 'ğŸ¡',
                other 'ğŸ“¦'
            };

            const colors = {
                food 'bg-rose-100 text-rose-600',
                transport 'bg-blue-100 text-blue-600',
                hotel 'bg-indigo-100 text-indigo-600',
                shopping 'bg-purple-100 text-purple-600',
                fun 'bg-green-100 text-green-600',
                other 'bg-gray-100 text-gray-600'
            };

            expenses.forEach(item = {
                const twd = Math.round(item.amountKRW  currentRate);
                const dateStr = new Date(item.date).toLocaleDateString();
                
                html += `
                div class=expense-item bg-white rounded-xl shadow-sm flex items-center justify-between p-4 relative group
                    div class=flex items-center gap-3
                        div class=category-icon w-10 h-10 rounded-full flex items-center justify-center text-lg ${colors[item.category]}
                            ${icons[item.category]}
                        div
                        div
                            p class=font-bold text-jeju-dark${item.name}p
                            p class=text-xs text-gray-400${dateStr}p
                        div
                    div
                    div class=text-right
                        p class=font-bold text-jeju-orangeâ‚© ${item.amountKRW.toLocaleString()}p
                        p class=text-xs text-gray-400â‰ˆ NT$ ${twd.toLocaleString()}p
                    div
                    button onclick=deleteExpense(${item.id}) class=absolute -right-2 -top-2 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs opacity-0 group-hoveropacity-100 transition shadow-mdâœ•button
                div`;
            });
            
            listContainer.innerHTML = html;
        }

         æ›´æ–°ç¸½è¨ˆ
        function updateTotal() {
            const totalKRW = expenses.reduce((sum, item) = sum + item.amountKRW, 0);
            const totalTWD = Math.round(totalKRW  currentRate);
            
            document.getElementById('total-twd').textContent = `NT$ ${totalTWD.toLocaleString()}`;
             å¯ä»¥åœ¨æ—é‚ŠåŠ å€‹å°å­—é¡¯ç¤ºéŸ“å¹£ç¸½é¡
            document.getElementById('total-twd').innerHTML += `span class=block text-[10px] text-gray-400 font-normalâ‚© ${totalKRW.toLocaleString()}span`;
        }

        function saveData() {
            localStorage.setItem('jeju_schedule_data_v45', JSON.stringify(scheduleData));
            switchDay(currentDay);
        }

        function editLink(day, index) {
            const event = scheduleData[day][index];
            const newLink = prompt('è«‹è¼¸å…¥ Naver Map ç¶²å€ (ç•™ç©ºå‰‡ç§»é™¤)', event.link  '');
            if (newLink !== null) {
                event.link = newLink.trim();
                saveData();
            }
        }
        
        function resetData() {
            if(confirm('ç¢ºå®šè¦é‡ç½®æ‰€æœ‰è³‡æ–™å—ï¼Ÿ')) {
                localStorage.removeItem('jeju_schedule_data_v45');
                localStorage.removeItem('jeju_expenses_v1');
                initData();
                switchDay(1);
            }
        }

        function renderDaySelector() {
            const container = document.getElementById('day-selector');
            let html = '';
            dayConfig.forEach(d = {
                const baseClass = d.isWeekend  'bg-rose-50 border-transparent text-rose-500'  'bg-white border-transparent text-gray-400';
                html += `
                button onclick=switchDay(${d.day}) class=day-btn flex-shrink-0 w-16 h-20 rounded-2xl flex flex-col items-center justify-center gap-1 border border-gray-100 transition-all shadow-sm ${baseClass} data-day=${d.day} data-weekend=${d.isWeekend  false}
                    span class=text-[10px] font-sans opacity-80${d.date} ${d.week}span
                    span class=text-xl font-bold font-cuteD${d.day}span
                button`;
            });
            container.innerHTML = html;
        }

        function switchView(viewId) {
            document.querySelectorAll('.view-section').forEach(el = el.classList.add('hidden'));
            document.getElementById('view-' + viewId).classList.remove('hidden');
            
            document.querySelectorAll('.nav-item').forEach(el = el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el = el.classList.replace('text-jeju-dark', 'text-gray-400'));
            
            const activeNav = document.getElementById('nav-' + viewId);
            activeNav.classList.add('active');
            activeNav.classList.replace('text-jeju-dark', 'text-gray-400');
            window.scrollTo({top 0, behavior 'smooth'});

             å¼·åˆ¶é‡ç¹ªè¡Œç¨‹é é¢ä»¥é¿å…ç©ºç™½
            if (viewId === 'schedule') {
                switchDay(currentDay);
            }
        }

        function switchDay(day) {
            currentDay = day;
            
             å®‰å…¨æª¢æŸ¥ï¼šè‹¥è³‡æ–™å°šæœªè¼‰å…¥å‰‡é‡æ–°åˆå§‹åŒ–
            if (!scheduleData  !scheduleData[day]) {
                console.warn(`Schedule data for day ${day} missing, re-initializing...`);
                scheduleData = JSON.parse(JSON.stringify(defaultScheduleData));
            }

            document.querySelectorAll('.day-btn').forEach(btn = {
                const isWeekend = btn.dataset.weekend === 'true';
                btn.classList.remove('ring-2', 'ring-jeju-orange', 'ring-rose-400', 'bg-white', 'text-jeju-dark');
                
                if(isWeekend) {
                    btn.className = day-btn flex-shrink-0 w-16 h-20 rounded-2xl flex flex-col items-center justify-center gap-1 border border-transparent transition-all shadow-sm bg-rose-50 text-rose-400;
                } else {
                    btn.className = day-btn flex-shrink-0 w-16 h-20 rounded-2xl flex flex-col items-center justify-center gap-1 border border-transparent transition-all shadow-sm bg-white text-gray-400;
                }

                if(parseInt(btn.dataset.day) === day) {
                    btn.classList.remove('text-gray-400', 'text-rose-400', 'bg-rose-50');
                    btn.classList.add('bg-jeju-dark', 'text-white', 'shadow-lg', 'transform', '-translate-y-1');
                }
            });

            const container = document.getElementById('day-content-container');
            const events = scheduleData[day]  [];
            
             ç”Ÿæˆè¡Œç¨‹é€Ÿè¦½ (æ©«å‘æµå‹•å¼) + åœ–ç¤ºåŒ–
            let overviewHtml = `div class=bg-white rounded-xl p-4 mb-6 shadow-sm border border-gray-100 relative overflow-hidden
                    div class=absolute top-0 left-0 w-1 h-full bg-jeju-orangediv
                    div class=flex flex-wrap items-center gap-y-2 text-xs leading-relaxed pl-1`;
                
            const meaningfulEvents = events.filter(e = !e.transport);
            meaningfulEvents.forEach((event, i) = {
                const originalIndex = events.indexOf(event);
                
                let iconName = 'circle';
                let iconColorClass = 'text-gray-400';
                if(event.type === 'food') { iconName = 'utensils'; iconColorClass = 'text-rose-500'; }
                if(event.type === 'transport') { iconName = 'plane'; iconColorClass = 'text-blue-500'; }
                if(event.type === 'hotel') { iconName = 'bed-double'; iconColorClass = 'text-indigo-500'; }
                if(event.type === 'fun') { iconName = 'party-popper'; iconColorClass = 'text-jeju-green'; }
                if(event.type === 'car') { iconName = 'car'; iconColorClass = 'text-gray-600'; }
                if(event.type === 'ship') { iconName = 'ship'; iconColorClass = 'text-cyan-500'; }

                overviewHtml += `
                    a onclick=scrollToEvent(${day}, ${originalIndex}) class=group flex items-center font-bold text-gray-600 hovertext-jeju-orange transition-colors overview-link cursor-pointer
                        i data-lucide=${iconName} class=w-3 h-3 mr-1 ${iconColorClass}i
                        span class=border-b-2 border-transparent group-hoverborder-jeju-orange pb-0.5${event.title}span
                    a
                `;
                
                if (i  meaningfulEvents.length - 1) {
                    overviewHtml += `
                        span class=mx-2 text-gray-300 flex items-center
                            i data-lucide=chevron-right class=w-3 h-3i
                        span
                    `;
                }
            });
            overviewHtml += `divdiv`;

            let detailHtml = '';
            events.forEach((event, index) = {
                if (event.transport) {
                     ä½¿ç”¨è³‡æ–™ä¸­çš„ linkï¼Œè‹¥ç„¡å‰‡ä¸é¡¯ç¤ºè¶…é€£çµ
                    let hasLink = event.link  true  false;
                    let nextEventLink = event.link  '#';

                    const linkClass = hasLink  'has-link'  'no-link';
                     å¦‚æœæ²’æœ‰ linkï¼Œå°±ä¸è¦ç”¨ a æ¨™ç±¤ï¼Œæ”¹ç”¨ div
                    const wrapper = hasLink 
                         `a href=${nextEventLink} target=_blank class=transport-pill ${linkClass}` 
                         `div class=transport-pill ${linkClass}`;
                    const wrapperEnd = hasLink  `a`  `div`;

                     Icon Logic for transport
                    let transIcon = '';
                    if (event.transport.includes('é–‹è»Š')) transIcon = 'i data-lucide=car class=w-3 h-3i';
                    else if (event.transport.includes('æ­¥è¡Œ')) transIcon = 'i data-lucide=footprints class=w-3 h-3i';
                    else if (event.transport.includes('é£›è¡Œ')) transIcon = 'i data-lucide=plane class=w-3 h-3i';
                    else if (event.transport.includes('æ¸¡è¼ª')) transIcon = 'i data-lucide=ship class=w-3 h-3i';
                    else if (event.transport.includes('æ¥é§')) transIcon = 'i data-lucide=bus class=w-3 h-3i';

                    detailHtml += `
                        div class=relative pl-12 id=event-${day}-${index}
                            ${wrapper}
                                ${transIcon}
                                ${event.transport}
                            ${wrapperEnd}
                        div
                    `;
                    return;
                }

                let icon = 'circle';
                let iconColor = 'text-white';
                let bgColor = 'bg-jeju-orange';
                
                if(event.type === 'food') { icon = 'utensils'; bgColor='bg-rose-400'; }
                if(event.type === 'transport') { icon = 'plane'; bgColor='bg-blue-400'; }
                if(event.type === 'hotel') { icon = 'bed-double'; bgColor='bg-indigo-400'; }
                if(event.type === 'fun') { icon = 'party-popper'; bgColor='bg-jeju-green'; }
                if(event.type === 'car') { icon = 'car'; bgColor='bg-gray-500'; }
                if(event.type === 'ship') { icon = 'ship'; bgColor='bg-cyan-500'; }

                let navBtn = '';
                let linkEditBtn = `button onclick=editLink(${day}, ${index}) class=btn-edit ml-2 title=ç·¨è¼¯é€£çµâœbutton`;
                
                if(event.link) {
                    let btnContent = '';
                    let btnClass = 'btn-naver';  é è¨­æ¨£å¼

                    if (event.link.includes('klook')) {
                         Klook é€£çµ
                        btnClass = 'btn-naver bg-orange-500 shadow-orange-200';
                        btnContent = `span class=font-black text-xsKspan Klook`;
                    } else if (event.link.includes('map.naver.com')) {
                         Naver Map å°èˆª
                        btnContent = `span class=font-black text-xsNspan å°èˆª`;
                    } else if (event.link.includes('catchtable')) {
                         Catch Table
                        btnClass = 'btn-naver bg-red-500 shadow-red-200';
                        btnContent = `span class=font-black text-xsCspan CatchTable`;
                    } else {
                         å…¶ä»–ç¶²é é€£çµ
                        btnClass = 'btn-naver bg-sky-500 shadow-sky-200';
                        btnContent = `i data-lucide=globe class=w-3 h-3i ä»‹ç´¹`;
                    }
                    
                     ç‰¹åˆ¥è™•ç†æŒ‰éˆ•
                    let extraBtn = '';
                    if (event.hasInfo) {
                         Audrant Bakery çš„ hasInfo å·²è¨­ç‚º falseï¼Œé€™è£¡æœƒè‡ªå‹•è·³é
                          å—è‹‘è²´è³“å®¤çš„ hasInfo ä»ç‚º trueï¼Œé€™è£¡æœƒé¡¯ç¤º
                        if (event.title === 'å—è‹‘è²´è³“å®¤') {
                           extraBtn = `button onclick=openInfo() class=btn-edit ml-2 bg-yellow-100 text-yellow-600 hoverbg-yellow-200 title=æŸ¥çœ‹æŒ‡å¼•â„¹ï¸button`;
                        }
                    }
                    if (event.hasPickup) {
                         extraBtn = `button onclick=openPickup() class=btn-edit ml-2 bg-blue-100 text-blue-600 hoverbg-blue-200 title=å–è»ŠæŒ‡å¼•â„¹ï¸button`;
                    }

                     åªæœ‰åœ¨ btnContent ä¸ç‚ºç©ºæ™‚æ‰é¡¯ç¤ºä¸»æŒ‰éˆ•
                    let mainBtnHtml = btnContent  `a href=${event.link} target=_blank class=${btnClass}${btnContent}a`  '';

                    navBtn = `
                    div class=flex items-center gap-1
                        ${mainBtnHtml}
                        ${extraBtn}
                        ${linkEditBtn}
                    div`;
                } else {
                    navBtn = `
                    button onclick=editLink(${day}, ${index}) class=text-[10px] text-gray-400 border border-gray-200 px-2 py-1 rounded-full hoverbg-gray-100 transition
                        + é€£çµ
                    button`;
                }

                 æ°£æº«æ¨™ç±¤
                let weatherTag = '';
                if (event.weather) {
                    weatherTag = `span class=text-xs bg-blue-50 text-blue-500 px-2 py-0.5 rounded-full ml-2${event.weather}span`;
                }

                detailHtml += `
                div class=relative pl-12 fade-in scroll-mt-24 id=event-${day}-${index}
                    div class=absolute left-0 top-0 flex flex-col items-center z-10
                        div class=w-10 h-10 rounded-full ${bgColor} shadow-md flex items-center justify-center ${iconColor} border-2 border-white
                            i data-lucide=${icon} class=w-5 h-5i
                        div
                    div
                    
                    div class=chic-card p-5 mb-2
                        div class=flex items-center justify-between mb-2
                            div class=flex items-center
                                span class=text-sm font-bold text-gray-500 font-mono${event.time}span
                                ${weatherTag}
                            div
                            ${navBtn}
                        div
                        h3 class=text-lg font-bold text-jeju-dark tracking-tight${event.title}h3
                        p class=text-sm text-gray-400 mt-1${event.desc}p
                    div
                div
                `;
            });

            container.innerHTML = overviewHtml + detailHtml  'div class=text-center py-10 text-gray-400æœ¬æ—¥ç„¡è¡Œç¨‹div';
            lucide.createIcons();
        }

        const rateDisplay = document.getElementById('rate-display');
        const inputKrw = document.getElementById('input-krw');
        const inputTwd = document.getElementById('input-twd');
        let currentRate = 0.024;

        async function fetchRate() {
            try {
                const res = await fetch('httpsapi.exchangerate-api.comv4latestKRW');
                const data = await res.json();
                if(data.rates.TWD) {
                    currentRate = data.rates.TWD;
                    rateDisplay.textContent = `1 KRW â‰ˆ ${currentRate.toFixed(4)} TWD`;
                    rateDisplay.classList.replace('bg-white20', 'bg-green-40030');
                }
            } catch (e) {
                console.log(Rate fetch failed);
            }
        }

        function calcTWD() {
            const krw = parseFloat(inputKrw.value);
            if(!isNaN(krw)) inputTwd.value = (krw  currentRate).toFixed(0);
            else inputTwd.value = '';
        }

        function calcKRW() {
            const twd = parseFloat(inputTwd.value);
            if(!isNaN(twd)) inputKrw.value = (twd  currentRate).toFixed(0);
            else inputKrw.value = '';
        }

        inputKrw.addEventListener('input', calcTWD);
        inputTwd.addEventListener('input', calcKRW);

         ç¢ºä¿åœ¨DOMåŠ è¼‰å¾Œåˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', (event) = {
            initData();
            renderDaySelector();
            switchView('flight');  é è¨­é¡¯ç¤ºèˆªç­é é¢
            fetchRate();
        });

    script
body
html