<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>濟州島8天7夜親子遊</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- 引入 Noto Sans TC, Gaegu, JetBrains Mono -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Noto+Sans+TC:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/locale/zh-tw.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'hand': ['Gaegu', 'cursive'],
                        'sans': ['Noto Sans TC', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'monospace'],
                        'kaiti': ['KaiTi', 'BiauKai', 'DFKai-SB', 'serif'],
                    },
                    colors: {
                        'jeju-orange': '#FF8C42',
                        'jeju-yellow': '#FFD93D',
                        'jeju-green': '#6BCB77',
                        'jeju-blue': '#4D96FF',
                        'paper': '#FFFDF7',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-image: url('https://images.unsplash.com/photo-1548115184-bc6544d06a58?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            font-family: 'Noto Sans TC', sans-serif;
            overflow-y: scroll;
        }

        .journal-shadow {
            box-shadow: 
                0 1px 1px rgba(0,0,0,0.15), 
                0 10px 0 -5px #eee, 
                0 10px 1px -4px rgba(0,0,0,0.15), 
                0 20px 0 -10px #eee, 
                0 20px 1px -9px rgba(0,0,0,0.15);
        }

        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .sticker-tab {
            transition: transform 0.2s, background-color 0.2s;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 95% 100%, 5% 100%, 0 90%);
        }
        .sticker-tab:active { transform: translateY(0); }
        
        .sticker-tab.active {
            background-color: #FFD93D !important;
            color: #374151 !important;
            transform: translateY(-3px);
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
            border-bottom: none;
        }

        .washi-tape-title {
            position: relative;
            background-color: rgba(255, 225, 150, 0.6);
            padding: 0.2em 1em;
            transform: rotate(-1deg);
            display: inline-block;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .washi-tape-title::before, .washi-tape-title::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 100%;
            top: 0;
            background-color: rgba(255,255,255,0.4);
            mask-image: url("data:image/svg+xml,%3Csvg width='20' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L20 0 L18 5 L20 10 L18 15 L20 20 L18 25 L20 30 L18 35 L20 40 L0 40 Z' fill='black'/%3E%3C/svg%3E");
            -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='20' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L20 0 L18 5 L20 10 L18 15 L20 20 L18 25 L20 30 L18 35 L20 40 L0 40 Z' fill='black'/%3E%3C/svg%3E");
        }
        .washi-tape-title::before { left: -10px; transform: scaleX(-1); }
        .washi-tape-title::after { right: -10px; }

        .hand-font { font-family: 'Gaegu', cursive; }
        
        .live-title { animation: float-title 3s ease-in-out infinite; }
        @keyframes float-title {
            0%, 100% { transform: translateY(0) rotate(-1deg); }
            50% { transform: translateY(-3px) rotate(1deg); }
        }

        .details-expand {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .details-expand.show {
            max-height: 2000px;
            transition: max-height 0.5s ease-in;
        }

        .custom-checkbox {
            appearance: none;
            background-color: #fff;
            margin: 0;
            font: inherit;
            color: currentColor;
            width: 1.4em;
            height: 1.4em;
            border: 2px solid #555;
            border-radius: 0.3em;
            display: grid;
            place-content: center;
            cursor: pointer;
            transform: translateY(-0.075em);
        }
        .custom-checkbox::before {
            content: "";
            width: 0.8em;
            height: 0.8em;
            transform: scale(0);
            transition: 120ms transform ease-in-out;
            box-shadow: inset 1em 1em #FF8C42;
            transform-origin: center;
            clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
        }
        .custom-checkbox:checked::before { transform: scale(1); }
        .custom-checkbox:checked + span {
            text-decoration: line-through;
            color: #aaa;
            font-style: italic;
        }

        .polaroid-card {
            background: white;
            padding: 10px 10px 40px 10px;
            box-shadow: 2px 3px 8px rgba(0,0,0,0.15);
            transition: transform 0.3s;
            position: relative;
        }
        
        .polaroid-img { filter: sepia(10%) contrast(105%) saturate(110%); }

        .masking-tape {
            position: absolute;
            height: 30px;
            width: 80px;
            top: -10px;
            left: 50%;
            transform: translateX(-50%) rotate(-2deg);
            background-color: rgba(255, 255, 255, 0.4);
            border-left: 2px dashed rgba(0,0,0,0.05);
            border-right: 2px dashed rgba(0,0,0,0.05);
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            opacity: 0.8;
            z-index: 25;
        }
        .masking-tape.tape-yellow { background-color: rgba(255, 217, 61, 0.7); }
        .masking-tape.tape-blue { background-color: rgba(77, 150, 255, 0.7); }
        .masking-tape.tape-green { background-color: rgba(107, 203, 119, 0.7); }
        .masking-tape.tape-pink { background-color: rgba(255, 154, 158, 0.7); }

        .modal-overlay {
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(4px);
        }
        .modal-content {
            animation: modalPop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes modalPop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .boat-table { width: 100%; border-collapse: collapse; margin-bottom: 10px; font-size: 0.85rem; }
        .boat-table th { background: #f1f5f9; padding: 8px; text-align: center; border: 1px solid #e2e8f0; font-weight: bold; color: #475569; }
        .boat-table td { padding: 8px; text-align: center; border: 1px solid #e2e8f0; color: #334155; }
        .boat-table tr:nth-child(even) { background: #f8fafc; }
        
        .doodle-sticker {
            position: absolute;
            font-size: 2rem;
            filter: drop-shadow(2px 2px 0px rgba(0,0,0,0.1));
            z-index: 30;
            pointer-events: none;
        }
        
        .bg-stripes-gray {
            background-image: repeating-linear-gradient(45deg, #eee, #eee 10px, #fff 10px, #fff 20px);
        }
        
        input::placeholder { color: #cbd5e1; font-family: 'Noto Sans TC'; font-weight: normal; }
    </style>
</head>
<body class="min-h-screen pb-10 overflow-x-hidden text-slate-800">

    <!-- Modal -->
    <div id="info-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 modal-overlay" onclick="closeModal()">
        <div class="bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl modal-content border-4 border-jeju-yellow relative max-h-[85vh] overflow-y-auto hide-scrollbar" onclick="event.stopPropagation()">
            <button onclick="closeModal()" class="absolute top-2 right-2 text-slate-400 hover:text-slate-600 w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center z-10">
                <i class="fas fa-times"></i>
            </button>
            <div id="modal-content-area" class="text-center"></div>
        </div>
    </div>

    <!-- 頂部標題與倒數 -->
    <div class="max-w-md mx-auto pt-6 pb-2 text-center px-4 relative z-10">
        <div class="inline-block bg-white/90 backdrop-blur px-6 py-3 rounded-2xl shadow-lg border-4 border-jeju-orange live-title w-full">
            <h1 class="text-2xl font-black text-slate-800 tracking-wider font-kaiti">
                <span class="text-jeju-orange">濟州島</span> 8天7夜親子遊 <i class="fas fa-plane-departure text-jeju-blue"></i>
            </h1>
            <div class="mt-2 flex flex-col items-center justify-center gap-2 text-slate-600 font-medium">
                <span class="bg-jeju-yellow px-3 py-1 rounded-full text-slate-800 border-2 border-slate-800 border-dashed font-hand text-lg font-bold">
                    <i class="fas fa-calendar-alt mr-1"></i> 2026.01.30 - 02.06
                </span>
                <span id="countdown" class="bg-jeju-blue text-white px-4 py-1 rounded-full font-hand text-lg tracking-widest shadow-sm">
                    D-Day 計算中...
                </span>
            </div>
        </div>
    </div>

    <!-- 主容器 -->
    <div class="max-w-md mx-auto px-2">
        <div class="flex flex-col gap-1 px-1 pb-1" id="tab-menu" style="margin-bottom: -10px; padding-top: 5px;">
            <!-- 選單由 JS 生成 -->
        </div>

        <main class="bg-paper rounded-2xl p-4 min-h-[70vh] relative journal-shadow border-t-8 border-jeju-yellow mb-10">
            <div class="absolute top-3 left-3 text-jeju-orange text-xl drop-shadow-md z-20"><i class="fas fa-thumbtack"></i></div>
            <div class="absolute top-3 right-3 text-jeju-blue text-xl drop-shadow-md z-20"><i class="fas fa-paperclip"></i></div>
            <div id="content-area" class="relative z-10"></div>
        </main>
    </div>

    <script>
        const tripStartDate = "2026-01-30";
        let currentExchangeRate = 0; 
        let weatherDataCache = null; 
        let expenseData = JSON.parse(localStorage.getItem('jeju_expenses')) || [];

        // 去程乘客
        const passengersOutbound = [
            { name: "LI,I-KUN", seat: "2A", bag: "15KG" },
            { name: "CHEN,YING-YU", seat: "2C", bag: "15KG" },
            { name: "LI,ZHI-QI", seat: "2B", bag: "15KG" },
            { name: "HUNG,TSUNG-WEI", seat: "3F", bag: "20KG" },
            { name: "HUANG,CHING-TING", seat: "2E", bag: "20KG" },
            { name: "HUNG,SHAO-CHI", seat: "2F", bag: "20KG" },
            { name: "HUNG,SHAO-JIE", seat: "2D", bag: "20KG" }
        ];

        // 回程乘客
        const passengersInbound = [
            { name: "LI,I-KUN", seat: "2F", bag: "25KG" },
            { name: "CHEN,YING-YU", seat: "2D", bag: "25KG" },
            { name: "LI,ZHI-QI", seat: "2E", bag: "20KG" },
            { name: "HUNG,TSUNG-WEI", seat: "4C", bag: "20KG" },
            { name: "HUANG,CHING-TING", seat: "4E", bag: "20KG" },
            { name: "HUNG,SHAO-CHI", seat: "4F", bag: "20KG" },
            { name: "HUNG,SHAO-JIE", seat: "4D", bag: "20KG" }
        ];

        // 定義 renderBookingInfo 函式
        function renderBookingInfo() {
            const checkInUrl = "https://sci.tigerairtw.com/zh-TW/login";
            return `
                <div class="mb-4 space-y-2">
                    <!-- Z4WW7F Booking -->
                    <div class="bg-white p-2 rounded-lg border-2 border-dashed border-slate-200 flex justify-between items-center relative overflow-hidden">
                         <div class="absolute right-0 top-0 text-6xl opacity-5 rotate-12 select-none"><i class="fas fa-ticket-alt"></i></div>
                         <div class="z-10">
                            <div class="text-[10px] text-slate-400 font-bold mb-0.5"><i class="fas fa-user-tag mr-1"></i>LI,I-KUN</div>
                            <div class="text-xl font-black text-jeju-orange font-hand tracking-widest leading-none">Z4WW7F</div>
                         </div>
                         <div class="z-10 flex flex-col gap-1.5">
                             <a href="${checkInUrl}" target="_blank" class="bg-jeju-orange text-white text-[10px] px-3 py-1.5 rounded-md font-bold shadow-sm hover:bg-orange-500 transition-transform active:scale-95 flex items-center justify-center min-w-[85px]">
                                <i class="fas fa-passport mr-1"></i> 自助報到
                             </a>
                             <button onclick="showBoardingPassZ4WW7F()" class="bg-slate-600 text-white text-[10px] px-3 py-1.5 rounded-md font-bold shadow-sm hover:bg-slate-700 transition-transform active:scale-95 flex items-center justify-center min-w-[85px]">
                                <i class="fas fa-qrcode mr-1"></i> 登機證
                             </button>
                         </div>
                    </div>
                    
                    <!-- M5NCRC Booking (新增登機證按鈕) -->
                    <div class="bg-white p-2 rounded-lg border-2 border-dashed border-slate-200 flex justify-between items-center relative overflow-hidden">
                         <div class="absolute right-0 top-0 text-6xl opacity-5 rotate-12 select-none"><i class="fas fa-ticket-alt"></i></div>
                         <div class="z-10">
                            <div class="text-[10px] text-slate-400 font-bold mb-0.5"><i class="fas fa-user-tag mr-1"></i>HUNG,TSUNG-WEI</div>
                            <div class="text-xl font-black text-jeju-blue font-hand tracking-widest leading-none">M5NCRC</div>
                         </div>
                         <div class="z-10 flex flex-col gap-1.5">
                             <a href="${checkInUrl}" target="_blank" class="bg-jeju-blue text-white text-[10px] px-3 py-1.5 rounded-md font-bold shadow-sm hover:bg-blue-600 transition-transform active:scale-95 flex items-center justify-center min-w-[85px]">
                                <i class="fas fa-passport mr-1"></i> 自助報到
                             </a>
                             <button onclick="showBoardingPassM5NCRC()" class="bg-slate-600 text-white text-[10px] px-3 py-1.5 rounded-md font-bold shadow-sm hover:bg-slate-700 transition-transform active:scale-95 flex items-center justify-center min-w-[85px]">
                                <i class="fas fa-qrcode mr-1"></i> 登機證
                             </button>
                         </div>
                    </div>
                </div>
            `;
        }

        // 顯示 Z4WW7F 登機證
        window.showBoardingPassZ4WW7F = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-slate-600"><i class="fas fa-ticket-alt"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-slate-300 pb-3 font-hand tracking-wide">
                        ✈️ 登機證 (Z4WW7F)
                    </h3>

                    <div class="space-y-4">
                         <div class="p-2 grid grid-cols-1 gap-4">
                             ${['BoardingPass_1.jpg', 'BoardingPass_2.jpg'].map((img, i) => `
                                <div class="rounded-lg overflow-hidden border-2 border-slate-200 shadow-sm relative cursor-pointer group"
                                     onclick="window.open('${img}', '_blank')">
                                    <img src="${img}" 
                                         onerror="this.src='https://placehold.co/600x300?text=Boarding+Pass+${i+1}';" 
                                         class="w-full h-auto object-cover group-hover:opacity-90 transition-opacity">
                                    <div class="absolute bottom-2 right-2 bg-black/60 text-white text-[10px] px-2 py-1 rounded backdrop-blur-sm">
                                        <i class="fas fa-search-plus mr-1"></i> 點擊放大
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="text-xs text-slate-500 text-center bg-slate-50 p-2 rounded-lg">
                             <i class="fas fa-info-circle mr-1"></i>請將照片命名為 BoardingPass_1.jpg 與 BoardingPass_2.jpg
                        </div>
                    </div>
                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-slate-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">關閉</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        // 新增：顯示 M5NCRC 登機證
        window.showBoardingPassM5NCRC = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-slate-600"><i class="fas fa-ticket-alt"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-slate-300 pb-3 font-hand tracking-wide">
                        ✈️ 登機證 (M5NCRC)
                    </h3>

                    <div class="space-y-4">
                         <div class="p-2 grid grid-cols-1 gap-4">
                             ${['BoardingPass_3.jpg', 'BoardingPass_4.jpg'].map((img, i) => `
                                <div class="rounded-lg overflow-hidden border-2 border-slate-200 shadow-sm relative cursor-pointer group"
                                     onclick="window.open('${img}', '_blank')">
                                    <img src="${img}" 
                                         onerror="this.src='https://placehold.co/600x300?text=Boarding+Pass+${i+3}';" 
                                         class="w-full h-auto object-cover group-hover:opacity-90 transition-opacity">
                                    <div class="absolute bottom-2 right-2 bg-black/60 text-white text-[10px] px-2 py-1 rounded backdrop-blur-sm">
                                        <i class="fas fa-search-plus mr-1"></i> 點擊放大
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="text-xs text-slate-500 text-center bg-slate-50 p-2 rounded-lg">
                             <i class="fas fa-info-circle mr-1"></i>請將登機證截圖命名為<br>
                             <span class="font-mono bg-white px-1 rounded border border-slate-200">BoardingPass_3.jpg</span> 與 
                             <span class="font-mono bg-white px-1 rounded border border-slate-200">BoardingPass_4.jpg</span><br>
                             並放入同資料夾
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-slate-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">關閉</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        // 渲染乘客表格
        function renderPassengerTable(list) {
            return `
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left mt-2 border-collapse">
                        <thead class="text-xs text-slate-500 uppercase bg-slate-50 border-b">
                            <tr>
                                <th class="px-2 py-2 w-1/2">Name</th>
                                <th class="px-1 py-2 text-center w-1/4">Seat</th>
                                <th class="px-1 py-2 text-right w-1/4">KG</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${list.map(p => `
                                <tr class="bg-white border-b hover:bg-yellow-50 transition-colors">
                                    <td class="px-2 py-2 font-medium text-slate-900 text-[10px] break-all">${p.name}</td>
                                    <td class="px-1 py-2 text-center font-hand font-bold text-lg text-jeju-blue">${p.seat}</td>
                                    <td class="px-1 py-2 text-right font-hand font-bold text-slate-600">${p.bag}</td>
                                </tr>
                            `).join('')}
                            <tr class="bg-slate-50 font-bold text-xs">
                                <td class="px-2 py-2 text-right" colspan="2">Total:</td>
                                <td class="px-1 py-2 text-right">${list.reduce((acc, curr) => acc + parseInt(curr.bag), 0)} KG</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
        }

        // 渲染準備組
        function prepGroup(title, items, color) {
            const colorMap = {
                red: 'border-red-200 bg-red-50 text-red-600',
                blue: 'border-jeju-blue/20 bg-blue-50 text-jeju-blue',
                yellow: 'border-jeju-yellow bg-yellow-50 text-yellow-700',
                orange: 'border-jeju-orange/20 bg-orange-50 text-jeju-orange',
                green: 'border-jeju-green/20 bg-green-50 text-jeju-green',
                purple: 'border-purple-200 bg-purple-50 text-purple-600'
            };
            const style = colorMap[color] || colorMap.blue;
            const borderClass = style.split(' ')[0];
            const bgClass = style.split(' ')[1];
            const textClass = style.split(' ')[2];

            return `
                <div class="p-4 rounded-2xl border-2 border-dashed ${borderClass} ${bgClass} shadow-sm relative">
                    <h4 class="font-bold mb-3 flex items-center gap-2 ${textClass}">
                        <i class="fas fa-thumbtack text-xs opacity-50"></i> ${title}
                    </h4>
                    <ul class="space-y-3 font-hand text-lg">
                        ${items.map(item => `
                            <li class="flex items-center gap-3 group">
                                <input type="checkbox" class="custom-checkbox">
                                <span class="text-slate-700 group-hover:text-slate-900 transition-colors">${item}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `;
        }

        // Backup plan event
        const snowBackupEvent = {
            type: 'spot', time: 'backup', duration: 60, travelTime: 0, travelMode: 'car',
            title: '❄️ [雪天備案] 漢拿山 1100高地',
            desc: '若遇下雪，推薦前往賞雪 (1100 Altitude Wetland)',
            icon: 'fa-snowflake',
            bg: 'bg-sky-50 border-2 border-blue-200 border-dashed',
            note: '若有積雪，景色絕美；若無雪可走生態步道',
            navQuery: '1100고지 휴게소',
            isBackup: true
        };

        // Day Data (All Days)
        const day1Events = [
            { type: 'start', time: '13:30', duration: 90, travelTime: 60, travelMode: 'walk', title: '南苑貴賓室 VIP Lounge', desc: '吃飽喝足，準備出發！(KHH)', icon: 'fa-utensils', bg: 'bg-blue-100', btnText: '怎麼去?', btnAction: 'showLoungeGuide', navQuery: '', externalLink: 'https://orange.udn.com/orange/story/121417/9179081', customButtons: [{ text: '龍騰貴賓室', link: 'https://eticket.canlead.com.tw/LOUNGE/login.aspx', icon: 'fa-ticket-alt', color: 'purple' }] },
            { type: 'flight', time: '16:00', duration: 145, travelTime: 0, travelMode: 'plane', title: '快樂起航 (IT670)', desc: '16:00 KHH ✈️ 19:25 CJU (含時差)', icon: 'fa-plane-departure', bg: 'bg-orange-100', isFlight: true, navQuery: '' },
            { type: 'arrive', time: '19:25', duration: 60, travelTime: 15, travelMode: 'walk', title: '抵達濟州 & 入境', desc: '填寫入境卡、提領行李', icon: 'fa-passport', bg: 'bg-green-100', note: '預計 20:25 完成', navQuery: '더세이프렌터카' },
            { type: 'car', time: 'auto', duration: 30, travelTime: 15, travelMode: 'car', title: 'The Safe Rent A Car', desc: '搭接駁車前往取車', icon: 'fa-car', bg: 'bg-yellow-100', btnText: '取車指引', btnAction: 'showCarGuide', navQuery: 'https://map.naver.com/p/directions/14081868.5306003,3962495.0698039,%EB%8D%94%EC%84%B8%EC%9D%B4%ED%94%84%EB%A0%8C%ED%84%B0%EC%B9%B4,1041558315,PLACE_POI/14080643.3928124,3959888.7729626,%EB%A9%94%EC%A2%85%20%EA%B8%80%EB%9E%98%EB%93%9C%20%EC%A0%9C%EC%A3%BC,11659012,PLACE_POI/-/car?c=14.00,0,0,0,dh' },
            { 
                type: 'hotel', 
                time: 'auto', 
                duration: 30, 
                travelTime: 10, 
                travelMode: 'walk', 
                title: '濟州 Glad Maison 飯店', 
                desc: 'Check-in 休息 & 放行李', 
                icon: 'fa-bed', 
                bg: 'bg-purple-100', 
                navQuery: 'https://map.naver.com/p/directions/14080643.3928124,3959888.7729626,%EB%A9%94%EC%A2%85%20%EA%B8%80%EB%9E%98%EB%93%9C%20%EC%A0%9C%EC%A3%BC,11659012,PLACE_POI/14079836.8608377,3959885.7297987,%EA%B7%B8%EB%9E%9C%EB%93%9C%20%ED%95%98%EC%96%8F%ED%8A%B8%20%EC%A0%9C%EC%A3%BC,1919264399,PLACE_POI/-/walk?c=16.00,0,0,0,dh' 
            },
            { 
                type: 'shopping', 
                time: 'auto', 
                duration: 40, 
                travelTime: 0, 
                travelMode: null, 
                title: '買WOWPASS', 
                desc: '濟州君悅酒店 (Grand Hyatt) 1樓大廳', 
                icon: 'fa-credit-card', 
                bg: 'bg-indigo-100', 
                note: '機台位於1樓花藝區旁' 
            }
        ];
        
        const day2Events = [
            { type: 'start', time: '08:00', duration: 0, travelTime: 50, travelMode: 'car', title: '飯店出發', desc: '早起出發去吃貝果！', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '런던베이글뮤지엄 제주' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 15, travelMode: 'car', title: '倫敦貝果博物館', desc: 'London Bagel Museum Jeju (需排隊)', icon: 'fa-bread-slice', bg: 'bg-orange-100', note: '營業時間: 08:00 - 18:00', customButtons: [{ text: 'Catch Table 預約', link: 'https://www.catchtable.net/zh-TW/shop/london_bagel_museum_jeju', icon: 'fa-calendar-check', color: 'red' }], navQuery: '해녀김밥 本店' },
            { type: 'food', time: 'auto', duration: 30, travelTime: 5, travelMode: 'walk', title: '海女飯捲 (可外帶)', desc: 'Haenyeo Gimbap', icon: 'fa-utensils', bg: 'bg-blue-100', note: '營業時間: 09:00 - 14:45', navQuery: '오드랑베이커리' },
            { type: 'spot', time: 'auto', duration: 60, travelTime: 30, travelMode: 'car', title: 'Audrant Bakery & 咸德海灘', desc: '必吃大蒜麵包 & 絕美果凍海', icon: 'fa-umbrella-beach', bg: 'bg-sky-100', note: '營業時間: 07:00 - 22:00', customButtons: [{ text: '介紹', link: 'https://dpm2bb.com/2025-62/', icon: 'fa-globe', color: 'orange' }], navQuery: '에코랜드 테마파크' },
            { type: 'spot', time: 'auto', duration: 120, travelTime: 25, travelMode: 'car', title: 'ECOLAND 森林小火車', desc: '搭火車遊森林，輕鬆愜意', icon: 'fa-train', bg: 'bg-green-100', note: '冬季營業: 08:30 - 16:30 (最後入場)', btnText: '票價資訊', btnAction: 'showEcoLandPrice', navQuery: '제주레일바이크' },
            { type: 'activity', time: 'auto', duration: 90, travelTime: 25, travelMode: 'car', title: '濟州鐵道自行車', desc: 'Jeju Rail Bike (自動行駛)', icon: 'fa-bicycle', bg: 'bg-pink-100', note: '營業時間: 09:00 - 17:30 (每整點出發)', btnText: '票價資訊', btnAction: 'showRailBikePrice', navQuery: '삼달리' },
            snowBackupEvent,
            { type: 'spot', time: 'auto', duration: 45, travelTime: 20, travelMode: 'car', title: '三達里小村 & Doldam Carrot', desc: '韓劇《歡迎回到三達里》拍攝地', icon: 'fa-camera', bg: 'bg-yellow-50', navQuery: '부촌식당' },
            { type: 'dinner', time: 'auto', duration: 60, travelTime: 10, travelMode: 'car', title: '晚餐 - 富村食堂', desc: 'CP值極高！濟州在地風味定食', icon: 'fa-fish', bg: 'bg-orange-100', note: '營業時間: 10:30 - 21:00', btnText: '詳細菜單', btnAction: 'showBuchonMenu', navQuery: '코업시티호텔 성산' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: '濟州城山貝斯特飯店', desc: 'Coop City Hotel Seongsan', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day3Events = [
            { type: 'food', time: '08:00', duration: 60, travelTime: 0, travelMode: null, title: '飯店早餐', desc: '享用美味早餐，補足體力！', icon: 'fa-mug-hot', bg: 'bg-orange-50', navQuery: '' },
            { type: 'start', time: '09:00', duration: 0, travelTime: 15, travelMode: 'car', title: '飯店出發', desc: '睡飽出發前往港口', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '성산포항종합여객터미널' },
            { type: 'ship', time: 'auto', duration: 30, travelTime: 0, travelMode: null, title: '城山港 (搭船)', desc: 'Seongsan Port (前往牛島)', icon: 'fa-ship', bg: 'bg-blue-100', note: '需填寫乘船申報單(2份) + 護照', btnText: '船班與票價', btnAction: 'showFerryInfo', navQuery: '' },
            { type: 'spot', time: 'auto', duration: 180, travelTime: 30, travelMode: 'ship', title: '牛島 (Udo) 環島', desc: '必吃花生冰淇淋、炸醬麵', icon: 'fa-island-tropical', bg: 'bg-green-100', note: '推薦租電動車或搭環島巴士', customButtons: [{ text: '行程規劃', link: 'javascript:showUdoPlan()', icon: 'fa-map', color: 'orange' }], navQuery: '' },
            { type: 'arrive', time: 'auto', duration: 0, travelTime: 10, travelMode: 'car', title: '返回城山港', desc: '搭船返回本島', icon: 'fa-anchor', bg: 'bg-gray-100', navQuery: '아쿠아플라넷 제주' },
            { type: 'spot', time: 'auto', duration: 180, travelTime: 15, travelMode: 'car', title: 'Aqua Planet Jeju', desc: '亞洲最大水族館之一', icon: 'fa-fish', bg: 'bg-blue-200', note: '營業: 09:30-19:00 / 門票已在 Agoda 購買', btnText: '玩樂指南 & 門票資訊', btnAction: 'showAquaPlanetInfo', navQuery: '금돗 성산흑돼지' },
            snowBackupEvent,
            { type: 'dinner', time: 'auto', duration: 90, travelTime: 10, travelMode: 'car', title: '黑毛豬晚餐 - 금돗 성산', desc: '在地人狂推！高品質黑豬肉燒肉', icon: 'fa-fire', bg: 'bg-orange-100', note: '營業時間: 11:00 - 23:00', btnText: '黑豬肉饗宴 & 菜單指南', btnAction: 'showGeumdotMenu', navQuery: '코업시티호텔 성산' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: '濟州城山貝斯特飯店', desc: '休息', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day4Events = [
            { type: 'food', time: '08:30', duration: 60, travelTime: 0, travelMode: null, title: '飯店早餐', desc: '享用美味早餐，開啟美好的一天', icon: 'fa-mug-hot', bg: 'bg-orange-50', navQuery: '' },
            { type: 'start', time: '09:30', duration: 0, travelTime: 50, travelMode: 'car', title: '飯店出發', desc: '退房前往西歸浦', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '정방폭포' },
            { type: 'spot', time: 'auto', duration: 60, travelTime: 10, travelMode: 'car', title: '正房瀑布', desc: 'Jeongbang Waterfall (亞洲唯一直接入海)', icon: 'fa-water', bg: 'bg-blue-100', note: '門票: 成人 2,000 / 兒童 1,000', externalLink: 'https://tinachiang0824.pixnet.net/blog/posts/9577976988', navQuery: '서귀포매일올레시장' },
            { type: 'food', time: 'auto', duration: 120, travelTime: 20, travelMode: 'car', title: '每日偶來市場', desc: 'Seogwipo Olle Market (午餐)', icon: 'fa-utensils', bg: 'bg-orange-100', note: '必吃：橘子麻糬、黑豬肉可樂餅', externalLink: 'https://journey.tw/seogwipo-olle-market/', customButtons: [{ text: '強力推薦', link: 'javascript:showOlleMarketRecs()', icon: 'fa-thumbs-up', color: 'red' }], navQuery: '귤꽃다락' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 40, travelMode: 'car', title: '橘花閣樓 (귤꽃다락)', desc: '西歸浦超人氣橘子園咖啡廳', icon: 'fa-coffee', bg: 'bg-orange-50', btnText: '營業與消費', btnAction: 'showCafeInfo', externalLink: 'https://abby0318.pixnet.net/blog/posts/9577500892', navQuery: '신화월드 랜딩관' },
            snowBackupEvent,
            { type: 'hotel', time: 'auto', duration: 90, travelTime: 0, travelMode: null, title: '神話世界-藍鼎', desc: 'Shinhwa World Landing Resort (Check-in)', icon: 'fa-hotel', bg: 'bg-purple-100', note: '稍作休息，逛逛神話世界商店街', navQuery: '' },
            { type: 'dinner', time: '18:00', duration: 120, travelTime: 0, travelMode: null, title: '藍鼎自助晚餐', desc: 'Landing Dining (海鮮自助餐)', icon: 'fa-wine-glass-alt', bg: 'bg-yellow-200', note: '⚠️ 已預約 18:00 (時間不可動)', btnText: '營業與消費', btnAction: 'showLandingDiningInfo', externalLink: 'https://www.youtube.com/watch?v=oKv2f09cXAo', navQuery: '' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: '神話世界-藍鼎', desc: '住宿', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day5Events = [
            { type: 'start', time: '10:00', duration: 0, travelTime: 10, travelMode: 'walk', title: '飯店出發', desc: '睡飽飽，準備去樂園玩！', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '제주신화월드 신화테마파크' },
            { type: 'activity', time: 'auto', duration: 180, travelTime: 5, travelMode: 'walk', title: '神話主題公園', desc: '神話世界中最受親子歡迎的樂園', icon: 'fa-ticket-alt', bg: 'bg-purple-100', note: '免票入場，設施需付費或使用 Big 3 券', btnText: '營業與攻略', btnAction: 'showThemeParkInfo', navQuery: '제주신화월드 신화테마파크' },
            { type: 'food', time: 'auto', duration: 90, travelTime: 5, travelMode: 'walk', title: '午餐 - 神話美食街', desc: 'Selection Dining (S Square)', icon: 'fa-utensils', bg: 'bg-orange-100', note: '有多種韓式料理、炸豬排、麵食可選', navQuery: '제주신화월드' },
            { type: 'shopping', time: 'auto', duration: 150, travelTime: 5, travelMode: 'walk', title: '濟州 Premium Center', desc: '神話世界名品折扣中心 (Outlet)', icon: 'fa-shopping-bag', bg: 'bg-green-100', note: '集結國際精品與運動品牌，免稅店也在附近', btnText: '購物指南', btnAction: 'showShinhwaShoppingInfo', navQuery: '제주신화월드 프리미엄전문점' },
            { type: 'spot', time: 'backup', duration: 60, travelTime: 0, travelMode: 'car', title: '❄️ [雪天備案] 漢拿山 1100高地', desc: '若遇下雪，推薦前往賞雪 (1100 Altitude Wetland)', icon: 'fa-snowflake', bg: 'bg-sky-50 border-2 border-blue-200 border-dashed', note: '若有積雪，景色絕美；若無雪可走生態步道', navQuery: '1100고지 휴게소', isBackup: true },
            { type: 'dinner', time: 'auto', duration: 90, travelTime: 0, travelMode: 'walk', title: '晚餐 - 濟州膳 (Jeju Seon) 或 烤肉', desc: '渡假村內享用精緻晚餐', icon: 'fa-utensils', bg: 'bg-yellow-100', note: '推薦：濟州膳 (韓定食) 或 Sky on 5 Dining', navQuery: '' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: '神話世界-藍鼎', desc: '休息', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day6Events = [
            { type: 'start', time: '10:00', duration: 0, travelTime: 20, travelMode: 'car', title: '飯店出發', desc: '退房，前往小朋友的天堂！', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '뽀로로앤타요 테마파크 제주' },
            { type: 'activity', time: 'auto', duration: 240, travelTime: 50, travelMode: 'car', title: 'Pororo & Tayo 樂園', desc: '室內外綜合大型親子樂園', icon: 'fa-child', bg: 'bg-blue-100', note: '預留 4 小時盡情放電', btnText: '樂園攻略 & 票價', btnAction: 'showPororoInfo', navQuery: '뽀로로앤타요 테마파크 제주' },
            snowBackupEvent,
            { type: 'spot', time: 'auto', duration: 45, travelTime: 15, travelMode: 'car', title: '彩虹海岸公路', desc: 'Dodu-dong Rainbow Coastal Road', icon: 'fa-rainbow', bg: 'bg-pink-50', note: '整排彩虹石墩，背景是大海，拍照超美', navQuery: '호텔레오' },
            { type: 'hotel', time: 'auto', duration: 60, travelTime: 15, travelMode: 'car', title: '利奧飯店 (Hotel Leo)', desc: 'Check-in (新濟州)', icon: 'fa-hotel', bg: 'bg-purple-100', note: '放行李，稍作休息', navQuery: '숙성도 노형점' },
            { type: 'dinner', time: '18:30', duration: 90, travelTime: 10, travelMode: 'walk', title: '晚餐 - 熟成到燒肉', desc: 'Suksungdo (熟成黑豬肉)', icon: 'fa-fire-alt', bg: 'bg-red-100', note: '⚠️ 已訂位 18:30 (預付訂金 30,000元)', btnText: '訂位與菜單', btnAction: 'showSuksungdoInfo', customButtons: [{ text: 'Catch Table', link: 'https://www.catchtable.net/zh-TW/shop/suksungdo_jeju', icon: 'fa-calendar-check', color: 'red' }], navQuery: '호텔레오' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: '利奧飯店', desc: '休息', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day7Events = [
            { type: 'food', time: '08:30', duration: 60, travelTime: 0, travelMode: null, title: '飯店早餐', desc: '享用美味早餐，開啟美好的一天', icon: 'fa-mug-hot', bg: 'bg-orange-50', navQuery: '' },
            { type: 'start', time: '09:30', duration: 0, travelTime: 20, travelMode: 'car', title: '飯店出發', desc: '睡飽出發', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '제주동문시장' },
            { type: 'spot', time: 'auto', duration: 60, travelTime: 10, travelMode: 'walk', title: '濟州東門市場', desc: 'Jeju Dongmun Market', icon: 'fa-store', bg: 'bg-orange-100', note: '早上買伴手禮/水果比較少人', btnText: '攻略 & 必吃', btnAction: 'showDongmunInfo', externalLink: 'https://tinachiang0824.pixnet.net/blog/posts/9577972318', navQuery: '제주동문시장' },
            // 修改了這裡：加入 btnText 和 btnAction
            { type: 'shopping', time: 'auto', duration: 90, travelTime: 15, travelMode: 'car', title: '中央地下街 / 中央街市場', desc: 'Jungang Underground Shopping Center', icon: 'fa-shopping-bag', bg: 'bg-blue-100', note: '好逛好買的購物天堂', btnText: '逛街攻略', btnAction: 'showJungangInfo', externalLink: 'https://tinachiang0824.pixnet.net/blog/posts/9577972318', navQuery: '제주중앙지하상가' },
            { type: 'food', time: 'auto', duration: 60, travelTime: 20, travelMode: 'car', title: '午餐 - 姊妹麵條', desc: 'Jamae Guksu (必吃豬肉湯麵)', icon: 'fa-utensils', bg: 'bg-red-100', note: '排隊名店，湯頭濃郁', btnText: '菜單 & 攻略', btnAction: 'showJamaeGuksuInfo', navQuery: '자매국수' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 20, travelMode: 'car', title: 'Brick Campus (備案)', desc: '樂高積木校園 (雨天/室內備案)', icon: 'fa-cube', bg: 'bg-purple-100', note: '樂高迷必去，充滿創意', btnText: '參觀指南', btnAction: 'showBrickCampusInfo', navQuery: '브릭캠퍼스 제주' },
            snowBackupEvent,
            { type: 'shopping', time: 'auto', duration: 120, travelTime: 10, travelMode: 'walk', title: '蓮洞商圈 / 樂天超市', desc: 'Yeondong / Lotte Mart', icon: 'fa-shopping-cart', bg: 'bg-green-100', note: '最後採買機會！', btnText: '逛街攻略', btnAction: 'showYeondongInfo', navQuery: '롯데마트 제주점' },
            { type: 'dinner', time: 'auto', duration: 90, travelTime: 10, travelMode: 'walk', title: '晚餐 - 橋村炸雞', desc: 'Kyochon Chicken (蓮洞店)', icon: 'fa-drumstick-bite', bg: 'bg-yellow-200', note: '必點：蜂蜜炸雞 (Honey Series)', btnText: '菜單 & 必吃', btnAction: 'showKyochonInfo', externalLink: 'https://tiffanylin66.pixnet.net/blog/posts/3051053756', navQuery: '교촌치킨 연동점' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: '利奧飯店', desc: '打包行李，準備回程', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day8Events = [
            { type: 'food', time: '08:30', duration: 60, travelTime: 0, travelMode: null, title: '飯店早餐', desc: '享用美味早餐，開啟美好的一天', icon: 'fa-mug-hot', bg: 'bg-orange-50', navQuery: '' },
            { type: 'start', time: '09:30', duration: 0, travelTime: 20, travelMode: 'car', title: '飯店出發', desc: '退房，把握最後時光！', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: '이호테우말등대' },
            { type: 'spot', time: 'auto', duration: 30, travelTime: 25, travelMode: 'car', title: '梨湖小馬燈塔', desc: 'Iho Tewoo Horse Lighthouses', icon: 'fa-camera', bg: 'bg-red-50', note: '紅白小馬燈塔，拍照打卡聖地', navQuery: '애월카페거리' },
            { type: 'food', time: 'auto', duration: 90, travelTime: 25, travelMode: 'car', title: '愛月邑咖啡街 / 午餐', desc: 'Aewol Cafe Street', icon: 'fa-coffee', bg: 'bg-orange-100', note: '推薦：Randy\'s Donuts 或海景咖啡廳', navQuery: '아르떼뮤지엄 제주' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 40, travelMode: 'car', title: 'Arte Museum', desc: '光影藝術館 (沉浸式體驗)', icon: 'fa-palette', bg: 'bg-purple-100', note: '雨天備案首選，視覺饗宴', navQuery: '더세이프렌터카' },
            { type: 'car', time: '16:30', duration: 30, travelTime: 15, travelMode: 'walk', title: '還車 - The Safe Rent A Car', desc: 'Return Rental Car', icon: 'fa-car', bg: 'bg-green-100', note: '檢查車況，搭乘接駁車前往機場', navQuery: '제주국제공항' },
            { type: 'customs', time: 'auto', duration: 60, travelTime: 0, travelMode: null, title: '機場報到 & 過海關', desc: 'Check-in, Security & Immigration', icon: 'fa-user-check', bg: 'bg-slate-100', note: '含行李託運與安檢程序', navQuery: '' },
            { type: 'shopping', time: 'auto', duration: 60, travelTime: 0, travelMode: null, title: '濟州機場免稅店 (JDC)', desc: '候機室內最後採買', icon: 'fa-gift', bg: 'bg-pink-100', note: '必買：Kakao Friends 濟州限定版、菸酒', navQuery: '' },
            { type: 'flight', time: '20:15', duration: 120, travelTime: 0, travelMode: null, title: '起飛回程 (IT671)', desc: '20:15 CJU ✈️ 21:50 KHH', icon: 'fa-home', bg: 'bg-blue-600 text-white', navQuery: '' }
        ];

        const tabs = [
            { id: 'flight', icon: 'fa-paper-plane', label: '航班', color: 'bg-blue-100' },
            { id: 'rate', icon: 'fa-won-sign', label: '匯率', color: 'bg-yellow-100' },
            { id: 'weather', icon: 'fa-sun', label: '氣象', color: 'bg-sky-100' },
            { id: 'intro', icon: 'fa-book-open', label: '教學', color: 'bg-orange-100' },
            { id: 'prep', icon: 'fa-check-circle', label: '準備', color: 'bg-green-100' },
            { id: 'booking', icon: 'fa-file-alt', label: '憑證', color: 'bg-purple-100' }, 
            { id: 'shopping', icon: 'fa-shopping-cart', label: '購物', color: 'bg-pink-100' },
            { id: 'language', icon: 'fa-comments', label: '會話', color: 'bg-teal-100' }, // 新增會話分頁
            { id: 'day1', label: 'Day1', date: '1/30', week: '(五)', color: 'bg-red-50' },
            { id: 'day2', label: 'Day2', date: '1/31', week: '(六)', color: 'bg-red-50' },
            { id: 'day3', label: 'Day3', date: '2/01', week: '(日)', color: 'bg-red-50' },
            { id: 'day4', label: 'Day4', date: '2/02', week: '(一)', color: 'bg-red-50' },
            { id: 'day5', label: 'Day5', date: '2/03', week: '(二)', color: 'bg-red-50' },
            { id: 'day6', label: 'Day6', date: '2/04', week: '(三)', color: 'bg-red-50' },
            { id: 'day7', label: 'Day7', date: '2/05', week: '(四)', color: 'bg-red-50' },
            { id: 'day8', label: 'Day8', date: '2/06', week: '(五)', color: 'bg-red-50' },
        ];

        document.addEventListener('DOMContentLoaded', () => {
            renderMenu();
            updateCountdown();
            loadContent('day1'); 
            fetchRate();
            fetchWeather();
        });

        function renderMenu() {
            const menu = document.getElementById('tab-menu');
            // 修改為 8 個一排
            const mainTabs = tabs.slice(0, 8);
            const dayTabs = tabs.slice(8, 16);

            const renderMainBtn = (tab) => `
                <button onclick="loadContent('${tab.id}')" 
                        id="btn-${tab.id}"
                        class="sticker-tab flex flex-col items-center justify-center p-1 rounded-t-xl text-slate-600 ${tab.color} border-t border-x border-black/5 h-11 w-full transition-all">
                    <i class="fas ${tab.icon} text-xs mb-0.5"></i>
                    <span class="font-bold text-[10px] font-hand whitespace-nowrap leading-none">${tab.label}</span>
                </button>
            `;

            const renderDayBtn = (tab) => `
                <button onclick="loadContent('${tab.id}')" 
                        id="btn-${tab.id}"
                        class="sticker-tab flex flex-col items-center justify-center p-0.5 rounded-b-lg text-slate-600 ${tab.color} border-b border-x border-black/5 h-12 w-full transition-all">
                    <span class="text-[9px] leading-none mb-0.5 whitespace-nowrap font-sans text-slate-500 font-bold scale-90">${tab.date}</span>
                    <span class="text-[8px] leading-none mb-0.5 whitespace-nowrap font-sans text-slate-400 font-bold scale-90">${tab.week}</span>
                    <span class="font-bold text-[10px] font-hand whitespace-nowrap leading-none text-jeju-orange">${tab.label}</span>
                </button>
            `;

            // 將 grid-cols-7 改為 grid-cols-8
            menu.innerHTML = `
                <div class="grid grid-cols-8 gap-1 w-full px-1">${mainTabs.map(renderMainBtn).join('')}</div>
                <div class="grid grid-cols-8 gap-0.5 w-full px-1 mt-1">${dayTabs.map(renderDayBtn).join('')}</div>
            `;
        }

        function updateCountdown() {
            const start = new Date(tripStartDate).getTime();
            const now = new Date().getTime();
            const distance = start - now;
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const cdEl = document.getElementById('countdown');
            if (distance < 0) { cdEl.innerHTML = "旅程中"; } else { cdEl.innerHTML = `${days + 1} Days Left`; }
        }

        function loadContent(tabId) {
            document.querySelectorAll('.sticker-tab').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('opacity-90');
            });
            const activeBtn = document.getElementById(`btn-${tabId}`);
            if(activeBtn) {
                activeBtn.classList.add('active'); 
                activeBtn.classList.remove('opacity-90');
            }
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = getContent(tabId);
            if(tabId === 'rate') {
                fetchRate();
                renderExpenses();
            }
            if(tabId === 'weather') fetchWeather();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function renderScheduleList(events, titleText) {
            let html = `<div class="mb-6 text-center"><h2 class="washi-tape-title text-xl font-bold text-slate-700 font-hand tracking-wide">${titleText}</h2></div>`;
            html += '<div class="relative pl-2 space-y-2"><div class="absolute left-4 top-2 bottom-4 w-0.5 bg-slate-300 border-l-2 border-dashed border-slate-300 z-0"></div>';

            let currentTime = null;

            events.forEach((event, index) => {
                let displayTime = '';
                
                // 如果是備案，直接顯示彈性，不計算時間
                if (event.time === 'backup') {
                    displayTime = '彈性';
                } else {
                    // 如果是主行程，則計算或更新時間
                    if (event.time !== 'auto') {
                        // 固定時間
                        currentTime = moment(event.time, "HH:mm");
                    } else {
                        // 自動時間：需找到「上一個非備案」的行程來進行加總
                        let offsetMinutes = 0;
                        let foundPrev = false;
                        for (let i = index - 1; i >= 0; i--) {
                            if (events[i].time !== 'backup') {
                                // 找到最近一個正常行程，取其持續時間與交通時間
                                offsetMinutes = (events[i].duration || 0) + (events[i].travelTime || 0);
                                foundPrev = true;
                                break;
                            }
                        }
                        
                        if (foundPrev && currentTime) {
                            currentTime = currentTime.clone().add(offsetMinutes, 'minutes');
                        } else if (!currentTime) {
                            // 預防萬一第一個行程就是 auto
                            currentTime = moment("08:00", "HH:mm");
                        }
                    }
                    displayTime = currentTime.format('HH:mm');
                }

                const hasBtn = event.btnText && event.btnAction;
                const hasExtLink = event.externalLink;
                const customButtons = event.customButtons || [];
                const durationHtml = (event.duration > 0 && event.time !== 'backup') ? `<span class="text-[10px] text-slate-400 font-hand ml-2 bg-slate-50 px-1 rounded"><i class="fas fa-hourglass-half mr-1"></i>${event.duration}m</span>` : '';
                
                const cardBg = event.isBackup ? 'bg-sky-50 border-2 border-blue-200 border-dashed' : 'bg-white border border-slate-100 shadow-sm';
                const timeBg = event.isBackup ? 'bg-blue-200 text-white' : `${event.bg}`;

                html += `
                    <div class="relative pl-8 mb-0 z-10">
                        <div class="absolute left-0 -translate-x-1/4 ${event.bg} border-4 border-paper w-8 h-8 rounded-full flex items-center justify-center z-10 shadow-sm text-slate-600"><i class="fas ${event.icon} text-xs"></i></div>
                        <div class="${cardBg} p-4 rounded-xl hover:shadow-md transition-shadow relative group">
                            <div class="flex justify-between items-center mb-1">
                                <div class="flex items-center">
                                    <div class="inline-block ${timeBg} text-slate-800 text-xs px-2 py-1 rounded font-bold font-hand tracking-wider shadow-sm">${displayTime}</div>
                                    ${durationHtml}
                                </div>
                            </div>
                            <h4 class="font-bold text-lg text-slate-800 leading-tight">${event.title}</h4>
                            <p class="text-slate-500 text-sm mt-1 font-hand">${event.desc}</p>
                            <div class="mt-3 flex flex-wrap gap-2">
                                ${hasBtn ? `<button onclick="${event.btnAction}()" class="text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-slate-300 border-dashed"><i class="fas ${event.icon === 'fa-fire' || event.icon === 'fa-fish' || event.icon === 'fa-list' || event.icon === 'fa-wine-glass-alt' ? 'fa-list' : 'fa-lightbulb'} text-jeju-orange"></i> ${event.btnText}</button>` : ''}
                                ${hasExtLink ? `<a href="${event.externalLink}" target="_blank" class="text-xs bg-orange-50 hover:bg-orange-100 text-orange-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-orange-200 border-dashed"><i class="fas fa-globe"></i> 介紹</a>` : ''}
                                ${customButtons.map(btn => {
                                    if (btn.link.startsWith('javascript:')) {
                                        return `<button onclick="${btn.link.replace('javascript:', '')}" class="text-xs bg-${btn.color}-50 hover:bg-${btn.color}-100 text-${btn.color}-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-${btn.color}-200 border-dashed"><i class="fas ${btn.icon}"></i> ${btn.text}</button>`;
                                    } else {
                                        return `<a href="${btn.link}" target="_blank" class="text-xs bg-${btn.color}-50 hover:bg-${btn.color}-100 text-${btn.color}-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-${btn.color}-200 border-dashed"><i class="fas ${btn.icon}"></i> ${btn.text}</a>`;
                                    }
                                }).join('')}
                            </div>
                            ${event.note ? `<div class="mt-2 text-[10px] text-slate-400 bg-slate-50 p-1 rounded inline-block"><i class="fas fa-info-circle mr-1"></i>${event.note}</div>` : ''}
                        </div>
                    </div>
                `;

                if (event.travelTime > 0 && event.travelMode && !event.isBackup) {
                    let travelEmoji = '🚶'; 
                    if (event.travelMode === 'car') travelEmoji = '🚗';
                    if (event.travelMode === 'plane') travelEmoji = '✈️';
                    if (event.travelMode === 'ship') travelEmoji = '⛴️';
                    let navButtonHtml = '';
                    if (event.navQuery && event.navQuery.length > 0) {
                        let navUrl = event.navQuery;
                        // 如果 navQuery 不是以 http 開頭，則當作搜尋關鍵字
                        if (!navUrl.startsWith('http')) {
                            navUrl = `https://map.naver.com/p/search/${encodeURIComponent(event.navQuery)}`;
                        }
                        navButtonHtml = `<a href="${navUrl}" target="_blank" class="ml-2 bg-green-50 text-green-600 border border-green-200 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1 transition-all active:scale-95"><i class="fas fa-location-arrow"></i> 導航</a>`;
                    }
                    html += `<div class="relative pl-8 py-3 z-0"><div class="flex items-center text-slate-500 text-xs ml-2"><div class="w-7 h-7 rounded-full bg-white flex items-center justify-center mr-2 border border-slate-200 shadow-sm text-sm select-none">${travelEmoji}</div><span class="font-hand font-bold mr-1 text-slate-400">${event.travelTime} min</span>${navButtonHtml}</div></div>`;
                } else if (index < events.length - 1) {
                    html += `<div class="h-4"></div>`;
                }
            });
            html += '</div>';
            return html;
        }

        window.closeModal = function() { document.getElementById('info-modal').classList.add('hidden'); }
        
        window.showLoungeGuide = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="relative bg-white text-left">
                    <div class="text-center mb-4">
                        <h3 class="text-lg font-bold text-slate-800 flex items-center justify-center gap-2 font-hand tracking-wide">
                            <i class="fas fa-map-marker-alt text-jeju-orange"></i> 南苑貴賓室指引
                        </h3>
                    </div>

                    <div class="space-y-4 text-sm text-slate-600 leading-relaxed">
                        <div class="bg-orange-50 p-3 rounded-lg border border-orange-100">
                            <p class="font-bold text-slate-800 mb-1">📍 地點</p>
                            <p>高雄小港機場 國際航廈 3F (出境管制區內)</p>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-2">🚶‍♂️ 如何前往</p>
                            <ul class="list-disc pl-5 space-y-1 font-hand text-lg">
                                <li>通過證照查驗櫃檯進入免稅店區。</li>
                                <li>直接<span class="text-jeju-orange font-bold">「向左轉」</span>(往 21-26 登機門方向)。</li>
                                <li>沿著長廊直走到底。</li>
                                <li>位於 <span class="font-bold text-slate-800">22 號登機門</span> 附近。</li>
                            </ul>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-1">👀 辨識特徵</p>
                            <p>外觀為復古紅磚牆與圓形拱門設計，呈現「蘇州庭園」風格。</p>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                         <button onclick="closeModal()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showCarGuide = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="relative bg-white text-left">
                    <div class="text-center mb-4">
                        <h3 class="text-lg font-bold text-slate-800 flex items-center justify-center gap-2 font-hand tracking-wide">
                            <i class="fas fa-car text-jeju-orange"></i> The Safe Rent A Car 取車指引
                        </h3>
                    </div>

                    <div class="space-y-4 text-sm text-gray-600 leading-relaxed">
                        <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                            <p class="font-bold text-slate-800 mb-1">📍 接駁地點</p>
                            <p>濟州國際機場 GATE 5 出口外，過斑馬線至租車接駁區 <strong>5-14</strong></p>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-2">🚶‍♂️ 如何前往接駁車</p>
                            <ul class="list-disc pl-5 space-y-1 font-hand text-lg">
                                <li>抵達濟州機場後，請往 <strong>GATE 5</strong> 出口移動。</li>
                                <li>過斑馬線到達對面的<strong>租車接駁車停車場 (Rent-a-car House)</strong>。</li>
                                <li>尋找 <strong>5區域 14號 (5-14)</strong> 站牌。</li>
                                <li>搭乘寫有 <strong>"The Safe Rent A Car" (더세이프렌터카)</strong> 的接駁車。</li>
                                <li>接駁車每 20-30 分鐘一班 (營運時間 08:00~20:00)。</li>
                            </ul>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-1">🚌 接駁車特徵</p>
                            <p>通常是白色或黃色的小巴士，車身印有 The Safe Rent A Car LOGO。</p>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                         <button onclick="closeModal()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showEcoLandPrice = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-green-600"><i class="fas fa-train"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-green-300 pb-3 font-hand tracking-wide">
                        🚂 ECOLAND 森林小火車
                    </h3>

                    <div class="space-y-4">
                        <!-- 票價區塊 -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-ticket-alt"></i> 門票價格 (含火車搭乘)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-tie text-xs mr-2 opacity-50"></i>成人 <span class="text-[10px] font-sans ml-1 text-slate-400">(19歲+)</span></span>
                                    <span class="font-bold text-green-600">₩16,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-graduate text-xs mr-2 opacity-50"></i>青少年 <span class="text-[10px] font-sans ml-1 text-slate-400">(13-18歲)</span></span>
                                    <span class="font-bold text-blue-500">₩13,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-child text-xs mr-2 opacity-50"></i>兒童 <span class="text-[10px] font-sans ml-1 text-slate-400">(3-12歲)</span></span>
                                    <span class="font-bold text-orange-500">₩11,000</span>
                                </div>
                            </div>
                            <p class="text-[10px] text-slate-400 mt-2 italic">* 36個月以下幼兒憑證件免費入場</p>
                        </div>

                        <!-- 時間區塊 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> 冬季營運資訊
                            </h4>
                            <div class="text-sm text-slate-600 space-y-1.5 font-sans px-1">
                                <div class="flex justify-between items-center">
                                    <span>首班車發車：</span><span class="font-bold bg-white px-2 py-0.5 rounded shadow-sm text-blue-600">08:30</span>
                                </div>
                                <div class="flex justify-between items-center text-red-500">
                                    <span>最後售票/入場：</span><span class="font-bold bg-white px-2 py-0.5 rounded shadow-sm">16:30</span>
                                </div>
                                <p class="text-[11px] text-slate-400 mt-1"><i class="fas fa-info-circle mr-1"></i>營業時間隨日落時間與天氣彈性調整</p>
                            </div>
                        </div>

                        <!-- 攻略區塊 -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-lightbulb"></i> 親子遊玩提醒
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">1</span>
                                    建議停留 2-3 小時，園區非常大！
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">2</span>
                                    火車間隔 7-12 分鐘，共有 4 個主題站。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">3</span>
                                    每一站都可隨意下車，玩完再搭下一班。
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }
        
        window.showRailBikePrice = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-pink-600"><i class="fas fa-bicycle"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-pink-300 pb-3 font-hand tracking-wide">
                        🚲 濟州鐵道自行車
                    </h3>

                    <div class="space-y-4">
                        <!-- 票價區塊 -->
                        <div class="bg-pink-50 p-4 rounded-2xl border border-pink-100 shadow-sm">
                            <h4 class="font-bold text-pink-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-tags"></i> 乘車費用 (依車型計價)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-friends text-xs mr-2 opacity-50"></i>2 人座</span>
                                    <span class="font-bold text-pink-600">₩30,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-users text-xs mr-2 opacity-50"></i>3 人座</span>
                                    <span class="font-bold text-purple-500">₩40,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-group text-xs mr-2 opacity-50"></i>4 人座</span>
                                    <span class="font-bold text-indigo-500">₩48,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- 時間區塊 -->
                        <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm">
                            <h4 class="font-bold text-purple-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-hourglass-start"></i> 營運時間與發車
                            </h4>
                            <div class="text-sm text-slate-600 space-y-1.5 font-sans px-1">
                                <div class="flex justify-between items-center">
                                    <span>營運時段：</span><span class="font-bold">09:00 - 17:30</span>
                                </div>
                                <div class="flex justify-between items-center text-jeju-blue font-bold">
                                    <span>發車間隔：</span><span>每整點發車一次</span>
                                </div>
                                <p class="text-[11px] text-slate-400 mt-1"><i class="fas fa-info-circle mr-1"></i>請務必提前 20 分鐘抵達售票處換票</p>
                            </div>
                        </div>

                        <!-- 攻略區塊 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-sparkles"></i> 遊玩小提醒
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    車輛為自動行駛(電動輔助)，完全不需要費力踩！
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    沿途可欣賞龍臥岳、草原風光與放牧的牛群。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    車廂備有透明防雨/風罩，即使冬天也不會太冷。
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-pink-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showBuchonMenu = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-orange-600"><i class="fas fa-fish"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-orange-300 pb-3 font-hand tracking-wide">
                        🐟 富村食堂 (부촌식당) 菜單
                    </h3>

                    <div class="space-y-4">
                        <!-- 招牌煮物區 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-star text-jeju-orange"></i> 招牌煮物定食 (含小菜+湯)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-50">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-slate-800 leading-tight">白帶魚煮物定食</p>
                                            <p class="text-[10px] font-sans text-slate-400">갈치조림 정식 (Braised Cutlassfish)</p>
                                        </div>
                                        <span class="font-bold text-orange-600 ml-2">₩15,000</span>
                                    </div>
                                </div>
                                <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-50">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-slate-800 leading-tight">鯖魚煮物定食</p>
                                            <p class="text-[10px] font-sans text-slate-400">고등어조림 정식 (Braised Mackerel)</p>
                                        </div>
                                        <span class="font-bold text-orange-600 ml-2">₩13,000</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 烤魚與在地風味 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> 現烤魚類與在地風味
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">烤鯖魚</p>
                                        <p class="text-[9px] font-sans text-slate-400">고등어구이 (Grilled Mackerel)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩12,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">烤白帶魚 (大)</p>
                                        <p class="text-[9px] font-sans text-slate-400">갈치구이 (Grilled Cutlassfish)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩25,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">濟州鮑魚粥</p>
                                        <p class="text-[9px] font-sans text-slate-400">전복죽 (Abalone Porridge)</p>
                                    </div>
                                    <span class="font-bold text-green-600">₩13,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- 暖心湯品 -->
                        <div class="bg-teal-50 p-4 rounded-2xl border border-teal-100 shadow-sm">
                            <h4 class="font-bold text-teal-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-mug-hot"></i> 鮮甜暖心湯品
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">海膽美帶子湯</p>
                                        <p class="text-[9px] font-sans text-slate-400">성게미역국 (Sea Urchin Seaweed Soup)</p>
                                    </div>
                                    <span class="font-bold text-teal-600">₩15,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">鮑魚砂鍋湯</p>
                                        <p class="text-[9px] font-sans text-slate-400">전복뚝배기 (Abalone Hot Pot Soup)</p>
                                    </div>
                                    <span class="font-bold text-teal-600">₩15,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- 貼心提醒 -->
                        <div class="bg-gray-50 p-4 rounded-2xl border border-gray-200 shadow-sm">
                            <h4 class="font-bold text-gray-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> 餐廳筆記
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-1.5 pl-1 font-hand text-base">
                                <li>• <strong>定食內容：</strong> 包含一碗飯、當日例湯以及 5-6 種精緻韓式小菜。</li>
                                <li>• <strong>親子推薦：</strong> 烤鯖魚與海膽湯口味清淡鮮美，非常適合小孩。</li>
                                <li>• <strong>點餐提示：</strong> 煮物定食微辣，若完全不吃辣可選烤魚或湯類。</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-orange-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showGeumdotMenu = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-red-600"><i class="fas fa-fire"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-red-300 pb-3 font-hand tracking-wide">
                        🥩 金돗 黑豬肉 (금돗 성산) 菜單
                    </h3>

                    <div class="space-y-4">
                        <!-- 套餐區 -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-sm">
                            <h4 class="font-bold text-red-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-thumbs-up text-jeju-orange"></i> 超值限定套餐 (Signature Set)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-50">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-slate-800 leading-tight">金돗 黑豬肉二人套餐</p>
                                            <p class="text-[10px] font-sans text-slate-400">금돗 흑돼지 세트 (600g / Belly+Neck)</p>
                                        </div>
                                        <span class="font-bold text-red-600 ml-2">₩66,000</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 單點肉品 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> 頂級單點部位 (180g / 份)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">黑豬五花肉</p>
                                        <p class="text-[9px] font-sans text-slate-400">흑오겹살 (Black Pork Belly)</p>
                                    </div>
                                    <span class="font-bold text-orange-600">₩22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">黑豬豬頸肉</p>
                                        <p class="text-[9px] font-sans text-slate-400">흑목살 (Black Pork Neck)</p>
                                    </div>
                                    <span class="font-bold text-orange-600">₩22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">熟成白豬肉</p>
                                        <p class="text-[9px] font-sans text-slate-400">숙성 백돼지 (Aged Pork)</p>
                                    </div>
                                    <span class="font-bold text-slate-500">₩18,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- 配菜區 -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-bowl-rice"></i> 必點道地配菜
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">黑豬肉泡菜湯</p>
                                        <p class="text-[9px] font-sans text-slate-400">흑돼지 김치찌개 (Pork Kimchi Stew)</p>
                                    </div>
                                    <span class="font-bold text-green-600">₩7,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">水冷麵 / 拌冷麵</p>
                                        <p class="text-[9px] font-sans text-slate-400">물냉면 / 비빔냉면 (Cold Noodles)</p>
                                    </div>
                                    <span class="font-bold text-green-600">₩7,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">火山爆發蒸蛋</p>
                                        <p class="text-[9px] font-sans text-slate-400">계란찜 (Steamed Egg)</p>
                                    </div>
                                    <span class="font-bold text-green-600">₩4,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- 飲品區 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-glass-water"></i> 飲品與酒類
                            </h4>
                            <div class="grid grid-cols-2 gap-2 font-hand text-base">
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>燒酒 Soju</span><b>₩5,000</b></div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>啤酒 Beer</span><b>₩5,000</b></div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>汽水 Soda</span><b>₩2,000</b></div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>花生瑪格利</span><b>₩5,000</b></div>
                            </div>
                        </div>

                        <!-- 遊玩小提醒 -->
                        <div class="bg-gray-50 p-4 rounded-2xl border border-gray-200 shadow-sm text-xs">
                            <h4 class="font-bold text-gray-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> 燒肉小指南
                            </h4>
                            <ul class="space-y-1 text-slate-600 font-hand text-base leading-relaxed">
                                <li>• 店員會幫忙代烤，只要專心坐著吃就行！</li>
                                <li>• 推薦吃法：先沾點「鯷魚魚露」或「芥末」最對味。</li>
                                <li>• 蒸蛋口感綿密，是小朋友的最愛。</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-red-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showFerryInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-2 -right-2 text-4xl opacity-20 rotate-12"> ferry </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-dashed border-slate-200 pb-3 font-hand tracking-wide">
                        牛島渡輪 船班 & 票價
                    </h3>
                    <div class="mb-4">
                        <h4 class="font-bold text-slate-700 mb-2 text-sm"><i class="fas fa-clock text-blue-500 mr-1"></i> 船班時刻表 (每30分鐘一班)</h4>
                        <div class="bg-blue-50 rounded-lg p-3 text-xs leading-relaxed text-slate-600">
                            <p class="font-bold mb-1">去程 (城山出發)</p>
                            <p>08:00, 08:30, 09:00 ... 17:00 (末班)</p>
                            <p class="font-bold mt-2 mb-1">回程 (牛島出發)</p>
                            <p>07:30, 08:00 ... 17:00 (末班)</p>
                            <p class="text-[10px] text-gray-500 mt-2">* 實際時間依當日天氣與季節可能調整，請提早抵達。</p>
                        </div>
                    </div>
                    <div class="mb-4">
                        <h4 class="font-bold text-slate-700 mb-2 text-sm"><i class="fas fa-ticket-alt text-green-500 mr-1"></i> 往返票價 (含門票+船費)</h4>
                        <table class="boat-table w-full text-sm text-slate-600">
                            <thead class="bg-slate-100"><tr><th class="p-2 text-left">對象</th><th class="p-2 text-right">往返費用</th></tr></thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr><td class="p-2">成人 (19歲+)</td><td class="p-2 text-right font-bold">10,500 韓元</td></tr>
                                <tr><td class="p-2">中學生 (13-18歲)</td><td class="p-2 text-right font-bold">10,100 韓元</td></tr>
                                <tr><td class="p-2">小學生 (6-12歲)</td><td class="p-2 text-right font-bold">3,800 韓元</td></tr>
                                <tr><td class="p-2">兒童 (2-5歲)</td><td class="p-2 text-right font-bold">3,000 韓元</td></tr>
                            </tbody>
                        </table>
                    </div>
                     <div class="mb-4">
                        <h4 class="font-bold text-slate-700 mb-2 text-sm"><i class="fas fa-car text-orange-500 mr-1"></i> 車輛運費 (往返)</h4>
                        <table class="boat-table w-full text-sm text-slate-600">
                            <thead class="bg-slate-100"><tr><th class="p-2 text-left">車型</th><th class="p-2 text-right">往返費用</th></tr></thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr><td class="p-2">輕型車 (Morning等)</td><td class="p-2 text-right font-bold">21,600 韓元</td></tr>
                                <tr><td class="p-2">中型車 (Avante, Sonata)</td><td class="p-2 text-right font-bold">26,000 韓元</td></tr>
                                <tr><td class="p-2">大型車 (Grandeur, K7)</td><td class="p-2 text-right font-bold">30,400 韓元</td></tr>
                                 <tr><td class="p-2">休旅車 (Carnival, Starex)</td><td class="p-2 text-right font-bold">37,000 韓元</td></tr>
                            </tbody>
                        </table>
                        <p class="text-[10px] text-red-500 mt-2">* 租賃車上島需符合特定條件 (如孕婦、65歲以上長者、6歲以下兒童隨行)，請務必先確認。</p>
                    </div>
                    <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-100 text-xs">
                        <p class="font-bold text-yellow-800 mb-1">⚠️ 搭船必備</p>
                        <ul class="list-disc pl-4 space-y-1 text-yellow-700"><li>所有乘客的<strong>護照正本</strong>。</li><li>填寫<strong>乘船申報單</strong> (一式兩份，去回程各一張)。</li><li>建議提早 30 分鐘抵達售票處。</li></ul>
                    </div>
                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showUdoPlan = function() {
            const udoSpots = [
                { name: '西濱白沙 (Sanho Beach)', desc: '韓國唯一的紅藻團塊海灘，沙子像爆米花一樣白！', query: '우도 서빈백사', icon: 'fa-umbrella-beach' },
                { name: '下古水洞海水浴場', desc: '海水超清澈，適合玩水。必去 Blanc Rocher 咖啡廳☕', query: '하고수동해수욕장', icon: 'fa-water' },
                { name: '飛揚島 (Biyangdo)', desc: '退潮時可步行前往的小島，拍照打卡聖地📸', query: '비양도 연육교', icon: 'fa-camera' },
                { name: '檢蠻沙 (黑沙灘)', desc: '🥜 必吃：Jimmy\'s 花生冰淇淋！可搭快艇看海蝕洞。', query: '검멀레해수욕장', icon: 'fa-ice-cream' },
                { name: '牛島峰 (Udo Peak)', desc: '俯瞰全島壯麗景色，有體力可以爬上去看看。', query: '우도봉', icon: 'fa-mountain' }
            ];

            let html = `
                <div class="text-left relative h-full">
                    <div class="absolute top-0 right-0 text-4xl opacity-20">🥜</div>
                    <h3 class="text-xl font-bold text-slate-800 mb-3 text-center border-b-2 border-orange-200 pb-2 font-hand tracking-wide">
                        牛島環島必去路線 (順時針)
                    </h3>
                    
                    <div class="bg-orange-50 p-3 rounded-xl mb-4 text-xs text-orange-800 flex items-center border border-orange-100">
                        <i class="fas fa-motorcycle text-xl mr-3"></i>
                        <div>
                            <strong>交通建議：</strong><br>
                            下船後租「電動三輪車」或搭乘「海岸循環巴士」遊玩最方便。
                        </div>
                    </div>
                    <div class="space-y-0 pl-2">
            `;

            udoSpots.forEach((spot, index) => {
                const navUrl = `https://map.naver.com/p/search/${encodeURIComponent(spot.query)}`;
                html += `
                    <div class="relative pl-6 border-l-2 border-dashed border-slate-300 pb-6 last:border-0 last:pb-0">
                        <div class="absolute -left-[9px] top-0 bg-white border-2 border-orange-400 w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-orange-500 shadow-sm">${index + 1}</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-100 -mt-1 hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-1">
                                <h4 class="font-bold text-slate-700 text-sm flex items-center">
                                    <i class="fas ${spot.icon} text-orange-300 mr-2 w-4 text-center"></i>${spot.name}
                                </h4>
                                <a href="${navUrl}" target="_blank" class="text-jeju-blue hover:text-blue-700 text-[10px] bg-blue-50 px-2 py-1 rounded-full whitespace-nowrap ml-2 font-bold flex items-center">
                                    <i class="fas fa-location-arrow mr-1"></i> 導航
                                </a>
                            </div>
                            <p class="text-xs text-slate-500 leading-relaxed pl-6">${spot.desc}</p>
                        </div>
                    </div>
                `;
            });

            html += `
                    </div>
                    <div class="mt-6 text-center">
                        <button onclick="closeModal()" class="bg-slate-100 hover:bg-slate-200 text-slate-500 px-6 py-2 rounded-full text-xs font-bold transition-colors">
                            關閉 Close
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('modal-content-area').innerHTML = html;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showAquaPlanetInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-blue-600"><i class="fas fa-fish"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-blue-300 pb-3 font-hand tracking-wide">
                        🐬 Aqua Planet Jeju 玩樂指南
                    </h3>

                    <div class="space-y-4">
                        <!-- 門票狀況區 -->
                        <div class="bg-blue-600 text-white p-4 rounded-2xl shadow-lg border-2 border-blue-400 relative overflow-hidden">
                            <div class="absolute -right-2 -bottom-2 text-5xl opacity-20 rotate-12"><i class="fas fa-check-circle"></i></div>
                            <div class="relative z-10 flex items-center gap-3">
                                <i class="fas fa-ticket-alt text-2xl"></i>
                                <div>
                                    <p class="font-bold text-lg leading-tight">門票已購買</p>
                                    <p class="text-xs opacity-90 font-hand text-base">Agoda 預訂成功，現場出示憑證即可</p>
                                </div>
                            </div>
                        </div>

                        <!-- 簡介區 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> 景點簡介
                            </h4>
                            <p class="text-xs text-slate-600 leading-relaxed font-sans px-1">
                                濟州島必去！亞洲最大級別的水族館。由水族館、海洋科學館及海洋劇場組成，擁有 5,000 多種、4 萬 8 千多隻海洋生物。
                            </p>
                        </div>

                        <!-- 表演時間區 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-star"></i> 必看精彩表演
                            </h4>
                            <div class="space-y-3">
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-orange-100">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><i class="fas fa-swimmer mr-1 text-orange-500"></i> 海女潛水演示 (水族館 B1)</p>
                                    <p class="text-[10px] text-slate-500 mb-2">觀看濟州海女無裝備潛水示範與故事分享。</p>
                                    <div class="flex flex-wrap gap-1.5">
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">10:30</span>
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">12:20</span>
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">14:10</span>
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">16:00</span>
                                    </div>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-orange-100">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><i class="fas fa-theater-masks mr-1 text-blue-500"></i> 海洋競技場 (劇場 B1)</p>
                                    <p class="text-[10px] text-slate-500 mb-2">包含俄羅斯空中飛人雜技與海獅、海豚表演。</p>
                                    <div class="flex flex-wrap gap-1.5">
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">11:10</span>
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">13:00</span>
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">15:00</span>
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">16:50</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 票價參考區 -->
                        <div class="bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-coins"></i> 票價參考 (現場原價)
                            </h4>
                            <div class="space-y-1.5 font-hand text-lg">
                                <div class="flex justify-between items-center text-slate-600">
                                    <span>成人 (19歲+)</span><span class="font-bold">₩42,400</span>
                                </div>
                                <div class="flex justify-between items-center text-slate-600">
                                    <span>兒童 (12歲以下)</span><span class="font-bold">₩38,500</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-blue-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }
        
        window.showOlleMarketRecs = function() {
             document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-jeju-orange"><i class="fas fa-store"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-jeju-orange pb-3 font-hand tracking-wide">
                        🍊 每日偶來市場 強力推薦
                    </h3>

                    <div class="space-y-4">
                        <!-- 必吃美食區 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> 邊走邊吃四大天王
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">❶</span> 橘子麻糬 (귤모찌)</p>
                                    <p class="text-[10px] text-slate-500">外皮Q彈，內餡是整顆新鮮多汁的橘子，酸甜清爽！</p>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">❷</span> 黑豬肉可樂餅 (흑돼지 고로케)</p>
                                    <p class="text-[10px] text-slate-500">外殼酥脆，內餡是紮實的黑豬肉與洋蔥，飽足感十足。</p>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">❸</span> 螃蟹奶油可樂餅 (대게그라탕)</p>
                                    <p class="text-[10px] text-slate-500">將蟹肉與濃郁起司填入蟹殼後火烤，香氣逼人。</p>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">❹</span> 漢拿峰果汁 (한라봉 주스)</p>
                                    <p class="text-[10px] text-slate-500">100% 現榨，來到濟州島每天都要來上一瓶的酸甜滋味。</p>
                                </div>
                            </div>
                        </div>

                        <!-- 伴手禮重點區 -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-lg relative overflow-hidden">
                            <div class="absolute right-0 top-0 bg-red-500 text-white text-[10px] px-2 py-1 rounded-bl-lg font-bold">必逛店鋪</div>
                            <h4 class="font-bold text-red-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-gift text-red-500"></i> 伴手禮首選推薦
                            </h4>
                            <div class="bg-white p-4 rounded-xl shadow-sm border border-red-50">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="bg-red-100 text-red-600 font-black px-3 py-1 rounded-full text-sm">📍 188 號攤位</span>
                                    <i class="fas fa-shopping-bag text-red-200"></i>
                                </div>
                                <div class="text-slate-700 font-hand text-lg space-y-2">
                                    <p>這家店貨色非常齊全，且價格公道，推薦購買：</p>
                                    <ul class="list-disc pl-5 text-base space-y-1">
                                        <li><strong>漢拿峰巧克力 / 橘子巧克力</strong> (多盒買有優惠)</li>
                                        <li><strong>濟州橘子乾</strong> (輕便好帶，適合送禮)</li>
                                        <li><strong>石頭爺爺雞蛋糕 / 造型小飾品</strong></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 市場攻略提醒 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm text-xs">
                            <h4 class="font-bold text-blue-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> 逛街小筆記
                            </h4>
                            <ul class="space-y-1.5 text-slate-600 font-hand text-base leading-relaxed">
                                <li>• <strong>營業時間：</strong> 07:00 - 21:00 (夜市氛圍在傍晚最熱鬧)。</li>
                                <li>• <strong>停車提醒：</strong> 市場設有大型公用停車場，前 30 分鐘通常免費。</li>
                                <li>• <strong>親子友善：</strong> 市場中央有條流水造景步道，可以讓小朋友坐在這裡休息吃東西。</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-jeju-orange text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
             document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showDongmunInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-orange-600"><i class="fas fa-store"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-orange-300 pb-3 font-hand tracking-wide">
                        🍊 濟州東門市場 全攻略
                    </h3>

                    <!-- 營業資訊 -->
                    <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm mb-4">
                        <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                            <i class="fas fa-clock"></i> 營業時間與地點
                        </h4>
                        <div class="text-sm text-slate-600 font-sans px-1 space-y-1">
                            <p class="flex justify-between"><span>一般市場：</span><span class="font-bold">08:00 - 21:00</span></p>
                            <p class="flex justify-between"><span>夜市時段：</span><span class="font-bold text-red-500">18:00 - 24:00</span></p>
                            <p class="text-[10px] text-slate-400 mt-2"><i class="fas fa-map-marker-alt mr-1"></i>夜市集中在 <strong class="text-slate-600">Gate 8</strong> 號出口附近</p>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <!-- 排隊名店 (必吃) -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-red-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-fire text-red-500"></i> 排隊名店 (必吃)
                            </h4>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between items-start mb-1">
                                        <p class="font-bold text-slate-800 text-sm">Abebe Bakery <span class="bg-red-500 text-white text-[9px] px-1.5 rounded ml-1">超人氣</span></p>
                                        <span class="text-[10px] bg-slate-100 px-1 rounded text-slate-500">Gate 1 附近</span>
                                    </div>
                                    <p class="text-[10px] text-slate-400 font-sans mb-1">아베베베이커리 (10:00-19:00)</p>
                                    <ul class="text-xs text-slate-600 list-disc pl-4 space-y-0.5">
                                        <li>必點：<strong>伍島花生奶油甜甜圈</strong>、<strong>漢拿峰柑橘奶油麵包</strong></li>
                                        <li>Tip：建議早上 10 點開門就去，下午通常大排長龍。</li>
                                    </ul>
                                </div>
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-start mb-1">
                                        <p class="font-bold text-slate-800 text-sm">Sarang Bunsik</p>
                                        <span class="text-[10px] bg-slate-100 px-1 rounded text-slate-500">在地推薦</span>
                                    </div>
                                    <p class="text-[10px] text-slate-400 font-sans mb-1">사랑분식 (11:30-21:00)</p>
                                    <ul class="text-xs text-slate-600 list-disc pl-4 space-y-0.5">
                                        <li>必點：<strong>愛之食 (Sarang-sik)</strong> - 辣炒年糕+飯捲+餃子的組合。</li>
                                        <li>特色：甜辣口味，是在地人從小吃到大的回憶。</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 夜市美食 (Gate 8) -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-moon"></i> 夜市必吃 (Gate 8)
                            </h4>
                            <div class="grid grid-cols-1 gap-2 text-sm text-slate-700 font-hand">
                                <div class="bg-white px-3 py-2 rounded-lg border border-blue-50 flex justify-between items-center">
                                    <span>🔥 烤龍蝦起司</span>
                                    <span class="text-[10px] text-slate-400">視覺效果滿分</span>
                                </div>
                                <div class="bg-white px-3 py-2 rounded-lg border border-blue-50 flex justify-between items-center">
                                    <span>🐷 黑豬肉捲 / 꼬치</span>
                                    <span class="text-[10px] text-slate-400">淋滿醬汁超罪惡</span>
                                </div>
                                <div class="bg-white px-3 py-2 rounded-lg border border-blue-50 flex justify-between items-center">
                                    <span>🍙 鮑魚飯捲</span>
                                    <span class="text-[10px] text-slate-400">方形飯捲</span>
                                </div>
                                <div class="bg-white px-3 py-2 rounded-lg border border-blue-50 flex justify-between items-center">
                                    <span>🦀 炸螃蟹 / 蟹殼燒</span>
                                    <span class="text-[10px] text-slate-400">整隻都可以吃</span>
                                </div>
                            </div>
                        </div>

                        <!-- 必買伴手禮 -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-gift"></i> 必買伴手禮
                            </h4>
                            <ul class="text-xs text-slate-600 list-disc pl-4 space-y-1.5 font-hand text-base">
                                <li><strong>Omegi Tteok (小米紅豆年糕)：</strong> 外層裹滿紅豆，內餡有艾草香，必買名產！(推薦：Jina Tteokzip / 진아떡집)</li>
                                <li><strong>濟州橘子：</strong> 冬天正好是產季，建議現場試吃再整箱買。</li>
                                <li><strong>橘子巧克力/果乾：</strong> 市場價格通常比機場便宜很多，適合大量送禮。</li>
                                <li><strong>石頭爺爺周邊：</strong> 橘子帽、小吊飾等文創小物。</li>
                            </ul>
                        </div>

                        <!-- 溫馨提醒 -->
                        <div class="bg-gray-50 p-4 rounded-2xl border border-gray-200 shadow-sm text-xs">
                            <h4 class="font-bold text-gray-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> 溫馨提醒
                            </h4>
                            <ul class="space-y-1.5 text-slate-600 font-hand text-base leading-relaxed pl-1">
                                <li>• <strong>垃圾處理：</strong> 市場內垃圾桶非常少！強烈建議自備小塑膠袋裝垃圾。</li>
                                <li>• <strong>付款方式：</strong> 大部分攤位可刷卡 (WOWPASS OK)，但準備一些現金 (1000/5000韓元) 買小吃會更方便快速。</li>
                                <li>• <strong>生魚片：</strong> 這裡有很多一盤 10,000 韓元的生魚片，便宜但要仔細看魚眼睛確認新鮮度。</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-orange-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showCafeInfo = function() {
            const gamttanamNav = `https://map.naver.com/p/search/${encodeURIComponent('감따남')}`;
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-jeju-orange"><i class="fas fa-coffee"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-orange-300 pb-3 font-hand tracking-wide">
                        🍊 橘花閣樓 (귤꽃다락) 指南
                    </h3>

                    <div class="space-y-4">
                        <!-- 營業資訊 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> 營業資訊
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1">
                                <p class="flex justify-between"><span>每日營業時間：</span><span class="font-bold">11:00 - 19:00</span></p>
                                <p class="flex justify-between text-red-500 mt-1"><span>最後入店/點餐：</span><span class="font-bold text-xs">18:15</span></p>
                            </div>
                        </div>

                        <!-- 採橘子體驗區 -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-200 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-basket-shopping"></i> 採橘子體驗 (產季限定)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-2 rounded-lg border border-green-100 shadow-sm flex justify-between items-center">
                                    <span>體驗收費 <span class="text-xs font-sans text-slate-400">(含現場試吃)</span></span>
                                    <b class="text-green-600">₩5,000 / 人</b>
                                </div>
                                <div class="bg-white p-2 rounded-lg border border-green-100 shadow-sm flex justify-between items-center">
                                    <span>外帶小桶 <span class="text-xs font-sans text-slate-400">(約 1-1.5kg)</span></span>
                                    <b class="text-green-600">₩10,000 / 桶</b>
                                </div>
                                <div class="text-xs text-slate-600 font-sans mt-2 bg-white/50 p-2 rounded border border-dashed border-green-300">
                                    <p class="font-bold mb-1 underline">採摘規則：</p>
                                    <ul class="list-disc pl-4 space-y-1">
                                        <li>請務必使用店家提供的專用剪刀，嚴禁徒手拔取。</li>
                                        <li>採下的橘子請勿丟棄或浪費，請依指示放入籃內。</li>
                                        <li>禁止攀爬橘子樹或搖晃樹幹，以免損壞果樹。</li>
                                        <li>果園路面可能濕滑，小朋友需由大人陪同。</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 消費規則 -->
                        <div class="bg-white p-4 rounded-2xl border border-2 border-dashed border-orange-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-coins text-jeju-orange"></i> 咖啡廳規範
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-1 pl-1 font-hand text-base">
                                <li>• <strong>低消：</strong> 每人必須點一份飲品 (包含孩童)。</li>
                                <li>• <strong>推薦：</strong> 橘子拿鐵、橘子氣泡飲、手工橘子羊羹。</li>
                                <li>• <strong>禁令：</strong> 嚴禁外食，禁止商業攝影或頻繁更換衣服拍照。</li>
                            </ul>
                        </div>

                        <!-- 客滿備案區 -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-md relative overflow-hidden">
                            <div class="absolute right-0 top-0 bg-yellow-400 text-white text-[9px] px-2 py-0.5 rounded-bl-lg font-bold uppercase">Backup Plan</div>
                            <h4 class="font-bold text-yellow-800 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-map-signs text-yellow-600"></i> 客滿備案：Gamttanam
                            </h4>
                            <p class="text-[11px] text-slate-500 mb-3 leading-relaxed">
                                如果橘花閣樓客滿或排隊太久，推薦前往附近的 <strong>Gamttanam (감따남)</strong>，同樣擁有絕美橘子園景觀與採摘體驗！
                            </p>
                            <a href="${gamttanamNav}" target="_blank" class="w-full bg-white border border-yellow-400 text-yellow-700 py-2 rounded-xl text-xs font-bold shadow-sm flex items-center justify-center gap-2 active:scale-95 transition">
                                <i class="fas fa-location-arrow"></i> 導航前往 Gamttanam
                            </a>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-jeju-orange text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showLandingDiningInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-yellow-600"><i class="fas fa-crown"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-yellow-400 pb-3 font-hand tracking-wide">
                        🍽️ 藍鼎自助晚餐 (Landing Dining)
                    </h3>

                    <div class="space-y-4">
                        <!-- 預約狀態區 -->
                        <div class="bg-yellow-600 text-white p-4 rounded-2xl shadow-lg border-2 border-yellow-400 relative overflow-hidden">
                            <div class="absolute -right-2 -bottom-2 text-5xl opacity-20 rotate-12"><i class="fas fa-calendar-check"></i></div>
                            <div class="relative z-10 flex items-center gap-3">
                                <i class="fas fa-user-clock text-2xl"></i>
                                <div>
                                    <p class="font-bold text-lg leading-tight">已預約 18:00</p>
                                    <p class="text-xs opacity-90 font-hand text-base">時間不可變動，請準時抵達飯店 1F</p>
                                </div>
                            </div>
                        </div>

                        <!-- 營業與消費 -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-coins"></i> 營業時間與收費標準
                            </h4>
                            <div class="text-sm text-slate-600 space-y-2 font-sans px-1">
                                <div class="flex justify-between items-center">
                                    <span>晚餐營運時段：</span><span class="font-bold bg-white px-2 py-0.5 rounded shadow-sm text-yellow-600">18:00 - 21:30</span>
                                </div>
                                <div class="grid grid-cols-1 gap-2 mt-3 font-hand text-lg">
                                    <div class="flex justify-between items-center bg-white px-3 py-1.5 rounded-lg border border-yellow-100">
                                        <span>成人 (13歲+)</span><b class="text-yellow-700">₩149,000</b>
                                    </div>
                                    <div class="flex justify-between items-center bg-white px-3 py-1.5 rounded-lg border border-yellow-100">
                                        <span>兒童 (37個月-12歲)</span><b class="text-yellow-700">₩75,000</b>
                                    </div>
                                    <div class="flex justify-between items-center bg-white px-3 py-1.5 rounded-lg border border-yellow-100">
                                        <span>幼兒 (36個月以下)</span><b class="text-green-600 font-bold">免費 (FREE)</b>
                                    </div>
                                </div>
                                <p class="text-[10px] text-slate-400 italic mt-2">* 價格已包含 10% 服務費與 10% 稅金。幼兒請備妥年齡證明。</p>
                            </div>
                        </div>

                        <!-- 頂級亮點區 -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-gem"></i> 必吃頂級食材
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-center gap-2"><i class="fas fa-check text-orange-400"></i> 無限量供應：長腳蟹、波士頓龍蝦、鮑魚。</li>
                                <li class="flex items-center gap-2"><i class="fas fa-check text-orange-400"></i> 濟州特色：現烤黑豬肉、當地新鮮刺身拼盤。</li>
                                <li class="flex items-center gap-2"><i class="fas fa-check text-orange-400"></i> 精緻甜點：現做鬆餅、頂級手工冰淇淋區。</li>
                            </ul>
                        </div>

                        <!-- 貼心提醒 -->
                        <div class="bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-sm text-xs">
                            <h4 class="font-bold text-slate-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle text-slate-400"></i> 用餐小筆記
                            </h4>
                            <ul class="space-y-1.5 text-slate-500 font-hand text-base leading-relaxed">
                                <li>• 餐廳備有大量高品質兒童餐椅與餐具。</li>
                                <li>• 著裝建議：Smart Casual (避免穿著客房拖鞋或睡衣)。</li>
                                <li>• 飲水：除了現榨果汁，酒類通常需額外付費點購。</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-yellow-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showThemeParkInfo = function() {
            const photoUrl = "https://raw.githubusercontent.com/[你的GitHub帳號]/[你的專案名稱]/main/jeju_shinhwa_park.jpg";
            
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-purple-600"><i class="fas fa-ticket-alt"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-purple-300 pb-3 font-hand tracking-wide">
                        🎡 神話主題公園 攻略指南
                    </h3>

                    <div class="space-y-4">
                        <!-- 營業與入場資訊 -->
                        <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm">
                            <div class="flex justify-between items-center mb-2">
                                <h4 class="font-bold text-purple-700 text-sm flex items-center gap-2">
                                    <i class="fas fa-door-open"></i> 營業資訊
                                </h4>
                                <span class="bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded-full font-bold">免票入場</span>
                            </div>
                            <div class="text-sm text-slate-600 space-y-1.5 font-sans px-1">
                                <div class="flex justify-between"><span>營業時間：</span><span class="font-bold">10:00 - 20:00</span></div>
                                <p class="text-[10px] text-slate-400 italic">註：園區可免費進入參觀/逛商店街，遊樂設施需另購票。</p>
                            </div>
                        </div>

                        <!-- 票價與 Big 3 -->
                        <div class="bg-white p-4 rounded-2xl border border-2 border-dashed border-purple-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-tags text-purple-500"></i> 各式票價與使用方式
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="flex justify-between items-center border-b border-gray-50 pb-1.5">
                                    <span>全日通票 (All-Day Pass)</span><b class="text-purple-600">₩30,000起</b>
                                </div>
                                <div class="flex justify-between items-center bg-purple-50 p-2 rounded-lg">
                                    <span>Big 3 券 <span class="text-xs text-slate-400">(任選3項設施)</span></span><b class="text-purple-600 text-xl">₩16,000</b>
                                </div>
                                <div class="flex justify-between items-center border-b border-gray-50 pb-1.5">
                                    <span>單項設施券 (Single Ride)</span><b class="text-purple-600">₩6,000起</b>
                                </div>
                            </div>
                        </div>

                        <!-- 小孩設施清單 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-child"></i> 小孩能玩的設施 (身高分級)
                            </h4>
                            <div class="space-y-3">
                                <div class="bg-white p-2 rounded-lg shadow-sm">
                                    <p class="font-bold text-blue-600 text-[11px] border-b mb-1.5 pb-0.5">🟢 90cm - 100cm (家長陪同)</p>
                                    <ul class="text-[11px] text-slate-600 grid grid-cols-1 gap-1">
                                        <li>• 逗逗蟲世界快車 <span class="text-orange-400 font-bold">(必玩!)</span></li>
                                        <li>• 旋轉樂園 (旋轉木馬)</li>
                                        <li>• 逗逗蟲影院 (4D 影院)</li>
                                    </ul>
                                </div>
                                <div class="bg-white p-2 rounded-lg shadow-sm">
                                    <p class="font-bold text-purple-600 text-[11px] border-b mb-1.5 pb-0.5">🟡 105cm - 120cm</p>
                                    <ul class="text-[11px] text-slate-600 grid grid-cols-1 gap-1">
                                        <li>• 奧斯卡 V 世界</li>
                                        <li>• 飛越奧斯卡</li>
                                        <li>• 逗逗蟲太空冒險</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 園區地圖展示區 (已修改為憑證圖卡風格) -->
                        <div class="bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-map"></i> 園區地圖
                            </h4>
                            <div class="bg-white p-2 rounded-2xl shadow-sm border border-slate-200">
                                <div class="rounded-xl overflow-hidden shadow-inner border border-slate-100 relative h-48 cursor-pointer group" 
                                     onclick="window.open('jeju_shinhwa_park.jpg', '_blank')">
                                    <!-- 請確認您的圖片檔名為 jeju_shinhwa_park.jpg 並與此網頁放在同一層目錄 -->
                                    <img src="jeju_shinhwa_park.jpg" 
                                         onerror="this.src='https://images.unsplash.com/photo-1605218427368-35b0b0213032?auto=format&fit=crop&w=800&q=80';" 
                                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700" 
                                         alt="園區地圖">
                                    
                                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"></div>
                                    
                                    <div class="absolute bottom-2 right-2 bg-white/90 backdrop-blur text-slate-700 text-xs px-2 py-1 rounded shadow-sm font-bold flex items-center gap-1 group-active:scale-95 transition-transform">
                                        <i class="fas fa-expand"></i> 查看地圖
                                    </div>
                                </div>
                                <p class="text-[10px] text-slate-400 mt-2 text-center">
                                    <i class="fas fa-info-circle mr-1"></i>點擊圖片可開啟大圖 (請確認圖片名稱為 jeju_shinhwa_park.jpg)
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showPororoInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-blue-500"><i class="fas fa-child"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-blue-300 pb-3 font-hand tracking-wide">
                        🐧 Pororo & Tayo 樂園攻略
                    </h3>

                    <div class="space-y-4">
                        <!-- 營業時間 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> 營業時間
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1">
                                <p class="flex justify-between"><span>全園區：</span><span class="font-bold">10:00 - 18:00</span></p>
                                <p class="text-[10px] text-red-500 mt-1"><i class="fas fa-exclamation-circle mr-1"></i>戶外設施可能因天氣(雨/雪/強風)暫停運作</p>
                            </div>
                        </div>

                        <!-- 票價資訊 -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-ticket-alt"></i> 票價資訊 (自由通票)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-yellow-100">
                                    <span class="text-slate-600"><i class="fas fa-child text-xs mr-2 opacity-50"></i>兒童 <span class="text-[10px] font-sans">(12個月-12歲)</span></span>
                                    <b class="text-jeju-orange">₩40,000</b>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-yellow-100">
                                    <span class="text-slate-600"><i class="fas fa-user text-xs mr-2 opacity-50"></i>成人 <span class="text-[10px] font-sans">(13歲以上)</span></span>
                                    <b class="text-slate-600">₩30,000</b>
                                </div>
                                <div class="text-[10px] text-slate-500 mt-2 bg-white/50 p-2 rounded">
                                    <p>💡 <strong>Note:</strong> 這裡小孩比大人貴！因為設施主要是給小孩玩的。</p>
                                    <p>💡 <span class="text-blue-500">After 3 (15:00後)</span> 入場通常有 30-40% 折扣。</p>
                                </div>
                            </div>
                        </div>

                        <!-- 必玩設施 -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-blue-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-star text-jeju-blue"></i> 必玩設施推薦
                            </h4>
                            
                            <div class="mb-3">
                                <p class="font-bold text-blue-600 text-xs mb-1">🚌 戶外區 (Tayo Zone)</p>
                                <ul class="text-xs text-slate-600 space-y-1 pl-2 border-l-2 border-blue-100">
                                    <li>• <strong>Tayo 巴士:</strong> 繞行庭園的小火車，必搭！</li>
                                    <li>• <strong>紅色大摩天輪:</strong> 視野超好，可看海。</li>
                                    <li>• <strong>海盜船 (Viking):</strong> 比較刺激，需身高 110cm+。</li>
                                </ul>
                            </div>
                            
                            <div>
                                <p class="font-bold text-orange-600 text-xs mb-1">🐧 室內區 (Pororo Zone)</p>
                                <ul class="text-xs text-slate-600 space-y-1 pl-2 border-l-2 border-orange-100">
                                    <li>• <strong>Pororo 小火車:</strong> 室內繞一圈，不用曬太陽。</li>
                                    <li>• <strong>巨大球池 & 彈跳床:</strong> 放電神器。</li>
                                    <li>• <strong>4D 騎士體驗:</strong> 戴眼鏡看動畫，有噴水效果。</li>
                                    <li>• <strong>水上游樂區 (Aqua Play):</strong> 需穿防水衣(現場有)。</li>
                                </ul>
                            </div>
                        </div>

                        <!-- 攻略 Tips -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-sm">
                            <h4 class="font-bold text-red-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-lightbulb"></i> 家長生存攻略
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-red-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>必帶襪子：</strong> 室內遊樂區規定大人小孩都要穿襪子！
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-red-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>先攻戶外：</strong> 如果天氣好，建議先玩戶外 Tayo 區，因為下午風大或變天可能會關閉。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-red-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>用餐：</strong> 園區內有美食街 (炸豬排、烏龍麵)，價格和外面差不多，不用特地帶便當。
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-blue-500 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showSuksungdoInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-red-600"><i class="fas fa-fire-alt"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-red-300 pb-3 font-hand tracking-wide">
                        🥩 熟成到 (Suksungdo) 燒肉指南
                    </h3>

                    <div class="space-y-4">
                        <!-- 訂位狀態區 (最重要的資訊) -->
                        <div class="bg-red-600 text-white p-4 rounded-2xl shadow-lg border-2 border-red-400 relative overflow-hidden">
                            <div class="absolute -right-2 -bottom-2 text-5xl opacity-20 rotate-12"><i class="fas fa-calendar-check"></i></div>
                            <div class="relative z-10">
                                <div class="flex items-center gap-3 mb-2">
                                    <i class="fas fa-clock text-2xl"></i>
                                    <div>
                                        <p class="font-bold text-lg leading-tight">已訂位 18:30</p>
                                        <p class="text-xs opacity-90 font-hand text-base">訂金已付：₩30,000</p>
                                    </div>
                                </div>
                                <a href="https://www.catchtable.net/zh-TW/shop/suksungdo_jeju" target="_blank" class="block w-full bg-white text-red-600 text-center text-xs font-bold py-2 rounded-lg shadow-sm hover:bg-slate-100 transition-colors">
                                    <i class="fas fa-link mr-1"></i> 查看 Catch Table 預約頁面
                                </a>
                            </div>
                        </div>

                        <!-- 營業與服務 -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-sm">
                            <h4 class="font-bold text-red-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-store"></i> 營業資訊
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1 space-y-1">
                                <p class="flex justify-between"><span>營業時間：</span><span class="font-bold">11:30 - 22:00</span></p>
                                <p class="flex justify-between"><span>休息時間：</span><span class="font-bold">15:00 - 16:30</span></p>
                                <p class="flex justify-between mt-2 text-red-600"><span class="flex items-center gap-1"><i class="fas fa-hands-helping"></i> 服務方式：</span><span class="font-bold">全程專人代烤</span></p>
                            </div>
                        </div>

                        <!-- 限量招牌肉品 (Signature) -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-red-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-crown text-jeju-orange"></i> 每日限量必點 (Signature)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="flex justify-between items-start border-b border-gray-50 pb-2">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-tight">960 熟成帶骨里肌 <span class="bg-red-500 text-white text-[9px] px-1.5 rounded ml-1">TOP 1</span></p>
                                        <p class="text-[10px] text-slate-400 font-sans">960 뼈등심 (Bone-in Loin)</p>
                                        <p class="text-[10px] text-slate-500 mt-0.5">每日限量約20份，結合里肌與五花的雙重口感。</p>
                                    </div>
                                    <b class="text-red-600 whitespace-nowrap">₩38,000</b>
                                </div>
                                <div class="flex justify-between items-start">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-tight">720 熟成帶骨豬頸/五花 <span class="bg-red-500 text-white text-[9px] px-1.5 rounded ml-1">TOP 2</span></p>
                                        <p class="text-[10px] text-slate-400 font-sans">720 뼈목살 (Bone-in Pork Neck)</p>
                                        <p class="text-[10px] text-slate-500 mt-0.5">經過720小時熟成，肉汁最豐富的部位。</p>
                                    </div>
                                    <b class="text-red-600 whitespace-nowrap">₩37,000</b>
                                </div>
                            </div>
                        </div>

                        <!-- 經典肉品 (Standard) -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-drumstick-bite"></i> 經典熟成部位 (Standard)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none">熟成交錯五花肉</p>
                                        <p class="text-[9px] font-sans text-slate-400">교차숙성흑돼지 (Pork Belly)</p>
                                    </div>
                                    <span class="font-bold text-slate-600">₩22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none">熟成豬頸肉</p>
                                        <p class="text-[9px] font-sans text-slate-400">숙성 목살 (Pork Neck)</p>
                                    </div>
                                    <span class="font-bold text-slate-600">₩22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none">熟成特殊部位 (背脊肉)</p>
                                        <p class="text-[9px] font-sans text-slate-400">특수부위 가브리살 (Cheek Meat)</p>
                                    </div>
                                    <span class="font-bold text-slate-600">₩22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none">熟成抗政肉 (松阪豬)</p>
                                        <p class="text-[9px] font-sans text-slate-400">숙성 항정살 (Pork Jowl)</p>
                                    </div>
                                    <span class="font-bold text-slate-600">₩22,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- 必點主食與副餐 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> 內行人才懂的副餐
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="flex justify-between items-center border-b border-blue-100 pb-2">
                                    <div>
                                        <p class="font-bold text-slate-800 text-sm">帶魚醬石鍋拌飯 <span class="text-red-500 text-[10px] font-bold">推!</span></p>
                                        <p class="text-[9px] font-sans text-slate-400">갈치속젓 볶음밥 (Galchi-sokjeot Bibimbap)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩8,000</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-blue-100 pb-2">
                                    <div>
                                        <p class="font-bold text-slate-800 text-sm">水冷麵 / 拌冷麵</p>
                                        <p class="text-[9px] font-sans text-slate-400">물냉면 / 비빔냉면 (Cold Noodles)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩7,000</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-blue-100 pb-2">
                                    <div>
                                        <p class="font-bold text-slate-800 text-sm">大醬湯 (含飯)</p>
                                        <p class="text-[9px] font-sans text-slate-400">된장찌개 (Soybean Paste Stew)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩7,000</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-blue-100 pb-2">
                                    <div>
                                        <p class="font-bold text-slate-800 text-sm">加點低鹽明太子</p>
                                        <p class="text-[9px] font-sans text-slate-400">명란젓 추가 (Pollack Roe)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩3,000</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-bold text-slate-800 text-sm">加點杏鮑菇</p>
                                        <p class="text-[9px] font-sans text-slate-400">버섯 추가 (Mushrooms)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">₩2,000</span>
                                </div>
                            </div>
                            <p class="text-[10px] text-slate-400 mt-2 bg-white/50 p-2 rounded"><i class="fas fa-gift mr-1"></i>每桌通常會免費附贈一鍋「黑豬肉泡菜湯 (김치찌개)」。</p>
                        </div>

                        <!-- 酒水飲料 -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-beer"></i> 酒水飲料
                            </h4>
                            <div class="grid grid-cols-2 gap-2 font-hand text-base">
                                <div class="flex justify-between bg-white px-2 py-1 rounded border border-yellow-100">
                                    <span><i class="fas fa-beer text-yellow-500 mr-1"></i>濟州艾爾啤酒</span>
                                    <b>₩8,000</b>
                                </div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded border border-yellow-100">
                                    <span><i class="fas fa-wine-bottle text-green-500 mr-1"></i>漢拿山燒酒</span>
                                    <b>₩5,000</b>
                                </div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded border border-yellow-100">
                                    <span><i class="fas fa-glass-martini-alt text-red-400 mr-1"></i>熟成到 Highball</span>
                                    <b>₩9,000</b>
                                </div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded border border-yellow-100">
                                    <span><i class="fas fa-tint text-blue-400 mr-1"></i>汽水 (可樂/雪碧)</span>
                                    <b>₩2,000</b>
                                </div>
                            </div>
                        </div>

                        <!-- 吃法指南 -->
                        <div class="bg-gray-50 p-4 rounded-2xl border border-gray-200 shadow-sm text-xs">
                            <h4 class="font-bold text-gray-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> 熟成到獨家吃法
                            </h4>
                            <ul class="space-y-1.5 text-slate-600 font-hand text-base leading-relaxed pl-1">
                                <li>1. <strong>經典原味：</strong> 第一口先沾少許安第斯山鹽，品嚐熟成肉的甜味。</li>
                                <li>2. <strong>濟州風味：</strong> 蘸滾熱的鯷魚醬 (Mel-jeot) 配上烤蕨菜。</li>
                                <li>3. <strong>招牌組合：</strong> 肉片放上明太子 + 芥末 + 辣椒醃菜，口感層次超豐富！</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-red-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showBrickCampusInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-purple-600"><i class="fas fa-cube"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-purple-300 pb-3 font-hand tracking-wide">
                        🧱 Brick Campus Jeju 指南
                    </h3>

                    <div class="space-y-4">
                        <!-- Info Section -->
                        <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm">
                            <h4 class="font-bold text-purple-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> 營業資訊與票價
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1 space-y-1">
                                <p class="flex justify-between"><span>營業時間：</span><span class="font-bold">10:00 - 18:00</span></p>
                                <p class="flex justify-between text-slate-500"><span>最後入場：</span><span class="font-bold">17:30</span></p>
                                <div class="border-t border-purple-200 my-2 pt-2">
                                    <p class="flex justify-between items-center mb-1">
                                        <span>入場券 (單人)</span>
                                        <b class="text-purple-600">₩16,000</b>
                                    </p>
                                    <p class="text-[10px] text-slate-400">
                                        * 36個月以下幼兒免費 (需證明文件)<br>
                                        * 網路預訂通常有 10-20% 折扣
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Highlights -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-orange-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-star text-jeju-orange"></i> 必看亮點
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="flex items-start gap-3">
                                    <span class="bg-orange-100 text-orange-600 rounded p-1 text-xs mt-1"><i class="fas fa-eye"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">Gallery 作品展示館</p>
                                        <p class="text-[10px] text-slate-500">展示數百件頂級積木藝術品，包括超大型迪士尼城堡、電影場景還原。</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="bg-blue-100 text-blue-600 rounded p-1 text-xs mt-1"><i class="fas fa-gamepad"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">Play Zone 體驗館</p>
                                        <p class="text-[10px] text-slate-500">可以自己組裝賽車並進行比賽，還有一整面的積木牆可以拼貼。</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="bg-red-100 text-red-600 rounded p-1 text-xs mt-1"><i class="fas fa-hamburger"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">積木漢堡 (必吃!)</p>
                                        <p class="text-[10px] text-slate-500">園區內的漢堡店販售「積木造型」麵包的漢堡，色彩繽紛超好拍。</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tips -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-lightbulb"></i> 參觀攻略
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>雨天備案首選：</strong> 全室內展場，不受天氣影響，夏天有冷氣冬天有暖氣。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>預留時間：</strong> 喜歡拼積木的小朋友可能會在體驗區卡關很久，建議預留 2 小時。
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showKyochonInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-yellow-600"><i class="fas fa-drumstick-bite"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-yellow-300 pb-3 font-hand tracking-wide">
                        🍗 橋村炸雞 (Kyochon) 蓮洞店
                    </h3>

                    <div class="space-y-4">
                        <!-- 營業資訊 -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-100 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-store"></i> 營業資訊
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1 space-y-1">
                                <p class="flex justify-between"><span>營業時間：</span><span class="font-bold">12:00 - 23:30</span></p>
                                <p class="text-[10px] text-slate-400 mt-2"><i class="fas fa-map-marker-alt mr-1"></i>位於蓮洞商圈，從 Hotel Leo 步行可達。</p>
                            </div>
                        </div>

                        <!-- 菜單介紹 -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-orange-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-book-open text-jeju-orange"></i> 人氣菜單 (Menu)
                            </h4>
                            <div class="space-y-4 font-hand text-lg">
                                <!-- Honey Series -->
                                <div>
                                    <div class="flex justify-between items-start mb-1">
                                        <div>
                                            <p class="font-bold text-slate-800 text-base leading-tight">蜂蜜炸雞 (Combo) <span class="bg-red-500 text-white text-[9px] px-1.5 rounded ml-1">必點</span></p>
                                            <p class="text-[10px] text-slate-400 font-sans">허니콤보 (Honey Combo)</p>
                                        </div>
                                        <b class="text-slate-700 whitespace-nowrap">₩23,000</b>
                                    </div>
                                    <p class="text-[10px] text-slate-500 bg-yellow-50 p-1.5 rounded">
                                        💡 <strong>Combo (콤보)</strong> = 只有雞腿 + 雞翅 (最受歡迎！)<br>
                                        💡 <strong>Original (오리지날)</strong> = 全雞
                                    </p>
                                </div>

                                <!-- Red Series -->
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-start mb-1">
                                        <div>
                                            <p class="font-bold text-slate-800 text-base leading-tight">香辣炸雞 (Combo)</p>
                                            <p class="text-[10px] text-slate-400 font-sans">레드콤보 (Red Combo)</p>
                                        </div>
                                        <b class="text-slate-700 whitespace-nowrap">₩23,000</b>
                                    </div>
                                    <p class="text-[10px] text-slate-500">
                                        使用韓國青陽辣椒，真的有辣！嗜辣者首選。
                                    </p>
                                </div>

                                <!-- Half & Half -->
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-start mb-1">
                                        <div>
                                            <p class="font-bold text-slate-800 text-base leading-tight">半半炸雞 (原味+辣味)</p>
                                            <p class="text-[10px] text-slate-400 font-sans">반반콤보 (Half & Half Combo)</p>
                                        </div>
                                        <b class="text-slate-700 whitespace-nowrap">₩23,000</b>
                                    </div>
                                    <p class="text-[10px] text-red-500 font-bold">
                                        ⚠️ 注意：蜂蜜口味通常不能做成半半！(因為麵衣不同)
                                    </p>
                                </div>
                                
                                <!-- Sides -->
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-center text-sm mb-1">
                                        <span class="text-slate-600">現炸薯塊 (Wedge Potato)</span>
                                        <b>₩4,000</b>
                                    </div>
                                    <div class="flex justify-between items-center text-sm">
                                        <span class="text-slate-600">起司球 (Cheese Ball)</span>
                                        <b>₩6,000</b>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 攻略 Tips -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-lightbulb"></i> 內行小撇步
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>等待時間：</strong> 橋村堅持現點現炸，通常需等待 <strong>20-40 分鐘</strong>。建議先點餐再去逛旁邊的便利商店。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>外帶 vs 內用：</strong> 內用通常會附贈玉米片或醃蘿蔔；外帶回飯店配啤酒也是絕佳享受！
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    <strong>份量：</strong> 一份 Combo 約 2 人份。如果不太餓，可以點一份炸雞 + 薯塊 share。
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-yellow-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showShinhwaShoppingInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-green-600"><i class="fas fa-shopping-bag"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-green-300 pb-3 font-hand tracking-wide">
                        🛍️ 神話世界 購物攻略
                    </h3>

                    <div class="space-y-4">
                        <!-- Premium Center -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-tags"></i> 濟州 Premium Center (B1/1F)
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1 space-y-2">
                                <p class="text-xs">濟州島最新的大型 Outlet，位於神話世界中心地帶，非常好逛！</p>
                                <div class="bg-white p-3 rounded-lg border border-green-100">
                                    <p class="font-bold text-slate-700 text-xs mb-1">🔥 必逛品牌：</p>
                                    <ul class="text-xs list-disc pl-4 space-y-0.5">
                                        <li><strong>運動休閒：</strong> Nike Golf, Adidas, New Balance, Under Armour。</li>
                                        <li><strong>國際精品：</strong> Coach, Michael Kors, Tory Burch (價格通常不錯)。</li>
                                        <li><strong>兒童服飾：</strong> Off-Label (很多童裝特賣)。</li>
                                    </ul>
                                </div>
                                <p class="flex justify-between text-xs mt-1"><span>營業時間：</span><span class="font-bold">10:30 - 21:00</span></p>
                            </div>
                        </div>

                        <!-- JDC Duty Free -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-blue-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-plane text-blue-500"></i> JDC 免稅店 (神話世界店)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <p class="text-xs text-slate-500 font-sans">位於萬豪酒店 (Marriott) 地下一樓連接通道。</p>
                                <div class="flex items-start gap-2 text-xs text-slate-600">
                                    <i class="fas fa-check-circle text-blue-400 mt-0.5"></i>
                                    <span>主要販售化妝品、香水、墨鏡與酒類。</span>
                                </div>
                                <div class="flex items-start gap-2 text-xs text-slate-600">
                                    <i class="fas fa-check-circle text-blue-400 mt-0.5"></i>
                                    <span><strong>重要：</strong> 這裡買的東西不能現場帶走，需在回程時於「濟州機場」提領。</span>
                                </div>
                            </div>
                        </div>

                        <!-- Dining Options -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> 逛累了吃什麼？
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">1</span>
                                    <strong>Selection Dining (美食街)：</strong> 位於樂園入口附近，集結多家韓式餐廳，價格親民，適合親子。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">2</span>
                                    <strong>Starbucks Reserve：</strong> 神話世界有濟州少見的 Reserve 典藏門市，有很美的戶外座位。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">3</span>
                                    <strong>The Place：</strong> 義式餐廳，著名的「炸彈披薩」就在這！
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showYeondongInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-green-600"><i class="fas fa-shopping-cart"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-green-300 pb-3 font-hand tracking-wide">
                        🛍️ 蓮洞商圈 & 樂天超市 終極攻略
                    </h3>

                    <div class="space-y-4">
                        <!-- 1. 樂天超市 Lotte Mart -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-store"></i> 樂天超市 (Lotte Mart) 濟州店
                            </h4>
                            
                            <div class="space-y-3">
                                <!-- 營業資訊 -->
                                <div class="bg-white p-2 rounded-lg border border-green-100 text-xs text-slate-600">
                                    <p class="flex justify-between mb-1"><span>⏰ 營業時間：</span><span class="font-bold">10:00 - 23:00</span></p>
                                    <p class="flex justify-between"><span>📍 位置：</span><span>位於蓮洞市區，好停車</span></p>
                                </div>

                                <!-- 必買清單 -->
                                <div class="bg-white p-3 rounded-xl border-l-4 border-green-400 shadow-sm">
                                    <p class="font-bold text-slate-700 text-sm mb-2">🛒 必掃貨清單</p>
                                    <ul class="text-xs text-slate-600 space-y-1.5 list-disc pl-4 font-hand text-base">
                                        <li><strong>零食類：</strong> HBAF 杏仁果(多種口味)、Orion 烏龜餅乾(巧克力/松露)、Lotte Zero 零糖系列。</li>
                                        <li><strong>沖泡飲品：</strong> KANU 咖啡(拿鐵/美式)、Maxim 摩卡金、濟州限定抹茶拿鐵。</li>
                                        <li><strong>料理包：</strong> 不倒翁麻油、韓國烤肉醬、泡菜罐頭(有些可帶回國，請確認法規)。</li>
                                        <li><strong>酒類 (記得託運)：</strong> 漢拿山燒酒 (純/淡)、濟州艾爾啤酒、瑪格利 (不建議帶回國因易爆)。</li>
                                    </ul>
                                </div>

                                <!-- 打包與退稅 -->
                                <div class="text-[10px] text-slate-500 space-y-1">
                                    <p><i class="fas fa-box-open text-orange-500 mr-1"></i><strong>自助打包區：</strong> 提供紙箱，但通常不提供膠帶 (需自備或用繩子綁)。建議自備購物袋！</p>
                                    <p><i class="fas fa-passport text-blue-500 mr-1"></i><strong>退稅：</strong> 結帳時出示護照，可直接扣抵 (即時退稅) 或拿單據去機場退。</p>
                                </div>
                            </div>
                        </div>

                        <!-- 2. 蓮洞商圈 (Nuwemaru Street) -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-blue-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-walking text-blue-500"></i> 蓮洞商圈 (Nuwemaru Street)
                            </h4>
                            <p class="text-xs text-slate-500 mb-3">濟州的明洞！行人徒步區，集中了各大運動品牌與美妝店。</p>
                            
                            <div class="space-y-3 font-hand text-lg">
                                <!-- Sportswear -->
                                <div class="flex items-start gap-3 border-b border-slate-50 pb-2">
                                    <span class="bg-blue-100 text-blue-600 rounded-lg p-2 text-sm mt-1 w-8 h-8 flex items-center justify-center"><i class="fas fa-tshirt"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">運動潮牌</p>
                                        <p class="text-[11px] text-slate-500 font-sans">ABC Mart (大間)、Nike、Adidas、FILA、Discovery Expedition (韓國限定長版羽絨衣必看)。</p>
                                    </div>
                                </div>
                                <!-- Cosmetics -->
                                <div class="flex items-start gap-3 border-b border-slate-50 pb-2">
                                    <span class="bg-pink-100 text-pink-600 rounded-lg p-2 text-sm mt-1 w-8 h-8 flex items-center justify-center"><i class="fas fa-magic"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">美妝保養</p>
                                        <p class="text-[11px] text-slate-500 font-sans">Olive Young (旗艦店規模，貨超全)、Innisfree、Etude House。面膜、精華液這裡補貨最齊。</p>
                                    </div>
                                </div>
                                <!-- Snacks -->
                                <div class="flex items-start gap-3">
                                    <span class="bg-orange-100 text-orange-600 rounded-lg p-2 text-sm mt-1 w-8 h-8 flex items-center justify-center"><i class="fas fa-cookie-bite"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">街頭小吃</p>
                                        <p class="text-[11px] text-slate-500 font-sans">糖葫蘆、雞蛋糕、韓式熱狗。逛累了路邊隨時有得吃。</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 3. Daiso 大創 (加碼推薦) -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-sm relative overflow-hidden">
                            <div class="absolute -right-3 -top-3 bg-red-500 text-white text-xs px-4 py-1 rotate-12 font-bold shadow-sm">必逛</div>
                            <h4 class="font-bold text-red-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-shopping-basket"></i> Daiso 濟州蓮洞店
                            </h4>
                            <div class="text-xs text-slate-600 space-y-1">
                                <p><strong>為什麼要逛？</strong> 韓國大創跟台灣很不一樣！有超多迪士尼聯名、姓名貼紙機、韓國限定文具與美妝蛋。</p>
                                <p><strong>樓層：</strong> 通常是整棟多層樓，建議預留 1 小時。</p>
                                <p><strong>價格：</strong> 大多在 ₩1,000 ~ ₩5,000 之間，超級好買。</p>
                            </div>
                        </div>

                        <!-- 最後提醒 -->
                        <div class="bg-yellow-50 p-3 rounded-xl border border-yellow-200 text-xs text-slate-600 flex items-start gap-2">
                            <i class="fas fa-exclamation-circle text-yellow-600 mt-0.5"></i>
                            <div>
                                <strong>打包攻略：</strong> 
                                <br>1. 液體類 (化妝水、酒、醬料) 務必放託運。
                                <br>2. 泡麵含肉塊的不能帶回台灣 (辛拉麵、安城湯麵通常OK，但若是調理包有肉塊的不行，請仔細確認)。
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        // 新增：中央地下街攻略
        window.showJungangInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-blue-600"><i class="fas fa-shopping-bag"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-blue-300 pb-3 font-hand tracking-wide">
                        🛍️ 中央地下街 & 中央街市場 攻略
                    </h3>

                    <div class="space-y-4">
                        <!-- 營業資訊 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> 營業時間
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1 space-y-1">
                                <p class="flex justify-between"><span>地下街：</span><span class="font-bold">10:00 - 22:00</span></p>
                                <p class="flex justify-between"><span>中央街商店：</span><span class="font-bold">10:00 - 21:00</span></p>
                                <p class="text-[10px] text-slate-400 mt-1">部分店家營業時間可能略有不同。</p>
                            </div>
                        </div>

                        <!-- 好逛好買推薦 -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-orange-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-thumbs-up text-jeju-orange"></i> 好逛好買推薦
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="flex items-start gap-3 border-b border-slate-50 pb-2">
                                    <span class="bg-blue-100 text-blue-600 rounded p-1 text-xs mt-1"><i class="fas fa-tshirt"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">平價服飾 (地下街)</p>
                                        <p class="text-[10px] text-slate-500">超多 10,000 韓元的衣服、褲子，還有可愛的襪子店。</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3 border-b border-slate-50 pb-2">
                                    <span class="bg-pink-100 text-pink-600 rounded p-1 text-xs mt-1"><i class="fas fa-magic"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">韓系美妝</p>
                                        <p class="text-[10px] text-slate-500">Innisfree, Etude House, Nature Republic 這裡都有。</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="bg-yellow-100 text-yellow-600 rounded p-1 text-xs mt-1"><i class="fas fa-running"></i></span>
                                    <div>
                                        <p class="font-bold text-slate-700 text-sm">運動品牌 (七星路/中央街)</p>
                                        <p class="text-[10px] text-slate-500">地面上有 ABC Mart, Nike, Adidas 等大店。</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Akkomi Note -->
                        <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm relative overflow-hidden">
                            <div class="absolute -right-3 -top-3 bg-purple-500 text-white text-xs px-4 py-1 rotate-12 font-bold shadow-sm">MUST VISIT</div>
                            <h4 class="font-bold text-purple-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-heart"></i> 私房推薦：akkomi
                            </h4>
                            <div class="text-xs text-slate-600 space-y-1">
                                <p><strong>別忘了去逛 akkomi！</strong></p>
                                <p>這是一家超可愛的文創/飾品/選物店，非常適合挖寶！</p>
                            </div>
                        </div>

                        <!-- 溫馨提醒 -->
                        <div class="bg-gray-50 p-3 rounded-xl border border-gray-200 text-xs text-slate-600 flex items-start gap-2">
                            <i class="fas fa-info-circle text-gray-500 mt-0.5"></i>
                            <div>
                                <strong>溫馨提醒：</strong> 
                                <br>1. 地下街出口很多，記得記下進來的出口號碼。
                                <br>2. 有些店家只收現金會比較便宜，建議準備一點現金。
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showJamaeGuksuInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-red-600"><i class="fas fa-utensils"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-red-300 pb-3 font-hand tracking-wide">
                        🍜 姊妹麵條 (자매국수) 菜單與攻略
                    </h3>

                    <div class="space-y-4">
                        <!-- 營業資訊 -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-sm">
                            <h4 class="font-bold text-red-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> 營業資訊
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1 space-y-1">
                                <p class="flex justify-between"><span>營業時間：</span><span class="font-bold">09:00 - 18:00</span></p>
                                <p class="flex justify-between"><span>休息時間：</span><span class="font-bold">14:30 - 16:10</span></p>
                                <p class="flex justify-between text-red-500 font-bold mt-1"><span>公休日：</span><span>每週三 (Wed)</span></p>
                                <p class="text-[10px] text-slate-400 mt-2"><i class="fas fa-exclamation-circle mr-1"></i>最後點餐為打烊前 20 分鐘，建議提早前往以免撲空。</p>
                            </div>
                        </div>

                        <!-- 必點菜單 -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-orange-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-thumbs-up text-jeju-orange"></i> 人氣必點 (Menu)
                            </h4>
                            <div class="space-y-4 font-hand text-lg">
                                <!-- 1. 豬肉湯麵 -->
                                <div>
                                    <div class="flex justify-between items-start mb-1">
                                        <div>
                                            <p class="font-bold text-slate-800 text-base leading-tight">豬肉湯麵 <span class="bg-red-500 text-white text-[9px] px-1.5 rounded ml-1">招牌</span></p>
                                            <p class="text-[10px] text-slate-400 font-sans">고기국수 (Gogi Guksu)</p>
                                        </div>
                                        <b class="text-slate-700 whitespace-nowrap">₩10,000</b>
                                    </div>
                                    <p class="text-[10px] text-slate-500 bg-orange-50 p-2 rounded">
                                        濃郁豚骨高湯配上軟嫩切片黑豬肉，麵條使用特製黃梔子麵，口感Q彈。喜歡吃辣可加桌上的辣椒粉。
                                    </p>
                                </div>

                                <!-- 2. 拌麵 -->
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-start mb-1">
                                        <div>
                                            <p class="font-bold text-slate-800 text-base leading-tight">香辣拌麵</p>
                                            <p class="text-[10px] text-slate-400 font-sans">비빔국수 (Bibim Guksu)</p>
                                        </div>
                                        <b class="text-slate-700 whitespace-nowrap">₩10,000</b>
                                    </div>
                                    <p class="text-[10px] text-slate-500">
                                        酸甜微辣的醬汁拌入豆芽與蔬菜，同樣附有豬肉片。非常開胃，適合不想喝熱湯的人。
                                    </p>
                                </div>

                                <!-- 3. 水餃 (小孩推薦) -->
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-start mb-1">
                                        <div>
                                            <p class="font-bold text-slate-800 text-base leading-tight">一口水餃 <span class="bg-blue-100 text-blue-600 text-[9px] px-1.5 rounded ml-1">親子</span></p>
                                            <p class="text-[10px] text-slate-400 font-sans">물만두 (Mul-mandu)</p>
                                        </div>
                                        <div class="text-right">
                                            <b class="text-slate-700 whitespace-nowrap block">₩8,000</b>
                                            <span class="text-[9px] text-slate-400">(半份 ₩5,000)</span>
                                        </div>
                                    </div>
                                    <p class="text-[10px] text-slate-500">
                                        小顆好入口的韓式水餃，皮薄餡多，怕辣的小朋友可以點這個當主食或配菜。
                                    </p>
                                </div>
                                
                                <!-- 4. 切盤肉 -->
                                <div class="border-t border-slate-100 pt-3">
                                    <div class="flex justify-between items-center text-sm mb-1">
                                        <div>
                                            <span class="font-bold text-slate-800 block">切盤肉 (Dombe Gogi)</span>
                                            <span class="text-[9px] text-slate-400">돔베고기 (半份/小)</span>
                                        </div>
                                        <b>₩18,000</b>
                                    </div>
                                    <p class="text-[10px] text-slate-500 mt-1">
                                        如果你覺得麵裡的肉不夠吃，可以單點這盤！肉質鮮嫩不柴，配蝦醬或泡菜超讚。
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- 點餐與排隊攻略 -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-list-ol"></i> 點餐與排隊攻略
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-blue-500 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">1</span>
                                    <strong>抽號碼牌：</strong> 抵達後先到門口機器輸入手機號碼 (或使用 CatchTable App) 登記候位。若無韓國手機號碼，請直接向櫃台人員索取紙本號碼。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-blue-500 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">2</span>
                                    <strong>自助點餐機：</strong> 入座後使用桌上的平板 (T-Order) 點餐並刷卡結帳。機器通常有中文/英文介面，不用擔心語言問題。
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-blue-500 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">3</span>
                                    <strong>自助吧：</strong> 泡菜、蘿蔔塊、海苔絲都是自助無限取用，吃多少拿多少。
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-red-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">知道了</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        async function fetchRate() {
            try {
                const res = await fetch('https://api.exchangerate-api.com/v4/latest/TWD');
                const data = await res.json();
                currentExchangeRate = data.rates.KRW;
                if(document.getElementById('krw-val')) {
                    document.getElementById('rate-loading').style.display = 'none';
                    document.getElementById('rate-result').classList.remove('hidden');
                    document.getElementById('krw-val').innerText = currentExchangeRate.toFixed(2);
                }
                updateRateCheatSheet(1/currentExchangeRate);
                renderExpenses();
            } catch (e) { console.error(e); }
        }

        function updateRateCheatSheet(rate) {
            const listEl = document.getElementById('rate-cheat-sheet');
            if (!listEl) return;
            const amounts = [1000, 5000, 10000, 30000, 50000];
            let html = '';
            amounts.forEach(krw => {
                const twd = Math.round(krw * rate);
                html += `<li class="flex justify-between items-center border-b border-dashed border-yellow-300 pb-1 last:border-0"><span class="font-bold">₩ ${krw.toLocaleString()}</span><span class="font-bold text-jeju-orange">NT$ ${twd.toLocaleString()}</span></li>`;
            });
            listEl.innerHTML = html;
        }

        async function fetchWeather() {
            if(!document.getElementById('weather-widget')) return;
            if(weatherDataCache) { renderWeatherWidget(weatherDataCache); return; }
            try {
                const url = "https://api.open-meteo.com/v1/forecast?latitude=33.4996&longitude=126.5312&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max,uv_index_max&timezone=Asia%2FSeoul&forecast_days=8";
                const res = await fetch(url);
                const data = await res.json();
                weatherDataCache = data;
                renderWeatherWidget(data);
            } catch (e) { console.error(e); }
        }

        function renderWeatherWidget(data) {
            if(!document.getElementById('weather-widget')) return;
            const current = data.current;
            const daily = data.daily;
            
            document.getElementById('curr-temp').innerText = `${current.temperature_2m}°`;
            document.getElementById('weather-loading').style.display='none';
            document.getElementById('weather-content').classList.remove('hidden');

            // Populate details
            if(document.getElementById('w-wind')) document.getElementById('w-wind').innerText = `${current.wind_speed_10m} km/h`;
            if(document.getElementById('w-hum')) document.getElementById('w-hum').innerText = `${current.relative_humidity_2m}%`;
            if(document.getElementById('w-feel')) document.getElementById('w-feel').innerText = `${current.apparent_temperature}°`;
            if(document.getElementById('w-uv')) document.getElementById('w-uv').innerText = `UV ${daily.uv_index_max[0]}`;

            // Weather Code to Text
            const weatherCodes = {
                0: "晴朗", 1: "大致晴朗", 2: "多雲", 3: "陰天",
                45: "霧", 48: "霧淞",
                51: "毛毛雨", 53: "毛毛雨", 55: "毛毛雨",
                61: "小雨", 63: "雨", 65: "大雨",
                71: "小雪", 73: "雪", 75: "大雪",
                95: "雷雨"
            };
            if(document.getElementById('curr-desc')) document.getElementById('curr-desc').innerText = weatherCodes[current.weather_code] || "多雲時晴";

            // OOTD
            const tipEl = document.getElementById('weather-tip');
            if (tipEl) {
                let tip = "";
                const feel = current.apparent_temperature;
                if (feel < 5) tip = "超級冷！羽絨衣、圍巾、暖暖包是必須的！🧤";
                else if (feel < 10) tip = "有點冷喔，建議洋蔥式穿搭，帶件厚外套。🧥";
                else if (feel < 15) tip = "涼爽舒適，長袖衛衣或針織衫剛好。👕";
                else tip = "天氣不錯，輕便穿著即可！👟";
                
                if ([51, 53, 55, 61, 63, 65, 80, 81, 82].includes(current.weather_code)) tip += " <br>⚠️ 會下雨，記得帶傘！☂️";
                tipEl.innerHTML = tip;
            }

            let html = '';
            for(let i=0;i<7;i++) {
                const date = moment(daily.time[i]).format('MM/DD');
                let icon = 'fa-sun text-orange-400';
                if(daily.weather_code[i] > 3) icon = 'fa-cloud text-gray-400';
                if(daily.weather_code[i] > 50) icon = 'fa-cloud-rain text-blue-400';
                if(daily.weather_code[i] > 70) icon = 'fa-snowflake text-sky-300';
                
                html += `
                <div class="flex-shrink-0 w-24 flex flex-col items-center p-3 bg-white border-2 border-dashed border-slate-200 rounded-xl mx-1 snap-center">
                    <span class="text-sm font-hand font-bold text-slate-600">${date}</span>
                    <i class="fas ${icon} text-xl my-2"></i>
                    <span class="text-[10px] font-bold text-slate-500">${daily.temperature_2m_min[i]}°~${daily.temperature_2m_max[i]}°</span>
                </div>`;
            }
            document.getElementById('forecast-container').innerHTML = html;
        }

        function addExpense() {
            const name = document.getElementById('expense-name').value;
            const category = document.getElementById('expense-category').value;
            const amount = parseFloat(document.getElementById('expense-amount').value);
            
            if(!name || !amount) {
                document.getElementById('modal-content-area').innerHTML = `<p class="p-4 font-bold">請輸入項目名稱與金額喔！</p>`;
                document.getElementById('info-modal').classList.remove('hidden');
                return;
            }
            
            expenseData.push({ 
                id: Date.now(), 
                name, 
                category,
                amount, 
                date: new Date().toISOString() 
            });
            localStorage.setItem('jeju_expenses', JSON.stringify(expenseData));
            renderExpenses();
            document.getElementById('expense-name').value = '';
            document.getElementById('expense-amount').value = '';
        }

        function deleteExpense(id) {
            if(confirm('確定要刪除這筆消費紀錄嗎？')) {
                expenseData = expenseData.filter(ex => ex.id !== id);
                localStorage.setItem('jeju_expenses', JSON.stringify(expenseData));
                renderExpenses();
            }
        }

        function renderExpenses() {
            const listEl = document.getElementById('expense-list');
            const totalEl = document.getElementById('total-twd');
            if(!listEl) return;
            
            if(expenseData.length === 0) {
                listEl.innerHTML = `
                    <div class="text-center py-10 opacity-50">
                        <div class="text-4xl mb-2">💸</div>
                        <p class="text-sm font-hand">還沒有消費紀錄喔！</p>
                    </div>`;
                totalEl.innerText = 'NT$ 0';
                return;
            }
            
            let html = '';
            let totalTwd = 0;
            const categoryIcons = {
                food: '🍽️', transport: '🚗', hotel: '🏨', shopping: '🛍️', fun: '🎡', other: '📦'
            };

            expenseData.slice().reverse().forEach((ex) => {
                const twd = Math.round(ex.amount / (currentExchangeRate || 40)); // Fallback rate if not loaded
                totalTwd += twd;
                const icon = categoryIcons[ex.category] || '💰';
                
                html += `
                    <div class="flex justify-between items-center bg-white p-3 rounded-xl shadow-sm border border-slate-100 mb-2">
                        <div class="flex items-center gap-3">
                            <span class="text-xl">${icon}</span>
                            <div>
                                <div class="font-bold text-slate-700 text-sm font-hand">${ex.name}</div>
                                <div class="text-[10px] text-slate-400">${moment(ex.date).format('MM/DD HH:mm')}</div>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <div class="font-bold text-jeju-blue font-mono">₩ ${ex.amount.toLocaleString()}</div>
                                <div class="text-[10px] text-slate-400">≈ NT$ ${twd.toLocaleString()}</div>
                            </div>
                            <button onclick="deleteExpense(${ex.id})" class="text-slate-300 hover:text-red-400 transition-colors p-1">
                                <i class="fas fa-trash-alt text-xs"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            listEl.innerHTML = html;
            totalEl.innerText = `NT$ ${totalTwd.toLocaleString()}`;
        }

        function toggleDetails(id) {
            const el = document.getElementById(id);
            if(el.classList.contains('show')) el.classList.remove('show');
            else el.classList.add('show');
        }

        function getContent(id) {
            const header = (text) => `<div class="mb-6 text-center"><h2 class="washi-tape-title text-xl font-bold font-hand">${text}</h2></div>`;
            
            // 新增：渲染會話區塊的輔助函式
            const renderLangSection = (title, icon, colorClass, items) => {
                const listHtml = items.map(item => `
                    <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-100 flex flex-col gap-1 relative overflow-hidden group hover:shadow-md transition-shadow">
                        <div class="absolute right-0 top-0 w-8 h-8 ${colorClass.replace('text-', 'bg-').replace('600', '100').replace('700', '100')} rounded-bl-xl opacity-50 transition-opacity group-hover:opacity-100"></div>
                        
                        <div class="font-bold text-slate-800 text-sm flex items-center justify-between z-10">
                            ${item.cn}
                        </div>
                        
                        <div class="text-xl font-bold ${colorClass} font-sans my-0.5">${item.kr}</div>
                        
                        <div class="flex flex-wrap items-baseline gap-2">
                            <span class="text-[10px] text-slate-500 bg-slate-100 px-2 py-0.5 rounded-md font-hand tracking-wide">
                                🔊 ${item.pron}
                            </span>
                        </div>
                        
                        ${item.note ? `
                        <div class="mt-2 pt-2 border-t border-dashed border-slate-100 text-[10px] text-slate-400 leading-tight">
                            <i class="fas fa-comment-dots mr-1 text-slate-300"></i>${item.note}
                        </div>
                        ` : ''}
                    </div>
                `).join('');

                return `
                    <div class="mb-8">
                        <h3 class="text-lg font-bold text-slate-700 mb-3 px-2 border-l-4 ${colorClass.replace('text-', 'border-').replace('600', '400').replace('700', '400')} flex items-center">
                            <i class="fas ${icon} mr-2"></i> ${title}
                        </h3>
                        <div class="space-y-3 px-2">
                            ${listHtml}
                        </div>
                    </div>
                `;
            };

            switch(id) {
                case 'intro':
                    return `${header('Tutorial 出發前必看教學')}
                    
                    <div class="space-y-6 pb-4">
                        <!-- 1. 虎航預辦登機 -->
                        <div class="bg-white p-5 rounded-2xl border-2 border-dashed border-orange-200 shadow-sm relative">
                            <div class="absolute -top-3 -left-2 bg-jeju-orange text-white px-3 py-1 rounded-lg font-bold shadow-sm transform -rotate-2">Step 1</div>
                            <h3 class="font-bold text-slate-800 text-lg mb-3 mt-2 flex items-center gap-2">
                                <i class="fas fa-plane-departure text-jeju-orange"></i> 台灣虎航 預辦登機
                            </h3>
                            
                            <div class="space-y-3">
                                <div class="bg-orange-50 p-3 rounded-xl text-sm text-slate-700 leading-relaxed">
                                    <p class="font-bold text-orange-700 mb-1"><i class="fas fa-clock mr-1"></i> 開放時間：</p>
                                    <p>起飛前 <span class="font-bold text-red-500">48小時 ~ 1小時</span> 內可辦理。</p>
                                </div>

                                <ul class="list-disc pl-5 text-sm text-slate-600 space-y-1.5 font-sans">
                                    <li>準備好您的 <strong>護照</strong> 與 <strong>訂位代號 (6碼英數)</strong>。</li>
                                    <li>系統會顯示禁運品須知，請勾選確認。</li>
                                    <li>完成後會取得 <strong>電子登機證 (QR Code)</strong>，建議截圖保存。</li>
                                    <li class="text-xs text-slate-400">若有託運行李，仍需在起飛前 1 小時至機場櫃檯/自助機辦理託運。</li>
                                </ul>

                                <a href="https://sci.tigerairtw.com/zh-TW/login" target="_blank" class="block w-full bg-slate-800 hover:bg-slate-700 text-white text-center py-3 rounded-xl font-bold transition-all shadow-md active:scale-95 mt-2">
                                    <i class="fas fa-link mr-1"></i> 前往虎航自助報到頁面
                                </a>
                            </div>
                        </div>

                        <!-- 2. 韓國電子入境卡 -->
                        <div class="bg-white p-5 rounded-2xl border-2 border-dashed border-blue-200 shadow-sm relative">
                            <div class="absolute -top-3 -left-2 bg-jeju-blue text-white px-3 py-1 rounded-lg font-bold shadow-sm transform -rotate-2">Step 2</div>
                            <h3 class="font-bold text-slate-800 text-lg mb-3 mt-2 flex items-center gap-2">
                                <i class="fas fa-passport text-jeju-blue"></i> 韓國電子入境卡 (e-Arrival)
                            </h3>
                            
                            <div class="space-y-4">
                                <p class="text-sm text-slate-600">
                                    建議出發前線上填寫，通關時不用手寫紙本，速度快很多！
                                </p>

                                <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                                    <h4 class="font-bold text-blue-800 text-sm mb-2 border-b border-blue-200 pb-1">
                                        <i class="fas fa-edit mr-1"></i> 住宿資料填寫範本 (必填)
                                    </h4>
                                    <div class="text-xs space-y-2 text-slate-700 font-mono">
                                        <div>
                                            <span class="block text-slate-400 mb-0.5">Zip Code (郵遞區號)</span>
                                            <div class="bg-white px-2 py-1 rounded border border-blue-200 font-bold select-all">63125</div>
                                        </div>
                                        <div>
                                            <span class="block text-slate-400 mb-0.5">Address (地址)</span>
                                            <div class="bg-white px-2 py-1 rounded border border-blue-200 select-all leading-tight">80, Noyeon-ro, Jeju-si, Jeju-do</div>
                                        </div>
                                        <div>
                                            <span class="block text-slate-400 mb-0.5">Phone (電話)</span>
                                            <div class="bg-white px-2 py-1 rounded border border-blue-200 select-all">064-747-5000</div>
                                        </div>
                                    </div>
                                </div>

                                <a href="https://ses.immigration.go.kr/ses/H/H_2010/H_2010_100.ses" target="_blank" class="block w-full bg-blue-600 hover:bg-blue-700 text-white text-center py-3 rounded-xl font-bold transition-all shadow-md active:scale-95">
                                    <i class="fas fa-external-link-alt mr-1"></i> 填寫 Q-Code / 入境卡
                                </a>
                            </div>
                        </div>

                        <!-- 3. 換錢與 WOWPASS (含深夜攻略) -->
                        <div class="bg-white p-5 rounded-2xl border-2 border-dashed border-purple-200 shadow-sm relative">
                            <div class="absolute -top-3 -left-2 bg-purple-500 text-white px-3 py-1 rounded-lg font-bold shadow-sm transform -rotate-2">Step 3</div>
                            <h3 class="font-bold text-slate-800 text-lg mb-3 mt-2 flex items-center gap-2">
                                <i class="fas fa-coins text-purple-500"></i> 換錢 & WOWPASS (深夜攻略)
                            </h3>
                            
                            <div class="space-y-4">
                                <!-- Maison Glad 住客專屬攻略 -->
                                <div class="bg-purple-600 text-white p-4 rounded-xl shadow-md">
                                    <h4 class="font-bold text-sm mb-2 flex items-center border-b border-purple-400 pb-2">
                                        <i class="fas fa-walking mr-2"></i> Maison Glad 住客專屬攻略
                                    </h4>
                                    <div class="space-y-2 text-xs font-sans">
                                        <p class="flex items-start gap-2">
                                            <span class="bg-yellow-400 text-purple-900 px-1.5 rounded font-bold shrink-0">目標</span>
                                            <span>前往 <strong>濟州君悅酒店 (Grand Hyatt)</strong> 辦理。</span>
                                        </p>
                                        <p class="flex items-start gap-2">
                                            <span class="bg-green-500 text-white px-1.5 rounded font-bold shrink-0">位置</span>
                                            <span>機台位於君悅 <strong>1樓大廳</strong> (花藝區附近)。</span>
                                        </p>
                                        <p class="flex items-start gap-2">
                                            <span class="bg-blue-400 text-white px-1.5 rounded font-bold shrink-0">距離</span>
                                            <span>步行約 <strong>8-10 分鐘</strong> (650公尺)。<br>
                                            兩間飯店都在同一條大馬路 (Noyeon-ro) 上，出飯店<strong>右轉直走</strong>看到最高的雙子星大樓就是了！</span>
                                        </p>
                                        
                                        <a href="https://map.naver.com/p/directions/14080643.3928124,3959888.7729626,%EB%A9%94%EC%A2%85%20%EA%B8%80%EB%9E%98%EB%93%9C%20%EC%A0%9C%EC%A3%BC,11659012,PLACE_POI/14079836.8608377,3959885.7297987,%EA%B7%B8%EB%9E%9C%EB%93%9C%20%ED%95%98%EC%96%8F%ED%8A%B8%20%EC%A0%9C%EC%A3%BC,1919264399,PLACE_POI/-/walk?c=16.00,0,0,0,dh" target="_blank" class="block w-full bg-white text-purple-700 text-center py-2 rounded-lg font-bold shadow-sm active:scale-95 mt-2 hover:bg-purple-50 transition-colors">
                                            <i class="fas fa-location-arrow mr-1"></i> 開啟 Naver Map 步行導航
                                        </a>
                                    </div>
                                </div>

                                <!-- 儲值教學 -->
                                <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
                                    <h4 class="font-bold text-slate-800 text-sm mb-3 flex items-center gap-2">
                                        <i class="fas fa-hand-holding-usd text-jeju-orange"></i> WOWPASS 儲值教學 (台幣現金)
                                    </h4>
                                    <ol class="text-xs text-slate-600 space-y-3 font-sans list-decimal pl-4">
                                        <li>
                                            <strong>選擇功能：</strong><br>
                                            點擊螢幕上的 <span class="bg-slate-100 px-1 rounded border border-slate-300 font-bold">加值卡片 (Top-up Card)</span>。
                                        </li>
                                        <li>
                                            <strong>插入卡片：</strong><br>
                                            將 WOWPASS 卡插入機台下方的讀卡槽（要在有效期限內）。
                                        </li>
                                        <li>
                                            <strong>選擇幣別：</strong><br>
                                            選擇 <span class="text-blue-600 font-bold">TWD 台幣</span> (或其他外幣)。
                                        </li>
                                        <li>
                                            <strong>放入現金：</strong><br>
                                            放入台幣現鈔 (支援 $1000, $500)。<br>
                                            <span class="text-red-500">*注意：只能存紙鈔，不找零！建議存大鈔。</span>
                                        </li>
                                        <li>
                                            <strong>確認金額：</strong><br>
                                            螢幕會顯示匯率與換算後的韓元金額，確認無誤按 <span class="bg-purple-600 text-white px-1 rounded font-bold">確認</span>。
                                        </li>
                                        <li>
                                            <strong>完成：</strong><br>
                                            取回卡片。此時金額是存入「餘額 (付款用)」，若要搭公車，記得用這張卡去便利商店儲值 T-money！
                                        </li>
                                    </ol>
                                </div>

                                <!-- 深夜抵達攻略 (Original) -->
                                <div class="bg-red-50 p-4 rounded-xl border border-red-100">
                                    <h4 class="font-bold text-red-700 text-sm mb-2 flex items-center">
                                        <i class="fas fa-moon mr-2 text-xl"></i> 🌙 晚班機備案
                                    </h4>
                                    <p class="text-xs text-slate-600 mb-2 font-bold">
                                        若錯過機場 WOWPASS (23:59 關) 或 E-mart (23:00 關)：
                                    </p>
                                    <div class="bg-white p-3 rounded-lg border border-red-100 shadow-sm">
                                        <strong class="text-slate-800 text-sm ml-1">ATM 跨國提款</strong>
                                        <p class="text-xs text-slate-500 mt-0.5">
                                            使用台灣提款卡 (需開通跨國提款+4位密碼) 在便利商店 (CU/GS25) 的 Global ATM 直接領韓元。
                                        </p>
                                    </div>
                                </div>

                                <a href="https://www.wowpass.io/" target="_blank" class="block w-full bg-purple-600 hover:bg-purple-700 text-white text-center py-3 rounded-xl font-bold transition-all shadow-md active:scale-95">
                                    <i class="fas fa-download mr-1"></i> 下載 App (查餘額/匯率)
                                </a>
                            </div>
                        </div>

                        <!-- 4. 威訊 WaySim eSIM 設定 (新增) -->
                        <div class="bg-white p-5 rounded-2xl border-2 border-dashed border-green-200 shadow-sm relative">
                            <div class="absolute -top-3 -left-2 bg-green-500 text-white px-3 py-1 rounded-lg font-bold shadow-sm transform -rotate-2">Step 4</div>
                            <h3 class="font-bold text-slate-800 text-lg mb-3 mt-2 flex items-center gap-2">
                                <i class="fas fa-sim-card text-green-500"></i> 威訊 WaySim eSIM 設定
                            </h3>
                            
                            <div class="space-y-4">
                                <div class="bg-green-50 p-3 rounded-xl text-sm text-slate-700 leading-relaxed border border-green-100">
                                    <p class="font-bold text-green-700 mb-1"><i class="fas fa-exclamation-triangle mr-1"></i> 啟用時機點：</p>
                                    <p>建議在<strong>「台灣機場候機」</strong>時先掃描加入，落地後再開啟使用。</p>
                                </div>

                                <ol class="list-decimal pl-5 text-sm text-slate-600 space-y-3 font-sans">
                                    <li>
                                        <strong>掃描安裝 (在台灣)：</strong><br>
                                        設定 > 行動服務 > 加入 eSIM > 掃描 QR Code (請準備好憑證截圖或紙本)。<br>
                                        <span class="text-xs text-slate-400">*(若無法掃描，可手動輸入 SM-DP+ 位址與啟用碼)*</span>
                                    </li>
                                    <li>
                                        <strong>設定標籤：</strong><br>
                                        將新加入的 eSIM 標籤設為「旅遊」或「WaySim」，安裝後先<strong>「關閉」</strong>此號碼，避免在台灣就開始計算天數。
                                    </li>
                                    <li>
                                        <strong>抵達開啟 (在濟州)：</strong><br>
                                        落地後，開啟 WaySim 號碼，並將「行動數據」來源切換為此號碼。<br>
                                        <span class="text-red-500 font-bold">⚠️ 務必開啟「數據漫遊」功能！</span>
                                    </li>
                                </ol>

                                <div class="bg-slate-50 p-3 rounded-lg border border-slate-200 text-xs text-slate-500">
                                    <strong class="block mb-1 text-slate-700"><i class="fas fa-tools mr-1"></i> 連不上的排除法：</strong>
                                    1. 確認「數據漫遊」已打開。<br>
                                    2. 飛航模式 開/關 一次，讓手機重新抓訊號。<br>
                                    3. 檢查 APN 設定是否為 <strong>internet</strong> (或依官方說明書)。
                                </div>
                            </div>
                        </div>
                    </div>`;
                case 'flight':
                    return `${header('Flight Info 航班資訊')}${renderBookingInfo()}<div class="flex flex-col gap-4"><div class="bg-white rounded-xl shadow-md border-2 border-slate-100 overflow-hidden cursor-pointer" onclick="toggleDetails('outbound-details')"><div class="p-4 relative"><div class="absolute right-0 top-0 bg-jeju-orange text-white px-3 py-1 rounded-bl-lg font-bold text-xs z-10">去程 Outbound</div><div class="flex justify-between items-center text-center mt-2"><div class="text-2xl font-hand font-bold text-slate-800">16:00 <span class="text-xs text-slate-400 block font-sans">KHH</span></div><div class="flex-1 px-2"><div class="border-b-2 border-dashed border-slate-300 relative h-1 w-full my-2"></div><div class="flex justify-between text-[10px] text-slate-500 font-bold uppercase"><span>Tigerair</span><span class="text-jeju-orange">IT 670</span></div></div><div class="text-2xl font-hand font-bold text-slate-800">19:25 <span class="text-xs text-slate-400 block font-sans">CJU</span></div></div></div><div id="outbound-details" class="details-expand bg-orange-50 px-4"><div class="pb-4 pt-2">${renderPassengerTable(passengersOutbound)}</div></div></div><div class="bg-white rounded-xl shadow-md border-2 border-slate-100 overflow-hidden cursor-pointer" onclick="toggleDetails('inbound-details')"><div class="p-4 relative"><div class="absolute right-0 top-0 bg-jeju-blue text-white px-3 py-1 rounded-bl-lg font-bold text-xs z-10">回程 Inbound</div><div class="flex justify-between items-center text-center mt-2"><div class="text-2xl font-hand font-bold text-slate-800">20:15 <span class="text-xs text-slate-400 block font-sans">CJU</span></div><div class="flex-1 px-2"><div class="border-b-2 border-dashed border-slate-300 relative h-1 w-full my-2"></div><div class="flex justify-between text-[10px] text-slate-500 font-bold uppercase"><span>Tigerair</span><span class="text-jeju-blue">IT 671</span></div></div><div class="text-2xl font-hand font-bold text-slate-800">21:50 <span class="text-xs text-slate-400 block font-sans">KHH</span></div></div></div><div id="inbound-details" class="details-expand bg-blue-50 px-4"><div class="pb-4 pt-2">${renderPassengerTable(passengersInbound)}</div></div></div></div>`;
                case 'rate': 
                    return `
                    ${header('Currency Calculator')}
                    <div id="rate-display">
                        <div class="bg-white border-2 border-slate-200 rounded-xl p-4 mb-6 shadow-sm relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-2 bg-stripes-gray opacity-20"></div>
                            <div id="rate-loading" class="text-center font-hand text-xl py-4">連線中...</div>
                            <div id="rate-result" class="hidden relative z-10">
                                <div class="flex justify-between items-center mb-4 border-b border-dashed border-slate-200 pb-2">
                                    <span class="text-xs text-slate-400 font-bold">TODAY'S RATE</span>
                                    <span class="text-2xl font-black text-jeju-orange font-hand">1 TWD ≈ <span id="krw-val">--</span> KRW</span>
                                </div>
                                <div class="flex flex-col gap-3">
                                    <div class="relative">
                                        <span class="absolute left-3 top-2.5 text-slate-400 font-bold text-xs">TWD <img src="https://flagcdn.com/w20/tw.png" class="inline w-4 ml-1"></span>
                                        <input type="number" id="calc-twd" placeholder="輸入台幣" oninput="convertCurrency('twd')" 
                                            class="w-full pl-16 pr-3 py-2 text-lg font-bold text-slate-700 bg-slate-50 rounded-lg border border-slate-200 focus:outline-none focus:border-jeju-orange transition-all text-right font-hand">
                                    </div>
                                    <div class="text-center text-slate-300 text-xs"><i class="fas fa-exchange-alt rotate-90"></i></div>
                                    <div class="relative">
                                        <span class="absolute left-3 top-2.5 text-slate-400 font-bold text-xs">KRW <img src="https://flagcdn.com/w20/kr.png" class="inline w-4 ml-1"></span>
                                        <input type="number" id="calc-krw" placeholder="輸入韓元" oninput="convertCurrency('krw')" 
                                            class="w-full pl-16 pr-3 py-2 text-lg font-bold text-jeju-blue bg-blue-50 rounded-lg border border-blue-200 focus:outline-none focus:border-jeju-blue transition-all text-right font-hand">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-yellow-100 p-4 rounded-lg shadow-md mb-6"><ul class="space-y-1 font-hand text-slate-700" id="rate-cheat-sheet"></ul></div>
                        
                        <!-- 記帳表單 -->
                        <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-100 mb-6 mt-6">
                            <h3 class="font-bold text-jeju-green mb-4 flex items-center gap-2 font-hand text-lg">
                                <i class="fas fa-pen"></i> 新增支出
                            </h3>
                            <div class="space-y-3">
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="text" id="expense-name" placeholder="項目名稱 (如: 晚餐)" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-jeju-green">
                                    <select id="expense-category" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-jeju-green">
                                        <option value="food">🍽️ 飲食</option>
                                        <option value="transport">🚗 交通</option>
                                        <option value="hotel">🏨 住宿</option>
                                        <option value="shopping">🛍️ 購物</option>
                                        <option value="fun">🎡 娛樂</option>
                                        <option value="other">📦 其他</option>
                                    </select>
                                </div>
                                <div class="flex gap-2">
                                    <input type="number" id="expense-amount" placeholder="金額 (KRW)" class="flex-1 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-jeju-green">
                                    <button onclick="addExpense()" class="bg-jeju-green text-white px-6 py-2 rounded-lg font-bold hover:bg-green-600 transition shadow-sm font-hand text-lg">
                                        新增
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- 記帳列表與統計 -->
                        <div class="space-y-4 pb-20">
                            <div class="flex justify-between items-center px-2">
                                <h3 class="font-bold text-slate-700 font-hand text-lg">消費紀錄</h3>
                                <div class="text-right">
                                    <p class="text-[10px] text-gray-400">總計約</p>
                                    <p class="text-xl font-bold text-jeju-orange font-mono" id="total-twd">NT$ 0</p>
                                </div>
                            </div>
                            
                            <div id="expense-list" class="space-y-2">
                                <!-- JS 生成 -->
                            </div>
                        </div>
                    </div>`;
                case 'weather': return `
                    ${header('7 Days Weather 一週氣象')}
                    <div id="weather-widget">
                        <div id="weather-loading" class="text-center py-10 font-hand text-xl text-slate-400">Checking...</div>
                        <div id="weather-content" class="hidden">
                            <!-- Main Weather Card -->
                            <div class="bg-gradient-to-br from-blue-400 to-blue-200 rounded-2xl p-5 text-white shadow-md mb-6 relative overflow-hidden">
                                <div class="absolute top-[-20px] right-[-20px] text-9xl opacity-20 text-white"><i class="fas fa-cloud-sun"></i></div>
                                <div class="z-10 relative">
                                    <h3 class="text-lg font-bold mb-1 font-hand tracking-wider">Jeju City (Today)</h3>
                                    <div class="flex items-end">
                                        <div class="text-6xl font-black font-hand mr-3" id="curr-temp">--°</div>
                                        <div class="text-xl font-medium opacity-90 mb-2" id="curr-desc">--</div>
                                    </div>
                                    
                                    <!-- Detail Grid -->
                                    <div class="grid grid-cols-2 gap-2 mt-4 bg-white/20 backdrop-blur-sm p-3 rounded-lg text-xs">
                                        <div class="flex items-center"><i class="fas fa-wind mr-2 opacity-70"></i> <span id="w-wind">--</span></div>
                                        <div class="flex items-center"><i class="fas fa-tint mr-2 opacity-70"></i> <span id="w-hum">--</span></div>
                                        <div class="flex items-center"><i class="fas fa-sun mr-2 opacity-70"></i> <span id="w-uv">UV --</span></div>
                                        <div class="flex items-center"><i class="fas fa-temperature-high mr-2 opacity-70"></i> 體感 <span id="w-feel">--</span></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 穿搭便條紙 -->
                            <div class="bg-pink-50 p-3 rounded-lg shadow-sm border-l-4 border-pink-300 mb-6 flex items-start">
                                <i class="fas fa-tshirt text-pink-400 mt-1 mr-3"></i>
                                <div>
                                    <h4 class="font-bold text-pink-800 text-xs mb-1">OOTD 穿搭建議</h4>
                                    <p class="text-xs text-slate-600" id="weather-tip">載入中...</p>
                                </div>
                            </div>

                            <h3 class="font-bold text-slate-600 mb-2 ml-1 text-sm flex items-center justify-between">
                                <span><i class="fas fa-calendar-week mr-1"></i> Forecast</span>
                                <span class="text-[10px] bg-slate-100 px-2 py-0.5 rounded text-slate-400">Slide →</span>
                            </h3>
                            
                            <div class="flex overflow-x-auto gap-3 pb-4 snap-x hide-scrollbar" id="forecast-container">
                                <!-- JS Generated -->
                            </div>
                            
                            <div class="text-[10px] text-slate-400 text-center mt-2">
                                Data: Open-Meteo.com
                            </div>
                        </div>
                    </div>`;
                case 'prep': return `${header('Checklist 行前準備')}<div class="grid grid-cols-1 gap-4">${prepGroup('出發前必做', ['預辦登機 (48小時前)', '線上填寫電子入境卡 (e-Arrival Card)'], 'red')}${prepGroup('必備證件', ['護照 (效期6個月+)', '機票電子檔', '訂房憑證', '國際駕照'], 'blue')}${prepGroup('金流與網路', ['WOWPASS 卡', '韓元現金', '信用卡 (海外)', '購買 eSIM 卡', '漫遊開通'], 'yellow')}${prepGroup('冬季衣物', ['防風厚外套', '發熱衣 x3', '好走的鞋', '毛帽、圍巾、手套', '兒童備用衣物'], 'orange')}${prepGroup('電子雜物', ['轉接頭 (4.8mm)', '行動電源', '充電線', '雨衣/傘', '暖暖包'], 'green')}${prepGroup('親子與藥品', ['兒童退燒/腸胃藥', '個人藥品', '安撫零食', '輕便推車', '濕紙巾'], 'purple')}</div>`;
                case 'booking': 
                    return `${header('電子憑證 Vouchers')}
                    <div class="space-y-8 pb-24 px-1">
                        <!-- User Tip -->
                        <div class="bg-yellow-50/80 backdrop-blur-sm p-4 rounded-2xl border-2 border-yellow-200 text-sm text-slate-600 flex items-start gap-3 shadow-sm">
                            <i class="fas fa-lightbulb text-yellow-500 text-lg mt-0.5"></i>
                            <div>
                                <strong>小貼士：</strong><br>
                                點擊縮圖可開啟原始大圖，建議截圖保存以防網路不穩。
                            </div>
                        </div>

                        <!-- 1. 租車憑證 (Folder Style) -->
                        <div class="relative group">
                            <div class="absolute -inset-1 bg-gradient-to-r from-orange-200 to-amber-200 rounded-2xl blur opacity-30 group-hover:opacity-60 transition duration-500"></div>
                            <div class="relative bg-white rounded-2xl border border-orange-100 shadow-lg overflow-hidden">
                                <!-- Header -->
                                <div class="bg-orange-50 px-5 py-3 border-b border-orange-100 flex justify-between items-center">
                                    <h3 class="font-bold text-slate-700 flex items-center gap-2">
                                        <span class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-500"><i class="fas fa-car"></i></span>
                                        The Safe Rent A Car
                                    </h3>
                                    <span class="bg-orange-200 text-orange-800 text-[10px] font-bold px-2 py-1 rounded-full">7 Documents</span>
                                </div>
                                <!-- Details -->
                                <div class="px-5 py-3 bg-slate-50 flex justify-between text-xs text-slate-500 font-mono border-b border-slate-100">
                                    <span>PICK-UP: 01/30 20:00</span>
                                    <span>RETURN: 02/06 16:30</span>
                                </div>
                                <!-- Grid -->
                                <div class="p-5 grid grid-cols-3 sm:grid-cols-4 gap-3 bg-white">
                                    ${[1, 2, 3, 4, 5, 6, 7].map(num => `
                                        <div class="aspect-[3/4] rounded-lg overflow-hidden border border-slate-200 cursor-pointer relative group/img shadow-sm hover:shadow-md transition-all" 
                                             onclick="window.open('https://github.com/asdfzxcv0911/-Jeju/blob/main/The_Safe_Rent_A_Car_${num}.png?raw=true', '_blank')">
                                            <img src="https://github.com/asdfzxcv0911/-Jeju/blob/main/The_Safe_Rent_A_Car_${num}.png?raw=true" class="w-full h-full object-cover group-hover/img:scale-110 transition-transform duration-500">
                                            <div class="absolute inset-0 bg-black/0 group-hover/img:bg-black/10 transition-colors"></div>
                                            <div class="absolute bottom-1 right-1 bg-black/60 text-white text-[9px] px-1.5 rounded backdrop-blur-sm">Page ${num}</div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>

                        <!-- 2. 住宿憑證 (Timeline Style) -->
                        <div class="relative">
                            <div class="absolute left-6 top-4 bottom-4 w-0.5 bg-slate-200 border-l-2 border-dotted border-slate-300"></div>
                            
                            <h3 class="font-bold text-slate-700 text-lg mb-6 pl-2 flex items-center gap-2">
                                <span class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-500 shadow-sm z-10"><i class="fas fa-bed"></i></span>
                                住宿憑證 (7 Nights)
                            </h3>

                            <div class="space-y-8">
                                <!-- Hotel 1 -->
                                <div class="relative pl-14 group">
                                    <div class="absolute left-[21px] top-3 w-3 h-3 bg-blue-400 rounded-full border-2 border-white shadow-sm z-10"></div>
                                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-200 hover:border-blue-300 transition-colors">
                                        <div class="flex justify-between items-start mb-3">
                                            <div>
                                                <h4 class="font-bold text-slate-800">濟州 Glad Maison</h4>
                                                <p class="text-xs text-slate-400 mt-0.5"><i class="far fa-calendar-alt mr-1"></i>1/30 - 1/31 (1 Night)</p>
                                            </div>
                                            <span class="text-2xl text-slate-100"><i class="fas fa-hotel"></i></span>
                                        </div>
                                        <div class="rounded-xl overflow-hidden shadow-inner border border-slate-100 relative h-32 cursor-pointer" onclick="window.open('https://github.com/asdfzxcv0911/-Jeju/blob/main/Maison_Glad_Voucher.png?raw=true', '_blank')">
                                            <img src="https://github.com/asdfzxcv0911/-Jeju/blob/main/Maison_Glad_Voucher.png?raw=true" class="w-full h-full object-cover">
                                            <div class="absolute bottom-2 right-2 bg-white/90 backdrop-blur text-slate-700 text-xs px-2 py-1 rounded shadow-sm font-bold"><i class="fas fa-expand mr-1"></i>查看憑證</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Hotel 2 (Carousel for 2 images) -->
                                <div class="relative pl-14 group">
                                    <div class="absolute left-[21px] top-3 w-3 h-3 bg-purple-400 rounded-full border-2 border-white shadow-sm z-10"></div>
                                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-200 hover:border-purple-300 transition-colors">
                                        <div class="flex justify-between items-start mb-3">
                                            <div>
                                                <h4 class="font-bold text-slate-800">Coop City Seongsan</h4>
                                                <p class="text-xs text-slate-400 mt-0.5"><i class="far fa-calendar-alt mr-1"></i>1/31 - 2/02 (2 Nights)</p>
                                            </div>
                                        </div>
                                        <div class="flex gap-2 overflow-x-auto pb-2 snap-x hide-scrollbar">
                                            ${['Coop_City_Seongsan_1.png', 'Coop_City_Seongsan_2.png'].map((img, i) => `
                                                <div class="flex-shrink-0 w-4/5 snap-center rounded-xl overflow-hidden shadow-sm border border-slate-100 relative h-32 cursor-pointer" 
                                                     onclick="window.open('https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true', '_blank')">
                                                    <img src="https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true" class="w-full h-full object-cover">
                                                    <div class="absolute top-2 left-2 bg-black/50 text-white text-[9px] px-1.5 py-0.5 rounded">${i+1}/2</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                </div>

                                <!-- Hotel 3 -->
                                <div class="relative pl-14 group">
                                    <div class="absolute left-[21px] top-3 w-3 h-3 bg-yellow-400 rounded-full border-2 border-white shadow-sm z-10"></div>
                                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-200 hover:border-yellow-300 transition-colors">
                                        <div class="flex justify-between items-start mb-3">
                                            <div>
                                                <h4 class="font-bold text-slate-800">神話世界 藍鼎</h4>
                                                <p class="text-xs text-slate-400 mt-0.5"><i class="far fa-calendar-alt mr-1"></i>2/02 - 2/04 (2 Nights)</p>
                                            </div>
                                        </div>
                                        <div class="flex gap-2 overflow-x-auto pb-2 snap-x hide-scrollbar">
                                            ${['Shinhwa_Landing_1.png', 'Shinhwa_Landing_2.png'].map((img, i) => `
                                                <div class="flex-shrink-0 w-4/5 snap-center rounded-xl overflow-hidden shadow-sm border border-slate-100 relative h-32 cursor-pointer" 
                                                     onclick="window.open('https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true', '_blank')">
                                                    <img src="https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true" class="w-full h-full object-cover">
                                                    <div class="absolute top-2 left-2 bg-black/50 text-white text-[9px] px-1.5 py-0.5 rounded">${i+1}/2</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                </div>

                                <!-- Hotel 4 -->
                                <div class="relative pl-14 group">
                                    <div class="absolute left-[21px] top-3 w-3 h-3 bg-slate-600 rounded-full border-2 border-white shadow-sm z-10"></div>
                                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-200 hover:border-slate-400 transition-colors">
                                        <div class="flex justify-between items-start mb-3">
                                            <div>
                                                <h4 class="font-bold text-slate-800">Hotel Leo</h4>
                                                <p class="text-xs text-slate-400 mt-0.5"><i class="far fa-calendar-alt mr-1"></i>2/04 - 2/06 (2 Nights)</p>
                                            </div>
                                        </div>
                                        <div class="flex gap-2 overflow-x-auto pb-2 snap-x hide-scrollbar">
                                            ${['Hotel_Leo_1.png', 'Hotel_Leo_2.png'].map((img, i) => `
                                                <div class="flex-shrink-0 w-4/5 snap-center rounded-xl overflow-hidden shadow-sm border border-slate-100 relative h-32 cursor-pointer" 
                                                     onclick="window.open('https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true', '_blank')">
                                                    <img src="https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true" class="w-full h-full object-cover">
                                                    <div class="absolute top-2 left-2 bg-black/50 text-white text-[9px] px-1.5 py-0.5 rounded">${i+1}/2</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 3. 門票憑證 (Ticket Style) -->
                        <div class="relative group mt-4">
                            <div class="absolute -inset-1 bg-gradient-to-r from-blue-200 to-cyan-200 rounded-2xl blur opacity-30 group-hover:opacity-60 transition duration-500"></div>
                            <div class="relative bg-white rounded-2xl border border-blue-100 shadow-md overflow-hidden">
                                <div class="bg-blue-50 px-5 py-3 border-b border-blue-100 flex justify-between items-center">
                                    <h3 class="font-bold text-slate-700 flex items-center gap-2">
                                        <span class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-500"><i class="fas fa-ticket-alt"></i></span>
                                        Aqua Planet 水族館
                                    </h3>
                                    <span class="bg-blue-200 text-blue-800 text-[10px] font-bold px-2 py-1 rounded-full">2 Tickets</span>
                                </div>
                                <div class="p-5 flex gap-3 overflow-x-auto snap-x hide-scrollbar">
                                     ${['Aqua_Planet_Ticket_1.png', 'Aqua_Planet_Ticket_2.png'].map((img, i) => `
                                        <div class="flex-shrink-0 w-[45%] snap-center aspect-[2/3] rounded-lg overflow-hidden border border-slate-200 relative cursor-pointer shadow-sm hover:shadow-md transition-shadow"
                                             onclick="window.open('https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true', '_blank')">
                                            <img src="https://github.com/asdfzxcv0911/-Jeju/blob/main/${img}?raw=true" class="w-full h-full object-cover">
                                            <div class="absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/60 to-transparent flex items-end justify-center pb-2">
                                                <span class="text-white text-xs font-bold"><i class="fas fa-search"></i> No.${i+1}</span>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>

                        <!-- 4. 餐廳預約 (Catch Table Links) -->
                        <div class="relative group mt-4">
                        <!-- 4. 威訊 WaySim eSIM 設定 -->
                        <div class="bg-white p-5 rounded-2xl border-2 border-dashed border-green-200 shadow-sm relative">
                            <div class="absolute -top-3 -left-2 bg-green-500 text-white px-3 py-1 rounded-lg font-bold shadow-sm transform -rotate-2">Step 4</div>
                            <h3 class="font-bold text-slate-800 text-lg mb-3 mt-2 flex items-center gap-2">
                                <i class="fas fa-sim-card text-green-500"></i> 威訊 WaySim eSIM 設定
                            </h3>
                            
                            <div class="space-y-4">
                                <div class="bg-green-50 p-3 rounded-xl text-sm text-slate-700 leading-relaxed border border-green-100">
                                    <p class="font-bold text-green-700 mb-1"><i class="fas fa-exclamation-triangle mr-1"></i> 啟用時機點：</p>
                                    <p>建議在<strong>「台灣機場候機」</strong>時先掃描加入，落地後再開啟使用。</p>
                                </div>

                                <ol class="list-decimal pl-5 text-sm text-slate-600 space-y-3 font-sans">
                                    <li>
                                        <strong>掃描安裝 (在台灣)：</strong><br>
                                        設定 > 行動服務 > 加入 eSIM > 掃描 QR Code (請準備好憑證截圖或紙本)。<br>
                                        <span class="text-xs text-slate-400">*(若無法掃描，可手動輸入 SM-DP+ 位址與啟用碼)*</span>
                                    </li>
                                    <li>
                                        <strong>設定標籤：</strong><br>
                                        將新加入的 eSIM 標籤設為「旅遊」或「WaySim」，安裝後先<strong>「關閉」</strong>此號碼，避免在台灣就開始計算天數。
                                    </li>
                                    <li>
                                        <strong>抵達開啟 (在濟州)：</strong><br>
                                        落地後，開啟 WaySim 號碼，並將「行動數據」來源切換為此號碼。<br>
                                        <span class="text-red-500 font-bold">⚠️ 務必開啟「數據漫遊」功能！</span>
                                    </li>
                                </ol>

                                <div class="bg-slate-50 p-3 rounded-lg border border-slate-200 text-xs text-slate-500">
                                    <strong class="block mb-1 text-slate-700"><i class="fas fa-tools mr-1"></i> 連不上的排除法：</strong>
                                    1. 確認「數據漫遊」已打開。<br>
                                    2. 飛航模式 開/關 一次，讓手機重新抓訊號。<br>
                                    3. 檢查 APN 設定是否為 <strong>internet</strong> (或依官方說明書)。
                                </div>
                            </div>
                        </div>
                    </div>`;

                case 'shopping':
                    return `${header('Shopping List 購物清單')}
                    
                    <div class="bg-pink-50 p-4 rounded-2xl border border-pink-100 shadow-sm mb-6 text-xs text-slate-600">
                        <i class="fas fa-camera mr-1 text-pink-500"></i> 
                        <strong>使用說明：</strong> 將您的想買的物品截圖或照片放入資料夾，並修改為對應檔名即可顯示。
                    </div>

                    <!-- 區塊 1: 必買清單 -->
                    <div class="mb-8">
                        <h3 class="text-lg font-bold text-slate-700 mb-3 px-2 border-l-4 border-jeju-orange flex items-center">
                            🔥 必買清單
                        </h3>
                        <div class="grid grid-cols-2 gap-4 px-2">
                            <!-- Item 1: 軍人暖暖包 -->
                            <div class="bg-white p-3 rounded-2xl shadow-sm border border-slate-100 relative group hover:shadow-md transition-shadow flex flex-col h-full">
                                <!-- 圖片區 -->
                                <div class="aspect-square rounded-xl overflow-hidden bg-slate-50 relative border border-slate-100 cursor-pointer shrink-0" onclick="window.open('soldier_hotpack.jpg', '_blank')">
                                    <img src="soldier_hotpack.jpg" 
                                         onerror="this.src='https://placehold.co/300x300?text=請放入照片\\nsoldier_hotpack.jpg';" 
                                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"></div>
                                    <div class="absolute bottom-1 right-1 bg-black/50 text-white text-[9px] px-1.5 rounded backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity">點擊放大</div>
                                </div>
                                <!-- 文字區 -->
                                <div class="mt-3 text-center flex-1 flex flex-col">
                                    <h3 class="font-bold text-slate-700 font-hand text-lg leading-tight">軍人暖暖包</h3>
                                    <p class="text-[10px] text-slate-400 font-sans mt-1 bg-slate-50 inline-block px-2 py-0.5 rounded mb-2">soldier_hotpack.jpg</p>
                                    
                                    <div class="mt-auto">
                                        <!-- 可愛化的購買地點 -->
                                        <div class="bg-orange-50 rounded-xl p-2 border border-orange-100">
                                            <p class="text-[10px] text-orange-400 font-bold mb-1.5 font-hand flex justify-center items-center gap-1">
                                                <i class="fas fa-store"></i> 這裡買得到唷
                                            </p>
                                            <div class="flex flex-wrap gap-1.5 justify-center">
                                                <span class="bg-white text-sky-500 border border-sky-200 text-[10px] px-2 py-1 rounded-full font-hand font-bold shadow-sm transform hover:-rotate-3 transition-transform cursor-default">🏪 便利商店</span>
                                                <span class="bg-white text-red-500 border border-red-200 text-[10px] px-2 py-1 rounded-full font-hand font-bold shadow-sm transform hover:rotate-3 transition-transform cursor-default">🛒 大創 Daiso</span>
                                                <span class="bg-white text-green-600 border border-green-200 text-[10px] px-2 py-1 rounded-full font-hand font-bold shadow-sm transform hover:-rotate-2 transition-transform cursor-default">🛍️ 樂天超市</span>
                                            </div>
                                        </div>
                                        <p class="text-[9px] text-slate-400 mt-1 font-hand">✨ 認明 My Hot (마이핫)</p>
                                    </div>
                                </div>
                                <!-- 裝飾貼紙 -->
                                <div class="absolute -top-2 -right-2 bg-pink-100 text-pink-500 w-8 h-8 rounded-full flex items-center justify-center border-2 border-white shadow-sm transform rotate-12">
                                    <i class="fas fa-heart text-sm"></i>
                                </div>
                            </div>

                            <!-- Item 2: 鍾根堂益生菌 -->
                            <div class="bg-white p-3 rounded-2xl shadow-sm border border-slate-100 relative group hover:shadow-md transition-shadow flex flex-col h-full">
                                <!-- 圖片區 -->
                                <div class="aspect-square rounded-xl overflow-hidden bg-slate-50 relative border border-slate-100 cursor-pointer shrink-0" onclick="window.open('lacto_fit.jpg', '_blank')">
                                    <img src="lacto_fit.jpg" 
                                         onerror="this.src='https://placehold.co/300x300?text=請放入照片\\nlacto_fit.jpg';" 
                                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"></div>
                                    <div class="absolute bottom-1 right-1 bg-black/50 text-white text-[9px] px-1.5 rounded backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity">點擊放大</div>
                                </div>
                                <!-- 文字區 -->
                                <div class="mt-3 text-center flex-1 flex flex-col">
                                    <h3 class="font-bold text-slate-700 font-hand text-lg leading-tight">鍾根堂益生菌</h3>
                                    <p class="text-[10px] text-slate-400 font-sans mt-1 bg-slate-50 inline-block px-2 py-0.5 rounded mb-2">lacto_fit.jpg</p>
                                    
                                    <div class="mt-auto">
                                        <!-- 可愛化的購買地點 -->
                                        <div class="bg-yellow-50 rounded-xl p-2 border border-yellow-100">
                                            <p class="text-[10px] text-yellow-500 font-bold mb-1.5 font-hand flex justify-center items-center gap-1">
                                                <i class="fas fa-search-location"></i> 販售地點
                                            </p>
                                            <div class="flex flex-wrap gap-1.5 justify-center">
                                                <span class="bg-white text-pink-500 border border-pink-200 text-[10px] px-2 py-1 rounded-full font-hand font-bold shadow-sm transform hover:rotate-2 transition-transform cursor-default">💄 Olive Young</span>
                                                <span class="bg-white text-green-600 border border-green-200 text-[10px] px-2 py-1 rounded-full font-hand font-bold shadow-sm transform hover:-rotate-2 transition-transform cursor-default">🛍️ 超市</span>
                                                <span class="bg-white text-blue-500 border border-blue-200 text-[10px] px-2 py-1 rounded-full font-hand font-bold shadow-sm transform hover:rotate-3 transition-transform cursor-default">✈️ 免稅店</span>
                                            </div>
                                        </div>
                                        <p class="text-[9px] text-slate-400 mt-1 font-hand">✨ 黃色罐裝 (Gold) 最熱銷</p>
                                    </div>
                                </div>
                                <!-- 裝飾貼紙 -->
                                <div class="absolute -top-2 -right-2 bg-yellow-100 text-yellow-500 w-8 h-8 rounded-full flex items-center justify-center border-2 border-white shadow-sm transform -rotate-6">
                                    <i class="fas fa-star text-sm"></i>
                                </div>
                            </div>

                            <!-- Item 3: 韓國驅蟲藥 -->
                        <div class="bg-white p-3 rounded-2xl shadow-sm border border-slate-100 relative group hover:shadow-md transition-shadow flex flex-col h-full">
                            <!-- 圖片區 -->
                            <div class="aspect-square rounded-xl overflow-hidden bg-slate-50 relative border border-slate-100 cursor-pointer shrink-0" onclick="window.open('deworming_medicine.jpg', '_blank')">
                                <img src="deworming_medicine.jpg" 
                                     onerror="this.src='https://placehold.co/300x300?text=請放入照片\\ndeworming_medicine.jpg';" 
                                     class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                <div class="absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"></div>
                                <div class="absolute bottom-1 right-1 bg-black/50 text-white text-[9px] px-1.5 rounded backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity">點擊放大</div>
                            </div>
                            <!-- 文字區 -->
                            <div class="mt-3 text-center flex-1 flex flex-col">
                                <h3 class="font-bold text-slate-700 font-hand text-lg leading-tight">韓國驅蟲藥</h3>
                                <p class="text-[10px] text-slate-400 font-sans mt-1 bg-slate-50 inline-block px-2 py-0.5 rounded mb-2">deworming_medicine.jpg</p>
                                
                                <div class="mt-auto">
                                    <p class="text-[10px] text-slate-500 font-bold mb-1"><i class="fas fa-map-marker-alt text-green-400"></i> 哪裡買?</p>
                                    <div class="flex flex-wrap gap-1 justify-center">
                                        <span class="bg-green-50 text-green-600 border border-green-200 text-[9px] px-2 py-1 rounded-md font-bold shadow-sm">💊 藥局 (Yakguk)</span>
                                    </div>
                                    
                                    <!-- 藥局辨識小撇步 -->
                                    <div class="mt-2 text-[9px] text-slate-500 text-left bg-green-50 p-2 rounded-lg border border-green-100 leading-tight">
                                        <span class="font-bold text-green-700">💡 濟州藥局長怎樣?</span><br>
                                        請認明大大的 <span class="text-red-500 font-bold text-sm align-bottom">약</span> (藥) 字招牌，通常會有紅色或綠色的十字燈號 ➕。
                                    </div>
                                </div>
                            </div>
                            <!-- 裝飾貼紙 -->
                            <div class="absolute -top-2 -right-2 bg-green-100 text-green-500 w-8 h-8 rounded-full flex items-center justify-center border-2 border-white shadow-sm transform rotate-3">
                                <i class="fas fa-capsules text-sm"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 區塊 2: 網友推薦 -->
                    <div class="mb-20">
                        <h3 class="text-lg font-bold text-slate-700 mb-3 px-2 border-l-4 border-pink-400 flex items-center">
                            👍 網友推薦
                        </h3>
                        
                        <!-- 1. 藥局必買懶人包 (橫向滑動) -->
                        <div class="bg-indigo-50 p-4 rounded-2xl border border-indigo-100 shadow-sm mx-2 mb-6">
                            <div class="flex justify-between items-center mb-3">
                                <h4 class="font-bold text-indigo-700 text-sm flex items-center gap-2">
                                    <i class="fas fa-first-aid"></i> 韓國藥局必買清單
                                </h4>
                                <span class="bg-white text-indigo-500 text-[9px] px-2 py-1 rounded-full shadow-sm font-bold">Cheatsheet</span>
                            </div>

                            <!-- Horizontal Scroll Container -->
                            <div class="flex overflow-x-auto gap-3 pb-2 snap-x hide-scrollbar">
                                <!-- Card 1 -->
                                <div class="flex-shrink-0 w-36 bg-white p-2 rounded-xl shadow-sm border border-indigo-50 cursor-pointer group relative hover:shadow-md transition-all snap-center" onclick="window.open('S__160620631.jpg', '_blank')">
                                    <div class="aspect-[3/5] rounded-lg overflow-hidden bg-slate-100 relative">
                                        <img src="S__160620631.jpg" onerror="this.src='https://placehold.co/300x500?text=藥局-1';" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                                        <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"></div>
                                        <div class="absolute bottom-1 right-1 bg-black/60 text-white text-[9px] px-1.5 rounded backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity"><i class="fas fa-search-plus"></i></div>
                                    </div>
                                    <p class="text-[10px] text-center mt-2 text-slate-600 font-bold leading-tight">
                                        <span class="text-indigo-500">●</span> 痘痘藥膏<br>
                                        <span class="text-indigo-500">●</span> 去疤/黑眼圈
                                    </p>
                                </div>

                                <!-- Card 2 -->
                                <div class="flex-shrink-0 w-36 bg-white p-2 rounded-xl shadow-sm border border-indigo-50 cursor-pointer group relative hover:shadow-md transition-all snap-center" onclick="window.open('S__160620633.jpg', '_blank')">
                                    <div class="aspect-[3/5] rounded-lg overflow-hidden bg-slate-100 relative">
                                        <img src="S__160620633.jpg" onerror="this.src='https://placehold.co/300x500?text=藥局-2';" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                                        <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"></div>
                                        <div class="absolute bottom-1 right-1 bg-black/60 text-white text-[9px] px-1.5 rounded backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity"><i class="fas fa-search-plus"></i></div>
                                    </div>
                                    <p class="text-[10px] text-center mt-2 text-slate-600 font-bold leading-tight">
                                        <span class="text-indigo-500">●</span> 萬用霜<br>
                                        <span class="text-indigo-500">●</span> 消腫/膠原蛋白
                                    </p>
                                </div>

                                <!-- Card 3 -->
                                <div class="flex-shrink-0 w-36 bg-white p-2 rounded-xl shadow-sm border border-indigo-50 cursor-pointer group relative hover:shadow-md transition-all snap-center" onclick="window.open('S__160620634.jpg', '_blank')">
                                    <div class="aspect-[3/5] rounded-lg overflow-hidden bg-slate-100 relative">
                                        <img src="S__160620634.jpg" onerror="this.src='https://placehold.co/300x500?text=藥局-3';" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                                        <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"></div>
                                        <div class="absolute bottom-1 right-1 bg-black/60 text-white text-[9px] px-1.5 rounded backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity"><i class="fas fa-search-plus"></i></div>
                                    </div>
                                    <p class="text-[10px] text-center mt-2 text-slate-600 font-bold leading-tight">
                                        <span class="text-indigo-500">●</span> 熊貓再生霜<br>
                                        <span class="text-indigo-500">●</span> 美白/護手霜
                                    </p>
                                </div>
                                
                                <!-- Note Card -->
                                <div class="flex-shrink-0 w-24 flex flex-col justify-center items-center bg-indigo-100/50 rounded-xl p-2 border border-dashed border-indigo-300 snap-center text-center">
                                    <i class="fas fa-hand-point-left text-2xl text-indigo-400 mb-2"></i>
                                    <span class="text-[10px] text-indigo-700 font-bold">左右滑動<br>看更多</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 2. 熱門代購/網紅推薦 -->
                        <h4 class="font-bold text-slate-600 mb-3 px-3 text-sm flex items-center gap-2">
                            <i class="fas fa-fire text-red-400"></i> 熱門代購/網紅推薦
                        </h4>
                        <div class="grid grid-cols-2 gap-4 px-2">
                            <!-- Numbuzin Mask -->
                            <div class="bg-white p-3 rounded-2xl shadow-sm border border-slate-100 relative group hover:shadow-md transition-shadow flex flex-col h-full">
                                <div class="aspect-square rounded-xl overflow-hidden bg-slate-50 relative border border-slate-100 cursor-pointer shrink-0" onclick="window.open('S__160620635.jpg', '_blank')">
                                    <img src="S__160620635.jpg" onerror="this.src='https://placehold.co/300x300?text=S__160620635.jpg';" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                    <div class="absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/50 to-transparent flex items-end justify-center pb-2">
                                        <span class="text-white text-[10px] font-bold">數字面膜</span>
                                    </div>
                                </div>
                                <div class="mt-2 text-center flex-1">
                                    <h3 class="font-bold text-slate-700 text-sm">numbuzin 面膜</h3>
                                    <div class="mt-2 flex flex-wrap gap-1 justify-center">
                                        <span class="bg-green-100 text-green-700 text-[9px] px-2 py-0.5 rounded shadow-sm">Olive Young</span>
                                    </div>
                                    <p class="text-[9px] text-slate-400 mt-1">3號(毛孔)最熱賣</p>
                                </div>
                            </div>

                            <!-- YOZM Yogurt -->
                            <div class="bg-white p-3 rounded-2xl shadow-sm border border-slate-100 relative group hover:shadow-md transition-shadow flex flex-col h-full">
                                <div class="aspect-square rounded-xl overflow-hidden bg-slate-50 relative border border-slate-100 cursor-pointer shrink-0" onclick="window.open('S__160620641.jpg', '_blank')">
                                    <img src="S__160620641.jpg" onerror="this.src='https://placehold.co/300x300?text=S__160620641.jpg';" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                                    <div class="absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/50 to-transparent flex items-end justify-center pb-2">
                                        <span class="text-white text-[10px] font-bold">藍莓優格</span>
                                    </div>
                                </div>
                                <div class="mt-2 text-center flex-1">
                                    <h3 class="font-bold text-slate-700 text-sm">YOZM 希臘優格</h3>
                                    <div class="mt-2 flex flex-wrap gap-1 justify-center">
                                        <span class="bg-sky-100 text-sky-700 text-[9px] px-2 py-0.5 rounded shadow-sm">GS25</span>
                                        <span class="bg-purple-100 text-purple-700 text-[9px] px-2 py-0.5 rounded shadow-sm">CU</span>
                                    </div>
                                    <p class="text-[9px] text-slate-400 mt-1">口感像冰淇淋!</p>
                                </div>
                            </div>
                        </div>
                    </div>`;

                case 'language':
                    return `${header('Korean Phrases 實用會話')}
                    
                    <div class="bg-teal-50 p-4 rounded-2xl border border-teal-100 shadow-sm mb-6 text-xs text-slate-600">
                        <i class="fas fa-smile-wink mr-1 text-teal-500"></i> 
                        <strong>小撇步：</strong> 遇到溝通困難時，直接把手機畫面秀給店員看也是一招喔！
                    </div>

                    ${renderLangSection('萬用問候與禮貌 (必備)', 'fa-hand-sparkles', 'text-teal-600', [
                        { cn: '您好 / (早、午、晚安)', kr: '안녕하세요', pron: '安妞哈se唷', note: '不管進去哪裡，這句是絕對的開場白。' },
                        { cn: '謝謝', kr: '감사합니다', pron: '康撒哈米噠', note: '對店員、加油站人員說這句最得體。' },
                        { cn: '不好意思 / 打擾一下', kr: '잠시만요', pron: '蠶洗滿妞', note: '想要借過，或是店員在忙想引起注意時使用。' },
                        { cn: '對不起', kr: '죄송합니다', pron: '罪松哈米噠', note: '不小心撞到人，或是在路上開車稍微擋到人時致意用。' },
                        { cn: '再見 (對留下來的人說)', kr: '안녕히 계세요', pron: '安妞hee / K-se唷', note: '離開店家時，請對方「好好留步」的意思。' },
                    ])}

                    ${renderLangSection('自駕租車與加油 (最重要！)', 'fa-car-side', 'text-blue-600', [
                        { cn: '請把油加滿', kr: '가득 채워 주세요', pron: '卡ㄉㄜ / 切喔 / 朱se唷', note: '還車前通常需要加滿油，這句最常用（가득 = Full）。' },
                        { cn: '請加汽油 (Regular)', kr: '휘발유 넣어 주세요', pron: '輝八溜 / 諾喔 / 朱se唷', note: '請再次確認租車合約上的油種，加錯會很麻煩。' },
                        { cn: '請加柴油 (Diesel)', kr: '경유 넣어 주세요', pron: 'Kiong-溜 / 諾喔 / 朱se唷', note: '濟州島很多休旅車是吃柴油的，請務必確認。' },
                        { cn: '請問哪裡有停車場？', kr: '주차장 어디예요?', pron: '朱恰江 / 歐底也唷？', note: '濟州島市區或是熱門海邊咖啡廳，停車位有時不好找。' },
                        { cn: '停車費多少錢？', kr: '주차비 얼마예요?', pron: '朱恰B / 歐麻也唷？', note: '有些景點停車是免費的，有些則要收費。' },
                        { cn: '請幫我在導航設定這個地址', kr: '내비에 주소 좀 찍어 주세요', pron: '內比欸 / 朱搜 / 囧 / 積勾朱se唷', note: '租車取車時，若不會用車上韓文導航，可請工作人員先幫忙設定第一次。' },
                    ])}

                    ${renderLangSection('餐廳點餐與用餐', 'fa-utensils', 'text-orange-600', [
                        { cn: '請問有中文菜單嗎？', kr: '중국어 메뉴판 있어요?', pron: '中國喔 / 美妞判 / 伊搜唷？', note: '濟州島觀光客多，很多店家其實備有中文菜單。' },
                        { cn: '請給我菜單', kr: '메뉴판 좀 주세요', pron: '美妞判 / 囧 / 朱se唷', note: '如果沒有中文版，至少先拿韓文版來看圖片。' },
                        { cn: '這道菜會辣嗎？', kr: '이거 매워요?', pron: '伊勾 / 梅窩唷？', note: '韓國的「不辣」有時還是微辣，怕辣的人一定要問。' },
                        { cn: '請給我水', kr: '물 좀 주세요', pron: '穆 / 囧 / 朱se唷', note: '韓國餐廳水通常要自己倒，但講這句店員也會幫忙。' },
                        { cn: '請幫我結帳', kr: '계산해 주세요', pron: 'K-san黑 / 朱se唷', note: '通常是拿著帳單去櫃檯結帳，不是在桌邊結喔。' },
                    ])}

                    ${renderLangSection('購物 (伴手禮與橘子)', 'fa-shopping-bag', 'text-pink-600', [
                        { cn: '這多少錢？', kr: '이거 얼마예요?', pron: '伊勾 / 歐麻也唷？', note: '手指著想要的橘子或巧克力問即可。' },
                        { cn: '請給我這個', kr: '이거 주세요', pron: '伊勾 / 朱se唷', note: '萬用金句，手指著商品說這句就能買。' },
                        { cn: '可以用信用卡嗎？', kr: '카드 돼요?', pron: '卡嘟 / 推唷？', note: '濟州島幾乎都能刷卡，但在傳統市場買小吃有時現金更方便。' },
                        { cn: '沒關係 (不用了)', kr: '괜찮아요', pron: '困恰那唷', note: '當店員熱情推銷其他產品，或詢問需不需要袋子時，若不需要可說這句。' },
                    ])}

                    ${renderLangSection('住宿與求助', 'fa-bed', 'text-purple-600', [
                        { cn: '我要辦理入住', kr: '체크인 할게요', pron: 'Check-in / 哈給唷', note: '直接用英文 Check-in 加韓文尾音即可。' },
                        { cn: '可以寄放行李嗎？', kr: '짐 맡길 수 있어요?', pron: '欽 / 馬ㄍㄧ Su / 伊搜唷？', note: '如果提早到飯店或退房後還想去玩，可以詢問寄放。' },
                        { cn: '請問便利商店在哪裡？', kr: '편의점 어디예요?', pron: 'Pion-伊-囧 / 歐底也唷？', note: '半夜想買水或泡麵時很需要問這句。' },
                    ])}
                    
                    <div class="pb-20"></div>`;

                case 'day1': 
                    // 插入橫向行程膠囊，移除舊的報到與乘客資訊
                    let d1Html = renderScheduleList(day1Events, 'Day 1 : 1/30(五)');
                    const d1Parts = d1Html.split('</h2></div>');
                    return `${d1Parts[0]}</h2></div> ${renderDayTimeline(day1Events)} ${d1Parts[1]}`;
                    
                case 'day2': 
                    // 插入橫向行程膠囊
                    let d2Html = renderScheduleList(day2Events, 'Day 2 : 1/31(六)');
                    const d2Parts = d2Html.split('</h2></div>');
                    return `${d2Parts[0]}</h2></div> ${renderDayTimeline(day2Events)} ${d2Parts[1]}`;
                    
                case 'day3': 
                    let d3Html = renderScheduleList(day3Events, 'Day 3 : 2/01(日)');
                    const d3Parts = d3Html.split('</h2></div>');
                    return `${d3Parts[0]}</h2></div> ${renderDayTimeline(day3Events)} ${d3Parts[1]}`;

                case 'day4': 
                    let d4Html = renderScheduleList(day4Events, 'Day 4 : 2/02(一)');
                    const d4Parts = d4Html.split('</h2></div>');
                    return `${d4Parts[0]}</h2></div> ${renderDayTimeline(day4Events)} ${d4Parts[1]}`;

                case 'day5': 
                    let d5Html = renderScheduleList(day5Events, 'Day 5 : 2/03(二)');
                    const d5Parts = d5Html.split('</h2></div>');
                    return `${d5Parts[0]}</h2></div> ${renderDayTimeline(day5Events)} ${d5Parts[1]}`;

                case 'day6': 
                    let d6Html = renderScheduleList(day6Events, 'Day 6 : 2/04(三)');
                    const d6Parts = d6Html.split('</h2></div>');
                    return `${d6Parts[0]}</h2></div> ${renderDayTimeline(day6Events)} ${d6Parts[1]}`;

                case 'day7': 
                    let d7Html = renderScheduleList(day7Events, 'Day 7 : 2/05(四)');
                    const d7Parts = d7Html.split('</h2></div>');
                    return `${d7Parts[0]}</h2></div> ${renderDayTimeline(day7Events)} ${d7Parts[1]}`;

                case 'day8': 
                    let d8Html = renderScheduleList(day8Events, 'Day 8 : 2/06(五)');
                    const d8Parts = d8Html.split('</h2></div>');
                    return `${d8Parts[0]}</h2></div> ${renderDayTimeline(day8Events)} ${d8Parts[1]}`;

                default: return '<div>Coming Soon</div>';
            }
        }

        // 新增：渲染橫向行程膠囊列
        function renderDayTimeline(events) {
            const colors = [
                'bg-orange-100 text-orange-600 border-orange-200', 
                'bg-blue-100 text-blue-600 border-blue-200', 
                'bg-green-100 text-green-600 border-green-200', 
                'bg-yellow-100 text-yellow-700 border-yellow-300', 
                'bg-pink-100 text-pink-600 border-pink-200', 
                'bg-purple-100 text-purple-600 border-purple-200'
            ];
            
            let html = `<div class="flex gap-2 overflow-x-auto pb-4 pt-1 mb-4 snap-x hide-scrollbar px-1 items-center">`;
            
            // 過濾掉備案 (Backup) 行程，只顯示主要路線
            let validEvents = events.filter(e => !e.isBackup); 
            
            validEvents.forEach((e, i) => {
                const colorClass = colors[i % colors.length];
                // 簡化標題：移除括號內的說明，讓膠囊文字更精簡
                const simpleTitle = e.title.split(' (')[0].replace('晚餐 - ', '').replace('Money Box 換錢', '換錢');
                
                html += `
                    <div class="flex items-center shrink-0 snap-start group">
                        <div class="${colorClass} border-2 border-dashed px-3 py-1.5 rounded-full text-xs font-bold font-hand shadow-sm whitespace-nowrap cursor-default hover:scale-105 transition-transform">
                            ${simpleTitle}
                        </div>
                        ${i < validEvents.length - 1 ? '<i class="fas fa-chevron-right text-slate-300 text-[10px] mx-1"></i>' : ''}
                    </div>
                `;
            });
            
            html += `</div>`;
            return html;
        }

        function convertCurrency(source) {
            const twd = document.getElementById('calc-twd'), krw = document.getElementById('calc-krw');
            if(source==='twd') krw.value=(parseFloat(twd.value)*currentExchangeRate).toFixed(0)||'';
            else twd.value=(parseFloat(krw.value)/currentExchangeRate).toFixed(0)||'';
        }
    </script>
</body>
</html>