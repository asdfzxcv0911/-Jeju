<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¿Ÿå·å³¶8å¤©7å¤œè¦ªå­éŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- å¼•å…¥ Noto Sans TC, Gaegu, JetBrains Mono -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Noto+Sans+TC:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/locale/zh-tw.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'hand': ['Gaegu', 'cursive'],
                        'sans': ['Noto Sans TC', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'monospace'],
                        'kaiti': ['KaiTi', 'BiauKai', 'DFKai-SB', 'serif'],
                    },
                    colors: {
                        'jeju-orange': '#FF8C42',
                        'jeju-yellow': '#FFD93D',
                        'jeju-green': '#6BCB77',
                        'jeju-blue': '#4D96FF',
                        'paper': '#FFFDF7',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-image: url('https://images.unsplash.com/photo-1548115184-bc6544d06a58?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            font-family: 'Noto Sans TC', sans-serif;
            overflow-y: scroll;
        }

        .journal-shadow {
            box-shadow: 
                0 1px 1px rgba(0,0,0,0.15), 
                0 10px 0 -5px #eee, 
                0 10px 1px -4px rgba(0,0,0,0.15), 
                0 20px 0 -10px #eee, 
                0 20px 1px -9px rgba(0,0,0,0.15);
        }

        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .sticker-tab {
            transition: transform 0.2s, background-color 0.2s;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 95% 100%, 5% 100%, 0 90%);
        }
        .sticker-tab:active { transform: translateY(0); }
        
        .sticker-tab.active {
            background-color: #FFD93D !important;
            color: #374151 !important;
            transform: translateY(-3px);
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
            border-bottom: none;
        }

        .washi-tape-title {
            position: relative;
            background-color: rgba(255, 225, 150, 0.6);
            padding: 0.2em 1em;
            transform: rotate(-1deg);
            display: inline-block;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .washi-tape-title::before, .washi-tape-title::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 100%;
            top: 0;
            background-color: rgba(255,255,255,0.4);
            mask-image: url("data:image/svg+xml,%3Csvg width='20' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L20 0 L18 5 L20 10 L18 15 L20 20 L18 25 L20 30 L18 35 L20 40 L0 40 Z' fill='black'/%3E%3C/svg%3E");
            -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='20' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L20 0 L18 5 L20 10 L18 15 L20 20 L18 25 L20 30 L18 35 L20 40 L0 40 Z' fill='black'/%3E%3C/svg%3E");
        }
        .washi-tape-title::before { left: -10px; transform: scaleX(-1); }
        .washi-tape-title::after { right: -10px; }

        .hand-font { font-family: 'Gaegu', cursive; }
        
        .live-title { animation: float-title 3s ease-in-out infinite; }
        @keyframes float-title {
            0%, 100% { transform: translateY(0) rotate(-1deg); }
            50% { transform: translateY(-3px) rotate(1deg); }
        }

        .details-expand {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .details-expand.show {
            max-height: 2000px;
            transition: max-height 0.5s ease-in;
        }

        .custom-checkbox {
            appearance: none;
            background-color: #fff;
            margin: 0;
            font: inherit;
            color: currentColor;
            width: 1.4em;
            height: 1.4em;
            border: 2px solid #555;
            border-radius: 0.3em;
            display: grid;
            place-content: center;
            cursor: pointer;
            transform: translateY(-0.075em);
        }
        .custom-checkbox::before {
            content: "";
            width: 0.8em;
            height: 0.8em;
            transform: scale(0);
            transition: 120ms transform ease-in-out;
            box-shadow: inset 1em 1em #FF8C42;
            transform-origin: center;
            clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
        }
        .custom-checkbox:checked::before { transform: scale(1); }
        .custom-checkbox:checked + span {
            text-decoration: line-through;
            color: #aaa;
            font-style: italic;
        }

        .polaroid-card {
            background: white;
            padding: 10px 10px 40px 10px;
            box-shadow: 2px 3px 8px rgba(0,0,0,0.15);
            transition: transform 0.3s;
            position: relative;
        }
        
        .polaroid-img { filter: sepia(10%) contrast(105%) saturate(110%); }

        .masking-tape {
            position: absolute;
            height: 30px;
            width: 80px;
            top: -10px;
            left: 50%;
            transform: translateX(-50%) rotate(-2deg);
            background-color: rgba(255, 255, 255, 0.4);
            border-left: 2px dashed rgba(0,0,0,0.05);
            border-right: 2px dashed rgba(0,0,0,0.05);
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            opacity: 0.8;
            z-index: 25;
        }
        .masking-tape.tape-yellow { background-color: rgba(255, 217, 61, 0.7); }
        .masking-tape.tape-blue { background-color: rgba(77, 150, 255, 0.7); }
        .masking-tape.tape-green { background-color: rgba(107, 203, 119, 0.7); }
        .masking-tape.tape-pink { background-color: rgba(255, 154, 158, 0.7); }

        .modal-overlay {
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(4px);
        }
        .modal-content {
            animation: modalPop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes modalPop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .boat-table { width: 100%; border-collapse: collapse; margin-bottom: 10px; font-size: 0.85rem; }
        .boat-table th { background: #f1f5f9; padding: 8px; text-align: center; border: 1px solid #e2e8f0; font-weight: bold; color: #475569; }
        .boat-table td { padding: 8px; text-align: center; border: 1px solid #e2e8f0; color: #334155; }
        .boat-table tr:nth-child(even) { background: #f8fafc; }
        
        .doodle-sticker {
            position: absolute;
            font-size: 2rem;
            filter: drop-shadow(2px 2px 0px rgba(0,0,0,0.1));
            z-index: 30;
            pointer-events: none;
        }
        
        .bg-stripes-gray {
            background-image: repeating-linear-gradient(45deg, #eee, #eee 10px, #fff 10px, #fff 20px);
        }
        
        input::placeholder { color: #cbd5e1; font-family: 'Noto Sans TC'; font-weight: normal; }
    </style>
</head>
<body class="min-h-screen pb-10 overflow-x-hidden text-slate-800">

    <!-- Modal -->
    <div id="info-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 modal-overlay" onclick="closeModal()">
        <div class="bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl modal-content border-4 border-jeju-yellow relative max-h-[85vh] overflow-y-auto hide-scrollbar" onclick="event.stopPropagation()">
            <button onclick="closeModal()" class="absolute top-2 right-2 text-slate-400 hover:text-slate-600 w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center z-10">
                <i class="fas fa-times"></i>
            </button>
            <div id="modal-content-area" class="text-center"></div>
        </div>
    </div>

    <!-- é ‚éƒ¨æ¨™é¡Œèˆ‡å€’æ•¸ -->
    <div class="max-w-md mx-auto pt-6 pb-2 text-center px-4 relative z-10">
        <div class="inline-block bg-white/90 backdrop-blur px-6 py-3 rounded-2xl shadow-lg border-4 border-jeju-orange live-title w-full">
            <h1 class="text-2xl font-black text-slate-800 tracking-wider font-kaiti">
                <span class="text-jeju-orange">æ¿Ÿå·å³¶</span> 8å¤©7å¤œè¦ªå­éŠ <i class="fas fa-plane-departure text-jeju-blue"></i>
            </h1>
            <div class="mt-2 flex flex-col items-center justify-center gap-2 text-slate-600 font-medium">
                <span class="bg-jeju-yellow px-3 py-1 rounded-full text-slate-800 border-2 border-slate-800 border-dashed font-hand text-lg font-bold">
                    <i class="fas fa-calendar-alt mr-1"></i> 2026.01.30 - 02.06
                </span>
                <span id="countdown" class="bg-jeju-blue text-white px-4 py-1 rounded-full font-hand text-lg tracking-widest shadow-sm">
                    D-Day è¨ˆç®—ä¸­...
                </span>
            </div>
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="max-w-md mx-auto px-2">
        <div class="flex flex-col gap-1 px-1 pb-1" id="tab-menu" style="margin-bottom: -10px; padding-top: 5px;">
            <!-- é¸å–®ç”± JS ç”Ÿæˆ -->
        </div>

        <main class="bg-paper rounded-2xl p-4 min-h-[70vh] relative journal-shadow border-t-8 border-jeju-yellow mb-10">
            <div class="absolute top-3 left-3 text-red-400 text-xl drop-shadow-md z-20"><i class="fas fa-thumbtack"></i></div>
            <div class="absolute top-3 right-3 text-jeju-blue text-xl drop-shadow-md z-20"><i class="fas fa-paperclip"></i></div>
            <div id="content-area" class="relative z-10"></div>
        </main>
    </div>

    <script>
        const tripStartDate = "2026-01-30";
        let currentExchangeRate = 0; 
        let weatherDataCache = null; 
        let expenseData = JSON.parse(localStorage.getItem('jeju_expenses')) || [];

        // å®šç¾© renderBookingInfo å‡½å¼
        function renderBookingInfo() {
            const checkInUrl = "https://sci.tigerairtw.com/zh-TW/login";
            return `
                <div class="mb-4 space-y-2">
                    <div class="bg-white p-2 rounded-lg border-2 border-dashed border-slate-200 flex justify-between items-center relative overflow-hidden">
                         <div class="absolute right-0 top-0 text-6xl opacity-5 rotate-12 select-none"><i class="fas fa-ticket-alt"></i></div>
                         <div class="z-10">
                            <div class="text-[10px] text-slate-400 font-bold mb-0.5"><i class="fas fa-user-tag mr-1"></i>LI,I-KUN</div>
                            <div class="text-xl font-black text-jeju-orange font-hand tracking-widest leading-none">Z4WW7F</div>
                         </div>
                         <a href="${checkInUrl}" target="_blank" class="z-10 bg-jeju-orange text-white text-xs px-3 py-2 rounded-lg font-bold shadow-sm hover:bg-orange-500 transition-transform active:scale-95 flex items-center">
                            <i class="fas fa-passport mr-1"></i> è‡ªåŠ©å ±åˆ°
                         </a>
                    </div>
                    <div class="bg-white p-2 rounded-lg border-2 border-dashed border-slate-200 flex justify-between items-center relative overflow-hidden">
                         <div class="absolute right-0 top-0 text-6xl opacity-5 rotate-12 select-none"><i class="fas fa-ticket-alt"></i></div>
                         <div class="z-10">
                            <div class="text-[10px] text-slate-400 font-bold mb-0.5"><i class="fas fa-user-tag mr-1"></i>HUNG,TSUNG-WEI</div>
                            <div class="text-xl font-black text-jeju-blue font-hand tracking-widest leading-none">M5NCRC</div>
                         </div>
                         <a href="${checkInUrl}" target="_blank" class="z-10 bg-jeju-blue text-white text-xs px-3 py-2 rounded-lg font-bold shadow-sm hover:bg-blue-600 transition-transform active:scale-95 flex items-center">
                            <i class="fas fa-passport mr-1"></i> è‡ªåŠ©å ±åˆ°
                         </a>
                    </div>
                </div>
            `;
        }

        // Backup plan event
        const snowBackupEvent = {
            type: 'spot', time: 'backup', duration: 60, travelTime: 0, travelMode: 'car',
            title: 'â„ï¸ [é›ªå¤©å‚™æ¡ˆ] æ¼¢æ‹¿å±± 1100é«˜åœ°',
            desc: 'è‹¥é‡ä¸‹é›ªï¼Œæ¨è–¦å‰å¾€è³é›ª (1100 Altitude Wetland)',
            icon: 'fa-snowflake',
            bg: 'bg-sky-50 border-2 border-blue-200 border-dashed',
            note: 'è‹¥æœ‰ç©é›ªï¼Œæ™¯è‰²çµ•ç¾ï¼›è‹¥ç„¡é›ªå¯èµ°ç”Ÿæ…‹æ­¥é“',
            navQuery: '1100ê³ ì§€ íœ´ê²Œì†Œ',
            isBackup: true
        };

        // Day Data (All Days)
        const day1Events = [
            { type: 'start', time: '13:30', duration: 90, travelTime: 60, travelMode: 'walk', title: 'å—è‹‘è²´è³“å®¤ VIP Lounge', desc: 'åƒé£½å–è¶³ï¼Œæº–å‚™å‡ºç™¼ï¼(KHH)', icon: 'fa-utensils', bg: 'bg-blue-100', btnText: 'æ€éº¼å»?', btnAction: 'showLoungeGuide', navQuery: '', externalLink: 'https://orange.udn.com/orange/story/121417/9179081' },
            { type: 'flight', time: '16:00', duration: 145, travelTime: 0, travelMode: 'plane', title: 'å¿«æ¨‚èµ·èˆª (IT670)', desc: '16:00 KHH âœˆï¸ 19:25 CJU (å«æ™‚å·®)', icon: 'fa-plane-departure', bg: 'bg-orange-100', isFlight: true, navQuery: '' },
            { type: 'arrive', time: '19:25', duration: 60, travelTime: 15, travelMode: 'walk', title: 'æŠµé”æ¿Ÿå· & å…¥å¢ƒ', desc: 'å¡«å¯«å…¥å¢ƒå¡ã€æé ˜è¡Œæ', icon: 'fa-passport', bg: 'bg-green-100', note: 'é è¨ˆ 20:25 å®Œæˆ', navQuery: '' },
            { type: 'car', time: 'auto', duration: 30, travelTime: 15, travelMode: 'car', title: 'The Safe Rent A Car', desc: 'æ­æ¥é§è»Šå‰å¾€å–è»Š', icon: 'fa-car', bg: 'bg-yellow-100', btnText: 'å–è»ŠæŒ‡å¼•', btnAction: 'showCarGuide', navQuery: 'ë”ì„¸ì´í”„ë Œí„°ì¹´' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'æ¿Ÿå· Glad Maison é£¯åº—', desc: 'Check-in ä¼‘æ¯', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day2Events = [
            { type: 'start', time: '08:00', duration: 0, travelTime: 50, travelMode: 'car', title: 'é£¯åº—å‡ºç™¼', desc: 'æ—©èµ·å‡ºç™¼å»åƒè²æœï¼', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„ ì œì£¼' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 15, travelMode: 'car', title: 'å€«æ•¦è²æœåšç‰©é¤¨', desc: 'London Bagel Museum Jeju (éœ€æ’éšŠ)', icon: 'fa-bread-slice', bg: 'bg-orange-100', note: 'ç‡Ÿæ¥­æ™‚é–“: 08:00 - 18:00', customButtons: [{ text: 'Catch Table é ç´„', link: 'https://www.catchtable.net/zh-TW/shop/london_bagel_museum_jeju', icon: 'fa-calendar-check', color: 'red' }], navQuery: 'í•´ë…€ê¹€ë°¥ æœ¬åº—' },
            { type: 'food', time: 'auto', duration: 30, travelTime: 5, travelMode: 'walk', title: 'æµ·å¥³é£¯æ² (å¯å¤–å¸¶)', desc: 'Haenyeo Gimbap', icon: 'fa-utensils', bg: 'bg-blue-100', note: 'ç‡Ÿæ¥­æ™‚é–“: 09:00 - 14:45', navQuery: 'ì˜¤ë“œë‘ë² ì´ì»¤ë¦¬' },
            { type: 'spot', time: 'auto', duration: 60, travelTime: 30, travelMode: 'car', title: 'Audrant Bakery & å’¸å¾·æµ·ç˜', desc: 'å¿…åƒå¤§è’œéºµåŒ… & çµ•ç¾æœå‡æµ·', icon: 'fa-umbrella-beach', bg: 'bg-sky-100', note: 'ç‡Ÿæ¥­æ™‚é–“: 07:00 - 22:00', customButtons: [{ text: 'ä»‹ç´¹', link: 'https://dpm2bb.com/2025-62/', icon: 'fa-globe', color: 'orange' }], navQuery: 'ì—ì½”ëœë“œ à¹€à¸—à¸¡à¸²à¸à¸²à¸£à¹Œà¸„' },
            { type: 'spot', time: 'auto', duration: 120, travelTime: 25, travelMode: 'car', title: 'ECOLAND æ£®æ—å°ç«è»Š', desc: 'æ­ç«è»ŠéŠæ£®æ—ï¼Œè¼•é¬†æ„œæ„', icon: 'fa-train', bg: 'bg-green-100', note: 'å†¬å­£ç‡Ÿæ¥­: 08:30 - 16:30 (æœ€å¾Œå…¥å ´)', btnText: 'ç¥¨åƒ¹è³‡è¨Š', btnAction: 'showEcoLandPrice', navQuery: 'ì œì£¼ë ˆì¼ë°”ì´í¬' },
            { type: 'activity', time: 'auto', duration: 90, travelTime: 25, travelMode: 'car', title: 'æ¿Ÿå·éµé“è‡ªè¡Œè»Š', desc: 'Jeju Rail Bike (è‡ªå‹•è¡Œé§›)', icon: 'fa-bicycle', bg: 'bg-pink-100', note: 'ç‡Ÿæ¥­æ™‚é–“: 09:00 - 17:30 (æ¯æ•´é»å‡ºç™¼)', btnText: 'ç¥¨åƒ¹è³‡è¨Š', btnAction: 'showRailBikePrice', navQuery: 'ì‚¼ë‹¬ë¦¬' },
            snowBackupEvent,
            { type: 'spot', time: 'auto', duration: 45, travelTime: 20, travelMode: 'car', title: 'ä¸‰é”é‡Œå°æ‘ & Doldam Carrot', desc: 'éŸ“åŠ‡ã€Šæ­¡è¿å›åˆ°ä¸‰é”é‡Œã€‹æ‹æ”åœ°', icon: 'fa-camera', bg: 'bg-yellow-50', navQuery: 'ë¶€ì´Œì‹ë‹¹' },
            { type: 'dinner', time: 'auto', duration: 60, travelTime: 10, travelMode: 'car', title: 'æ™šé¤ - å¯Œæ‘é£Ÿå ‚', desc: 'CPå€¼æ¥µé«˜ï¼æ¿Ÿå·åœ¨åœ°é¢¨å‘³å®šé£Ÿ', icon: 'fa-fish', bg: 'bg-orange-100', note: 'ç‡Ÿæ¥­æ™‚é–“: 10:30 - 21:00', btnText: 'è©³ç´°èœå–®', btnAction: 'showBuchonMenu', navQuery: 'ì½”ì—…ì‹œí‹°í˜¸í…” ì„±ì‚°' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'æ¿Ÿå·åŸå±±è²æ–¯ç‰¹é£¯åº—', desc: 'Coop City Hotel Seongsan', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day3Events = [
            { type: 'food', time: '08:00', duration: 60, travelTime: 0, travelMode: null, title: 'é£¯åº—æ—©é¤', desc: 'äº«ç”¨ç¾å‘³æ—©é¤ï¼Œè£œè¶³é«”åŠ›ï¼', icon: 'fa-mug-hot', bg: 'bg-orange-50', navQuery: '' },
            { type: 'start', time: '09:00', duration: 0, travelTime: 15, travelMode: 'car', title: 'é£¯åº—å‡ºç™¼', desc: 'ç¡é£½å‡ºç™¼å‰å¾€æ¸¯å£', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ì„±ì‚°í¬í•­ì¢…í•©ì—¬ê°í„°ë¯¸ë„' },
            { type: 'ship', time: 'auto', duration: 30, travelTime: 0, travelMode: null, title: 'åŸå±±æ¸¯ (æ­èˆ¹)', desc: 'Seongsan Port (å‰å¾€ç‰›å³¶)', icon: 'fa-ship', bg: 'bg-blue-100', note: 'éœ€å¡«å¯«ä¹˜èˆ¹ç”³å ±å–®(2ä»½) + è­·ç…§', btnText: 'èˆ¹ç­èˆ‡ç¥¨åƒ¹', btnAction: 'showFerryInfo', navQuery: '' },
            { type: 'spot', time: 'auto', duration: 180, travelTime: 30, travelMode: 'ship', title: 'ç‰›å³¶ (Udo) ç’°å³¶', desc: 'å¿…åƒèŠ±ç”Ÿå†°æ·‡æ·‹ã€ç‚¸é†¬éºµ', icon: 'fa-island-tropical', bg: 'bg-green-100', note: 'æ¨è–¦ç§Ÿé›»å‹•è»Šæˆ–æ­ç’°å³¶å·´å£«', customButtons: [{ text: 'è¡Œç¨‹è¦åŠƒ', link: 'javascript:showUdoPlan()', icon: 'fa-map', color: 'orange' }], navQuery: '' },
            { type: 'arrive', time: 'auto', duration: 0, travelTime: 10, travelMode: 'car', title: 'è¿”å›åŸå±±æ¸¯', desc: 'æ­èˆ¹è¿”å›æœ¬å³¶', icon: 'fa-anchor', bg: 'bg-gray-100', navQuery: 'ì•„ì¿ ì•„í”Œë¼ë„· ì œì£¼' },
            { type: 'spot', time: 'auto', duration: 180, travelTime: 15, travelMode: 'car', title: 'Aqua Planet Jeju', desc: 'äºæ´²æœ€å¤§æ°´æ—é¤¨ä¹‹ä¸€', icon: 'fa-fish', bg: 'bg-blue-200', note: 'ç‡Ÿæ¥­: 09:30-19:00 / é–€ç¥¨å·²åœ¨ Agoda è³¼è²·', btnText: 'ç©æ¨‚æŒ‡å— & é–€ç¥¨è³‡è¨Š', btnAction: 'showAquaPlanetInfo', navQuery: 'ê¸ˆë— ì„±ì‚°í‘ë¼ì§€' },
            snowBackupEvent,
            { type: 'dinner', time: 'auto', duration: 90, travelTime: 10, travelMode: 'car', title: 'é»‘æ¯›è±¬æ™šé¤ - ê¸ˆë— ì„±ì‚°', desc: 'åœ¨åœ°äººç‹‚æ¨ï¼é«˜å“è³ªé»‘è±¬è‚‰ç‡’è‚‰', icon: 'fa-fire', bg: 'bg-orange-100', note: 'ç‡Ÿæ¥­æ™‚é–“: 11:00 - 23:00', btnText: 'é»‘è±¬è‚‰é¥—å®´ & èœå–®æŒ‡å—', btnAction: 'showGeumdotMenu', navQuery: 'ì½”ì—…ì‹œí‹°í˜¸í…” ì„±ì‚°' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'æ¿Ÿå·åŸå±±è²æ–¯ç‰¹é£¯åº—', desc: 'ä¼‘æ¯', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day4Events = [
            { type: 'food', time: '08:30', duration: 60, travelTime: 0, travelMode: null, title: 'é£¯åº—æ—©é¤', desc: 'äº«ç”¨ç¾å‘³æ—©é¤ï¼Œé–‹å•Ÿç¾å¥½çš„ä¸€å¤©', icon: 'fa-mug-hot', bg: 'bg-orange-50', navQuery: '' },
            { type: 'start', time: '09:30', duration: 0, travelTime: 50, travelMode: 'car', title: 'é£¯åº—å‡ºç™¼', desc: 'é€€æˆ¿å‰å¾€è¥¿æ­¸æµ¦', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ì •ë°©í­í¬' },
            { type: 'spot', time: 'auto', duration: 60, travelTime: 10, travelMode: 'car', title: 'æ­£æˆ¿ç€‘å¸ƒ', desc: 'Jeongbang Waterfall (äºæ´²å”¯ä¸€ç›´æ¥å…¥æµ·)', icon: 'fa-water', bg: 'bg-blue-100', note: 'é–€ç¥¨: æˆäºº 2,000 / å…’ç«¥ 1,000', externalLink: 'https://tinachiang0824.pixnet.net/blog/posts/9577976988', navQuery: 'ì„œê·€í¬ë§¤ì¼ì˜¬ë ˆì‹œì¥' },
            { type: 'food', time: 'auto', duration: 120, travelTime: 20, travelMode: 'car', title: 'æ¯æ—¥å¶ä¾†å¸‚å ´', desc: 'Seogwipo Olle Market (åˆé¤)', icon: 'fa-utensils', bg: 'bg-orange-100', note: 'å¿…åƒï¼šæ©˜å­éº»ç³¬ã€é»‘è±¬è‚‰å¯æ¨‚é¤…', externalLink: 'https://journey.tw/seogwipo-olle-market/', customButtons: [{ text: 'å¼·åŠ›æ¨è–¦', link: 'javascript:showOlleMarketRecs()', icon: 'fa-thumbs-up', color: 'red' }], navQuery: 'ê·¤ê½ƒë‹¤ë½' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 40, travelMode: 'car', title: 'æ©˜èŠ±é–£æ¨“ (ê·¤ê½ƒë‹¤ë½)', desc: 'è¥¿æ­¸æµ¦è¶…äººæ°£æ©˜å­åœ’å’–å•¡å»³', icon: 'fa-coffee', bg: 'bg-orange-50', btnText: 'ç‡Ÿæ¥­èˆ‡æ¶ˆè²»', btnAction: 'showCafeInfo', externalLink: 'https://abby0318.pixnet.net/blog/posts/9577500892', navQuery: 'ì‹ í™”ì›”ë“œ ëœë”©ê´€' },
            snowBackupEvent,
            { type: 'hotel', time: 'auto', duration: 90, travelTime: 0, travelMode: null, title: 'ç¥è©±ä¸–ç•Œ-è—é¼', desc: 'Shinhwa World Landing Resort (Check-in)', icon: 'fa-hotel', bg: 'bg-purple-100', note: 'ç¨ä½œä¼‘æ¯ï¼Œé€›é€›ç¥è©±ä¸–ç•Œå•†åº—è¡—', navQuery: '' },
            { type: 'dinner', time: '18:00', duration: 120, travelTime: 0, travelMode: null, title: 'è—é¼è‡ªåŠ©æ™šé¤', desc: 'Landing Dining (æµ·é®®è‡ªåŠ©é¤)', icon: 'fa-wine-glass-alt', bg: 'bg-yellow-200', note: 'âš ï¸ å·²é ç´„ 18:00 (æ™‚é–“ä¸å¯å‹•)', btnText: 'ç‡Ÿæ¥­èˆ‡æ¶ˆè²»', btnAction: 'showLandingDiningInfo', externalLink: 'https://www.youtube.com/watch?v=oKv2f09cXAo', navQuery: '' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'ç¥è©±ä¸–ç•Œ-è—é¼', desc: 'ä½å®¿', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day5Events = [
            { type: 'start', time: '10:00', duration: 0, travelTime: 10, travelMode: 'walk', title: 'é£¯åº—å‡ºç™¼', desc: 'ç¡é£½é£½ï¼Œæº–å‚™å»æ¨‚åœ’ç©ï¼', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ì œì£¼ì‹ í™”ì›”ë“œ ì‹ í™”í…Œà¸¡à¸²à¸à¸²à¸à¸²à¸£à¹Œç™¼' },
            { type: 'activity', time: 'auto', duration: 180, travelTime: 10, travelMode: 'car', title: 'ç¥è©±ä¸»é¡Œå…¬åœ’', desc: 'ç¥è©±ä¸–ç•Œä¸­æœ€å—è¦ªå­æ­¡è¿çš„æ¨‚åœ’', icon: 'fa-ticket-alt', bg: 'bg-purple-100', note: 'å…ç¥¨å…¥å ´ï¼Œè¨­æ–½éœ€ä»˜è²»æˆ–ä½¿ç”¨ Big 3 åˆ¸', btnText: 'ç‡Ÿæ¥­èˆ‡æ”»ç•¥', btnAction: 'showThemeParkInfo', navQuery: '1100ê³ ì§€ íœ´ê²Œì†Œ' },
            { type: 'spot', time: 'backup', duration: 60, travelTime: 0, travelMode: 'car', title: 'â„ï¸ [é›ªå¤©å‚™æ¡ˆ] æ¼¢æ‹¿å±± 1100é«˜åœ°', desc: 'è‹¥é‡ä¸‹é›ªï¼Œæ¨è–¦å‰å¾€è³é›ª (1100 Altitude Wetland)', icon: 'fa-snowflake', bg: 'bg-sky-50 border-2 border-blue-200 border-dashed', note: 'è‹¥æœ‰ç©é›ªï¼Œæ™¯è‰²çµ•ç¾ï¼›è‹¥ç„¡é›ªå¯èµ°ç”Ÿæ…‹æ­¥é“', navQuery: '1100ê³ ì§€ íœ´ê²Œì†Œ', isBackup: true },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'ç¥è©±ä¸–ç•Œ-è—é¼', desc: 'è¿”å›é£¯åº—ä¼‘æ¯ / æ™šé¤', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day6Events = [
            { type: 'start', time: '10:00', duration: 0, travelTime: 20, travelMode: 'car', title: 'é£¯åº—å‡ºç™¼', desc: 'é€€æˆ¿ï¼Œå‰å¾€å°æœ‹å‹çš„å¤©å ‚ï¼', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ë½€ë¡œë¡œì•¤íƒ€ìš” í…Œà¸¡à¸²à¸à¸²à¸à¸²à¸£à¹Œç™¼ ì œì£¼' },
            { type: 'activity', time: 'auto', duration: 240, travelTime: 50, travelMode: 'car', title: 'Pororo & Tayo æ¨‚åœ’', desc: 'å®¤å…§å¤–ç¶œåˆå¤§å‹è¦ªå­æ¨‚åœ’', icon: 'fa-child', bg: 'bg-blue-100', note: 'é ç•™ 4 å°æ™‚ç›¡æƒ…æ”¾é›»', btnText: 'ç‡Ÿæ¥­èˆ‡ç¥¨åƒ¹', btnAction: 'showPororoInfo', navQuery: 'ë„ë‘ë™ ë¬´ì§€ê°œí•´ì•ˆë„ë¡œ' },
            snowBackupEvent,
            { type: 'spot', time: 'auto', duration: 45, travelTime: 15, travelMode: 'car', title: 'å½©è™¹æµ·å²¸å…¬è·¯', desc: 'Dodu-dong Rainbow Coastal Road', icon: 'fa-rainbow', bg: 'bg-pink-50', note: 'æ•´æ’å½©è™¹çŸ³å¢©ï¼ŒèƒŒæ™¯æ˜¯å¤§æµ·ï¼Œæ‹ç…§è¶…ç¾', navQuery: 'í˜¸é«”ë ˆì˜¤' },
            { type: 'hotel', time: 'auto', duration: 60, travelTime: 15, travelMode: 'car', title: 'åˆ©å¥§é£¯åº— (Hotel Leo)', desc: 'Check-in (æ–°æ¿Ÿå·)', icon: 'fa-hotel', bg: 'bg-purple-100', note: 'æ”¾è¡Œæï¼Œç¨ä½œä¼‘æ¯', navQuery: 'ìˆ™ì„±ë„ ë…¸í˜•ì ' },
            { type: 'dinner', time: '18:30', duration: 90, travelTime: 10, travelMode: 'walk', title: 'æ™šé¤ - ç†Ÿæˆåˆ°ç‡’è‚‰', desc: 'Suksungdo (ç†Ÿæˆé»‘è±¬è‚‰)', icon: 'fire-alt', bg: 'bg-red-100', note: 'âš ï¸ å·²è¨‚ä½ 18:30 (é ä»˜è¨‚é‡‘ 30,000å…ƒ)', btnText: 'è¨‚ä½èˆ‡èœå–®', btnAction: 'showSuksungdoInfo', navQuery: 'í˜¸í…”ë ˆì˜¤' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'åˆ©å¥§é£¯åº—', desc: 'ä¼‘æ¯', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day7Events = [
            { type: 'start', time: '09:30', duration: 0, travelTime: 20, travelMode: 'car', title: 'é£¯åº—å‡ºç™¼', desc: 'ç¡é£½å‡ºç™¼', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ì œì£¼ë™ë¬¸ì‹œì¥' },
            { type: 'spot', time: 'auto', duration: 60, travelTime: 10, travelMode: 'walk', title: 'æ¿Ÿå·æ±é–€å¸‚å ´', desc: 'Jeju Dongmun Market', icon: 'fa-store', bg: 'bg-orange-100', note: 'æ—©ä¸Šè²·ä¼´æ‰‹ç¦®/æ°´æœæ¯”è¼ƒå°‘äºº', navQuery: 'ì œì£¼ì¤‘ì•™ì§€í•˜ìƒê°€' },
            { type: 'shopping', time: 'auto', duration: 90, travelTime: 15, travelMode: 'car', title: 'ä¸­å¤®åœ°ä¸‹è¡— / ä¸­å¤®è¡—å¸‚å ´', desc: 'Jungang Underground Shopping Center', icon: 'fa-shopping-bag', bg: 'bg-blue-100', note: 'å¥½é€›å¥½è²·çš„è³¼ç‰©å¤©å ‚', customButtons: [{ text: 'å¼·åŠ›æ¨è–¦', link: 'javascript:showJungangRecs()', icon: 'fa-thumbs-up', color: 'red' }], navQuery: 'ìë§¤êµ­ìˆ˜' },
            { type: 'food', time: 'auto', duration: 60, travelTime: 20, travelMode: 'car', title: 'åˆé¤ - å§Šå¦¹éºµæ¢', desc: 'Jamae Guksu (å¿…åƒè±¬è‚‰æ¹¯éºµ)', icon: 'fa-utensils', bg: 'bg-red-100', note: 'æ’éšŠååº—ï¼Œæ¹¯é ­æ¿ƒéƒ', navQuery: 'ë¸Œë¦­ìº í¼ìŠ¤' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 20, travelMode: 'car', title: 'Brick Campus (å‚™æ¡ˆ)', desc: 'æ¨‚é«˜ç©æœ¨æ ¡åœ’ (é›¨å¤©/å®¤å…§å‚™æ¡ˆ)', icon: 'fa-cube', bg: 'bg-purple-100', note: 'æ¨‚é«˜è¿·å¿…å»ï¼Œå……æ»¿å‰µæ„', navQuery: 'ë¡¯ë°ë§ˆíŠ¸ ì œì£¼ì ' },
            snowBackupEvent,
            { type: 'shopping', time: 'auto', duration: 120, travelTime: 10, travelMode: 'walk', title: 'è“®æ´å•†åœˆ / æ¨‚å¤©è¶…å¸‚', desc: 'Yeondong / Lotte Mart', icon: 'fa-shopping-cart', bg: 'bg-green-100', note: 'æœ€å¾Œæ¡è²·æ©Ÿæœƒï¼', navQuery: 'êµì´Œì¹˜í‚¨ ì—°ë™ì ' },
            { type: 'dinner', time: 'auto', duration: 90, travelTime: 10, travelMode: 'walk', title: 'æ™šé¤ - æ©‹æ‘ç‚¸é›', desc: 'Kyochon Chicken (è“®æ´åº—)', icon: 'fa-drumstick-bite', bg: 'bg-yellow-200', note: 'å¿…é»ï¼šèœ‚èœœç‚¸é› (Honey Series)', navQuery: 'í˜¸í…”ë ˆì˜¤' },
            { type: 'hotel', time: 'auto', duration: 0, travelTime: 0, travelMode: null, title: 'åˆ©å¥§é£¯åº—', desc: 'æ‰“åŒ…è¡Œæï¼Œæº–å‚™å›ç¨‹', icon: 'fa-bed', bg: 'bg-purple-100', navQuery: '' }
        ];
        const day8Events = [
            { type: 'start', time: '09:30', duration: 0, travelTime: 20, travelMode: 'car', title: 'é£¯åº—å‡ºç™¼', desc: 'é€€æˆ¿ï¼ŒæŠŠæ¡æœ€å¾Œæ™‚å…‰ï¼', icon: 'fa-sun', bg: 'bg-yellow-100', navQuery: 'ì´í˜¸í…Œìš°ë§ë“±ëŒ€' },
            { type: 'spot', time: 'auto', duration: 30, travelTime: 25, travelMode: 'car', title: 'æ¢¨æ¹–å°é¦¬ç‡ˆå¡”', desc: 'Iho Tewoo Horse Lighthouses', icon: 'fa-camera', bg: 'bg-red-50', note: 'ç´…ç™½å°é¦¬ç‡ˆå¡”ï¼Œæ‹ç…§æ‰“å¡è–åœ°', navQuery: 'ì• ì›”ì¹´í˜ê±°ë¦¬' },
            { type: 'food', time: 'auto', duration: 90, travelTime: 25, travelMode: 'car', title: 'æ„›æœˆé‚‘å’–å•¡è¡— / åˆé¤', desc: 'Aewol Cafe Street', icon: 'fa-coffee', bg: 'bg-orange-100', note: 'æ¨è–¦ï¼šRandy\'s Donuts æˆ–æµ·æ™¯å’–å•¡å»³', navQuery: 'ì•„ë¥´ë–¼ë®¤ì§€ì—„ ç™¼' },
            { type: 'spot', time: 'auto', duration: 90, travelTime: 40, travelMode: 'car', title: 'Arte Museum', desc: 'å…‰å½±è—è¡“é¤¨ (æ²‰æµ¸å¼é«”é©—)', icon: 'fa-palette', bg: 'bg-purple-100', note: 'é›¨å¤©å‚™æ¡ˆé¦–é¸ï¼Œè¦–è¦ºé¥—å®´', navQuery: 'ë”ì„¸ã„ãƒ•ë Œí„°ì¹´' },
            { type: 'car', time: '16:30', duration: 30, travelTime: 15, travelMode: 'walk', title: 'é‚„è»Š - The Safe Rent A Car', desc: 'Return Rental Car', icon: 'fa-car', bg: 'bg-green-100', note: 'æª¢æŸ¥è»Šæ³ï¼Œæ­ä¹˜æ¥é§è»Šå‰å¾€æ©Ÿå ´', navQuery: 'ì œì£¼êµ­ì œê³µí•­' },
            { type: 'flight', time: '18:15', duration: 120, travelTime: 0, travelMode: null, title: 'èµ·é£›å›ç¨‹ (IT671)', desc: '20:15 CJU âœˆï¸ 21:50 KHH', icon: 'fa-home', bg: 'bg-blue-600 text-white', navQuery: '' }
        ];

        const tabs = [
            { id: 'flight', icon: 'fa-paper-plane', label: 'èˆªç­', color: 'bg-blue-100' },
            { id: 'rate', icon: 'fa-won-sign', label: 'åŒ¯ç‡', color: 'bg-yellow-100' },
            { id: 'weather', icon: 'fa-sun', label: 'æ°£è±¡', color: 'bg-sky-100' },
            { id: 'intro', icon: 'fa-book-open', label: 'æ•™å­¸', color: 'bg-orange-100' },
            { id: 'prep', icon: 'fa-check-circle', label: 'æº–å‚™', color: 'bg-green-100' },
            { id: 'booking', icon: 'fa-file-alt', label: 'æ†‘è­‰', color: 'bg-purple-100' }, 
            { id: 'day1', label: 'Day1', date: '1/30', week: '(äº”)', color: 'bg-red-50' },
            { id: 'day2', label: 'Day2', date: '1/31', week: '(å…­)', color: 'bg-red-50' },
            { id: 'day3', label: 'Day3', date: '2/01', week: '(æ—¥)', color: 'bg-red-50' },
            { id: 'day4', label: 'Day4', date: '2/02', week: '(ä¸€)', color: 'bg-red-50' },
            { id: 'day5', label: 'Day5', date: '2/03', week: '(äºŒ)', color: 'bg-red-50' },
            { id: 'day6', label: 'Day6', date: '2/04', week: '(ä¸‰)', color: 'bg-red-50' },
            { id: 'day7', label: 'Day7', date: '2/05', week: '(ç™¼)', color: 'bg-red-50' },
            { id: 'day8', label: 'Day8', date: '2/06', week: '(äº”)', color: 'bg-red-50' },
        ];

        document.addEventListener('DOMContentLoaded', () => {
            renderMenu();
            updateCountdown();
            loadContent('day1'); 
            fetchRate();
            fetchWeather();
        });

        function renderMenu() {
            const menu = document.getElementById('tab-menu');
            const mainTabs = tabs.slice(0, 6);
            const dayTabs = tabs.slice(6, 14);

            const renderMainBtn = (tab) => `
                <button onclick="loadContent('${tab.id}')" 
                        id="btn-${tab.id}"
                        class="sticker-tab flex flex-col items-center justify-center p-1 rounded-t-xl text-slate-600 ${tab.color} border-t border-x border-black/5 h-11 w-full transition-all">
                    <i class="fas ${tab.icon} text-xs mb-0.5"></i>
                    <span class="font-bold text-[10px] font-hand whitespace-nowrap leading-none">${tab.label}</span>
                </button>
            `;

            const renderDayBtn = (tab) => `
                <button onclick="loadContent('${tab.id}')" 
                        id="btn-${tab.id}"
                        class="sticker-tab flex flex-col items-center justify-center p-0.5 rounded-b-lg text-slate-600 ${tab.color} border-b border-x border-black/5 h-12 w-full transition-all">
                    <span class="text-[9px] leading-none mb-0.5 whitespace-nowrap font-sans text-slate-500 font-bold scale-90">${tab.date}</span>
                    <span class="text-[8px] leading-none mb-0.5 whitespace-nowrap font-sans text-slate-400 font-bold scale-90">${tab.week}</span>
                    <span class="font-bold text-[10px] font-hand whitespace-nowrap leading-none text-jeju-orange">${tab.label}</span>
                </button>
            `;

            menu.innerHTML = `
                <div class="grid grid-cols-6 gap-1 w-full px-1">${mainTabs.map(renderMainBtn).join('')}</div>
                <div class="grid grid-cols-8 gap-0.5 w-full px-1 mt-1">${dayTabs.map(renderDayBtn).join('')}</div>
            `;
        }

        function updateCountdown() {
            const start = new Date(tripStartDate).getTime();
            const now = new Date().getTime();
            const distance = start - now;
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const cdEl = document.getElementById('countdown');
            if (distance < 0) { cdEl.innerHTML = "æ—…ç¨‹ä¸­"; } else { cdEl.innerHTML = `${days + 1} Days Left`; }
        }

        function loadContent(tabId) {
            document.querySelectorAll('.sticker-tab').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('opacity-90');
            });
            const activeBtn = document.getElementById(`btn-${tabId}`);
            if(activeBtn) {
                activeBtn.classList.add('active'); 
                activeBtn.classList.remove('opacity-90');
            }
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = getContent(tabId);
            if(tabId === 'rate') {
                fetchRate();
                renderExpenses();
            }
            if(tabId === 'weather') fetchWeather();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function renderScheduleList(events, titleText) {
            let html = `<div class="mb-6 text-center"><h2 class="washi-tape-title text-xl font-bold text-slate-700 font-hand tracking-wide">${titleText}</h2></div>`;
            html += '<div class="relative pl-2 space-y-2"><div class="absolute left-4 top-2 bottom-4 w-0.5 bg-slate-300 border-l-2 border-dashed border-slate-300 z-0"></div>';

            let currentTime = null;

            events.forEach((event, index) => {
                let displayTime = '';
                
                // å¦‚æœæ˜¯å‚™æ¡ˆï¼Œç›´æ¥é¡¯ç¤ºå½ˆæ€§ï¼Œä¸è¨ˆç®—æ™‚é–“
                if (event.time === 'backup') {
                    displayTime = 'å½ˆæ€§';
                } else {
                    // å¦‚æœæ˜¯ä¸»è¡Œç¨‹ï¼Œå‰‡è¨ˆç®—æˆ–æ›´æ–°æ™‚é–“
                    if (event.time !== 'auto') {
                        // å›ºå®šæ™‚é–“
                        currentTime = moment(event.time, "HH:mm");
                    } else {
                        // è‡ªå‹•æ™‚é–“ï¼šéœ€æ‰¾åˆ°ã€Œä¸Šä¸€å€‹éå‚™æ¡ˆã€çš„è¡Œç¨‹ä¾†é€²è¡ŒåŠ ç¸½
                        let offsetMinutes = 0;
                        let foundPrev = false;
                        for (let i = index - 1; i >= 0; i--) {
                            if (events[i].time !== 'backup') {
                                // æ‰¾åˆ°æœ€è¿‘ä¸€å€‹æ­£å¸¸è¡Œç¨‹ï¼Œå–å…¶æŒçºŒæ™‚é–“èˆ‡äº¤é€šæ™‚é–“
                                offsetMinutes = (events[i].duration || 0) + (events[i].travelTime || 0);
                                foundPrev = true;
                                break;
                            }
                        }
                        
                        if (foundPrev && currentTime) {
                            currentTime = currentTime.clone().add(offsetMinutes, 'minutes');
                        } else if (!currentTime) {
                            // é é˜²è¬ä¸€ç¬¬ä¸€å€‹è¡Œç¨‹å°±æ˜¯ auto
                            currentTime = moment("08:00", "HH:mm");
                        }
                    }
                    displayTime = currentTime.format('HH:mm');
                }

                const hasBtn = event.btnText && event.btnAction;
                const hasExtLink = event.externalLink;
                const customButtons = event.customButtons || [];
                const durationHtml = (event.duration > 0 && event.time !== 'backup') ? `<span class="text-[10px] text-slate-400 font-hand ml-2 bg-slate-50 px-1 rounded"><i class="fas fa-hourglass-half mr-1"></i>${event.duration}m</span>` : '';
                
                const cardBg = event.isBackup ? 'bg-sky-50 border-2 border-blue-200 border-dashed' : 'bg-white border border-slate-100 shadow-sm';
                const timeBg = event.isBackup ? 'bg-blue-200 text-white' : `${event.bg}`;

                html += `
                    <div class="relative pl-8 mb-0 z-10">
                        <div class="absolute left-0 -translate-x-1/4 ${event.bg} border-4 border-paper w-8 h-8 rounded-full flex items-center justify-center z-10 shadow-sm text-slate-600"><i class="fas ${event.icon} text-xs"></i></div>
                        <div class="${cardBg} p-4 rounded-xl hover:shadow-md transition-shadow relative group">
                            <div class="flex justify-between items-center mb-1">
                                <div class="flex items-center">
                                    <div class="inline-block ${timeBg} text-slate-800 text-xs px-2 py-1 rounded font-bold font-hand tracking-wider shadow-sm">${displayTime}</div>
                                    ${durationHtml}
                                </div>
                            </div>
                            <h4 class="font-bold text-lg text-slate-800 leading-tight">${event.title}</h4>
                            <p class="text-slate-500 text-sm mt-1 font-hand">${event.desc}</p>
                            <div class="mt-3 flex flex-wrap gap-2">
                                ${hasBtn ? `<button onclick="${event.btnAction}()" class="text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-slate-300 border-dashed"><i class="fas ${event.icon === 'fa-fire' || event.icon === 'fa-fish' || event.icon === 'fa-list' || event.icon === 'fa-wine-glass-alt' ? 'fa-list' : 'fa-lightbulb'} text-jeju-orange"></i> ${event.btnText}</button>` : ''}
                                ${hasExtLink ? `<a href="${event.externalLink}" target="_blank" class="text-xs bg-orange-50 hover:bg-orange-100 text-orange-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-orange-200 border-dashed"><i class="fas fa-globe"></i> ä»‹ç´¹</a>` : ''}
                                ${customButtons.map(btn => {
                                    if (btn.link.startsWith('javascript:')) {
                                        return `<button onclick="${btn.link.replace('javascript:', '')}" class="text-xs bg-${btn.color}-50 hover:bg-${btn.color}-100 text-${btn.color}-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-${btn.color}-200 border-dashed"><i class="fas ${btn.icon}"></i> ${btn.text}</button>`;
                                    } else {
                                        return `<a href="${btn.link}" target="_blank" class="text-xs bg-${btn.color}-50 hover:bg-${btn.color}-100 text-${btn.color}-600 px-3 py-1.5 rounded-full transition-colors font-bold flex items-center gap-1 border border-${btn.color}-200 border-dashed"><i class="fas ${btn.icon}"></i> ${btn.text}</a>`;
                                    }
                                }).join('')}
                            </div>
                            ${event.note ? `<div class="mt-2 text-[10px] text-slate-400 bg-slate-50 p-1 rounded inline-block"><i class="fas fa-info-circle mr-1"></i>${event.note}</div>` : ''}
                        </div>
                    </div>
                `;

                if (event.travelTime > 0 && event.travelMode && !event.isBackup) {
                    let travelEmoji = 'ğŸš¶'; 
                    if (event.travelMode === 'car') travelEmoji = 'ğŸš—';
                    if (event.travelMode === 'plane') travelEmoji = 'âœˆï¸';
                    if (event.travelMode === 'ship') travelEmoji = 'â›´ï¸';
                    let navButtonHtml = '';
                    if (event.navQuery && event.navQuery.length > 0) {
                        const navUrl = `https://map.naver.com/p/search/${encodeURIComponent(event.navQuery)}`;
                        navButtonHtml = `<a href="${navUrl}" target="_blank" class="ml-2 bg-green-50 text-green-600 border border-green-200 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1 transition-all active:scale-95"><i class="fas fa-location-arrow"></i> å°èˆª</a>`;
                    }
                    html += `<div class="relative pl-8 py-3 z-0"><div class="flex items-center text-slate-500 text-xs ml-2"><div class="w-7 h-7 rounded-full bg-white flex items-center justify-center mr-2 border border-slate-200 shadow-sm text-sm select-none">${travelEmoji}</div><span class="font-hand font-bold mr-1 text-slate-400">${event.travelTime} min</span>${navButtonHtml}</div></div>`;
                } else if (index < events.length - 1) {
                    html += `<div class="h-4"></div>`;
                }
            });
            html += '</div>';
            return html;
        }

        window.closeModal = function() { document.getElementById('info-modal').classList.add('hidden'); }
        
        window.showLoungeGuide = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="relative bg-white text-left">
                    <div class="text-center mb-4">
                        <h3 class="text-lg font-bold text-slate-800 flex items-center justify-center gap-2 font-hand tracking-wide">
                            <i class="fas fa-map-marker-alt text-jeju-orange"></i> å—è‹‘è²´è³“å®¤æŒ‡å¼•
                        </h3>
                    </div>

                    <div class="space-y-4 text-sm text-slate-600 leading-relaxed">
                        <div class="bg-orange-50 p-3 rounded-lg border border-orange-100">
                            <p class="font-bold text-slate-800 mb-1">ğŸ“ åœ°é»</p>
                            <p>é«˜é›„å°æ¸¯æ©Ÿå ´ åœ‹éš›èˆªå»ˆ 3F (å‡ºå¢ƒç®¡åˆ¶å€å…§)</p>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-2">ğŸš¶â€â™‚ï¸ å¦‚ä½•å‰å¾€</p>
                            <ul class="list-disc pl-5 space-y-1 font-hand text-lg">
                                <li>é€šéè­‰ç…§æŸ¥é©—æ«ƒæª¯é€²å…¥å…ç¨…åº—å€ã€‚</li>
                                <li>ç›´æ¥<span class="text-jeju-orange font-bold">ã€Œå‘å·¦è½‰ã€</span>(å¾€ 21-26 ç™»æ©Ÿé–€æ–¹å‘)ã€‚</li>
                                <li>æ²¿è‘—é•·å»Šç›´èµ°åˆ°åº•ã€‚</li>
                                <li>ä½æ–¼ <span class="font-bold text-slate-800">22 è™Ÿç™»æ©Ÿé–€</span> é™„è¿‘ã€‚</li>
                            </ul>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-1">ğŸ‘€ è¾¨è­˜ç‰¹å¾µ</p>
                            <p>å¤–è§€ç‚ºå¾©å¤ç´…ç£šç‰†èˆ‡åœ“å½¢æ‹±é–€è¨­è¨ˆï¼Œå‘ˆç¾ã€Œè˜‡å·åº­åœ’ã€é¢¨æ ¼ã€‚</p>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                         <button onclick="closeModal()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showCarGuide = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="relative bg-white text-left">
                    <div class="text-center mb-4">
                        <h3 class="text-lg font-bold text-slate-800 flex items-center justify-center gap-2 font-hand tracking-wide">
                            <i class="fas fa-car text-jeju-orange"></i> The Safe Rent A Car å–è»ŠæŒ‡å¼•
                        </h3>
                    </div>

                    <div class="space-y-4 text-sm text-gray-600 leading-relaxed">
                        <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                            <p class="font-bold text-slate-800 mb-1">ğŸ“ æ¥é§åœ°é»</p>
                            <p>æ¿Ÿå·åœ‹éš›æ©Ÿå ´ GATE 5 å‡ºå£å¤–ï¼Œéæ–‘é¦¬ç·šè‡³ç§Ÿè»Šæ¥é§å€ <strong>5-14</strong></p>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-2">ğŸš¶â€â™‚ï¸ å¦‚ä½•å‰å¾€æ¥é§è»Š</p>
                            <ul class="list-disc pl-5 space-y-1 font-hand text-lg">
                                <li>æŠµé”æ¿Ÿå·æ©Ÿå ´å¾Œï¼Œè«‹å¾€ <strong>GATE 5</strong> å‡ºå£ç§»å‹•ã€‚</li>
                                <li>éæ–‘é¦¬ç·šåˆ°é”å°é¢çš„<strong>ç§Ÿè»Šæ¥é§è»Šåœè»Šå ´ (Rent-a-car House)</strong>ã€‚</li>
                                <li>å°‹æ‰¾ <strong>5å€åŸŸ 14è™Ÿ (5-14)</strong> ç«™ç‰Œã€‚</li>
                                <li>æ­ä¹˜å¯«æœ‰ <strong>"The Safe Rent A Car" (ë”ì„¸ì´í”„ë Œí„°ì¹´)</strong> çš„æ¥é§è»Šã€‚</li>
                                <li>æ¥é§è»Šæ¯ 20-30 åˆ†é˜ä¸€ç­ (ç‡Ÿé‹æ™‚é–“ 08:00~20:00)ã€‚</li>
                            </ul>
                        </div>

                        <div>
                            <p class="font-bold text-slate-800 mb-1">ğŸšŒ æ¥é§è»Šç‰¹å¾µ</p>
                            <p>é€šå¸¸æ˜¯ç™½è‰²æˆ–é»ƒè‰²çš„å°å·´å£«ï¼Œè»Šèº«å°æœ‰ The Safe Rent A Car LOGOã€‚</p>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                         <button onclick="closeModal()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showEcoLandPrice = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-green-600"><i class="fas fa-train"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-green-300 pb-3 font-hand tracking-wide">
                        ğŸš‚ ECOLAND æ£®æ—å°ç«è»Š
                    </h3>

                    <div class="space-y-4">
                        <!-- ç¥¨åƒ¹å€å¡Š -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-ticket-alt"></i> é–€ç¥¨åƒ¹æ ¼ (å«ç«è»Šæ­ä¹˜)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-tie text-xs mr-2 opacity-50"></i>æˆäºº <span class="text-[10px] font-sans ml-1 text-slate-400">(19æ­²+)</span></span>
                                    <span class="font-bold text-green-600">â‚©16,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-graduate text-xs mr-2 opacity-50"></i>é’å°‘å¹´ <span class="text-[10px] font-sans ml-1 text-slate-400">(13-18æ­²)</span></span>
                                    <span class="font-bold text-blue-500">â‚©13,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-child text-xs mr-2 opacity-50"></i>å…’ç«¥ <span class="text-[10px] font-sans ml-1 text-slate-400">(3-12æ­²)</span></span>
                                    <span class="font-bold text-orange-500">â‚©11,000</span>
                                </div>
                            </div>
                            <p class="text-[10px] text-slate-400 mt-2 italic">* 36å€‹æœˆä»¥ä¸‹å¹¼å…’æ†‘è­‰ä»¶å…è²»å…¥å ´</p>
                        </div>

                        <!-- æ™‚é–“å€å¡Š -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> å†¬å­£ç‡Ÿé‹è³‡è¨Š
                            </h4>
                            <div class="text-sm text-slate-600 space-y-1.5 font-sans px-1">
                                <div class="flex justify-between items-center">
                                    <span>é¦–ç­è»Šç™¼è»Šï¼š</span><span class="font-bold bg-white px-2 py-0.5 rounded shadow-sm text-blue-600">08:30</span>
                                </div>
                                <div class="flex justify-between items-center text-red-500">
                                    <span>æœ€å¾Œå”®ç¥¨/å…¥å ´ï¼š</span><span class="font-bold bg-white px-2 py-0.5 rounded shadow-sm">16:30</span>
                                </div>
                                <p class="text-[11px] text-slate-400 mt-1"><i class="fas fa-info-circle mr-1"></i>ç‡Ÿæ¥­æ™‚é–“éš¨æ—¥è½æ™‚é–“èˆ‡å¤©æ°£å½ˆæ€§èª¿æ•´</p>
                            </div>
                        </div>

                        <!-- æ”»ç•¥å€å¡Š -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-lightbulb"></i> è¦ªå­éŠç©æé†’
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">1</span>
                                    å»ºè­°åœç•™ 2-3 å°æ™‚ï¼Œåœ’å€éå¸¸å¤§ï¼
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">2</span>
                                    ç«è»Šé–“éš” 7-12 åˆ†é˜ï¼Œå…±æœ‰ 4 å€‹ä¸»é¡Œç«™ã€‚
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-yellow-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">3</span>
                                    æ¯ä¸€ç«™éƒ½å¯éš¨æ„ä¸‹è»Šï¼Œç©å®Œå†æ­ä¸‹ä¸€ç­ã€‚
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }
        
        window.showRailBikePrice = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-pink-600"><i class="fas fa-bicycle"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-pink-300 pb-3 font-hand tracking-wide">
                        ğŸš² æ¿Ÿå·éµé“è‡ªè¡Œè»Š
                    </h3>

                    <div class="space-y-4">
                        <!-- ç¥¨åƒ¹å€å¡Š -->
                        <div class="bg-pink-50 p-4 rounded-2xl border border-pink-100 shadow-sm">
                            <h4 class="font-bold text-pink-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-tags"></i> ä¹˜è»Šè²»ç”¨ (ä¾è»Šå‹è¨ˆåƒ¹)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-friends text-xs mr-2 opacity-50"></i>2 äººåº§</span>
                                    <span class="font-bold text-pink-600">â‚©30,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-users text-xs mr-2 opacity-50"></i>3 äººåº§</span>
                                    <span class="font-bold text-purple-500">â‚©40,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg shadow-sm border border-slate-50">
                                    <span class="text-slate-600 flex items-center"><i class="fas fa-user-group text-xs mr-2 opacity-50"></i>4 äººåº§</span>
                                    <span class="font-bold text-indigo-500">â‚©48,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- æ™‚é–“å€å¡Š -->
                        <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm">
                            <h4 class="font-bold text-purple-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-hourglass-start"></i> ç‡Ÿé‹æ™‚é–“èˆ‡ç™¼è»Š
                            </h4>
                            <div class="text-sm text-slate-600 space-y-1.5 font-sans px-1">
                                <div class="flex justify-between items-center">
                                    <span>ç‡Ÿé‹æ™‚æ®µï¼š</span><span class="font-bold">09:00 - 17:30</span>
                                </div>
                                <div class="flex justify-between items-center text-jeju-blue font-bold">
                                    <span>ç™¼è»Šé–“éš”ï¼š</span><span>æ¯æ•´é»ç™¼è»Šä¸€æ¬¡</span>
                                </div>
                                <p class="text-[11px] text-slate-400 mt-1"><i class="fas fa-info-circle mr-1"></i>è«‹å‹™å¿…æå‰ 20 åˆ†é˜æŠµé”å”®ç¥¨è™•æ›ç¥¨</p>
                            </div>
                        </div>

                        <!-- æ”»ç•¥å€å¡Š -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-sparkles"></i> éŠç©å°æé†’
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    è»Šè¼›ç‚ºè‡ªå‹•è¡Œé§›(é›»å‹•è¼”åŠ©)ï¼Œå®Œå…¨ä¸éœ€è¦è²»åŠ›è¸©ï¼
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    æ²¿é€”å¯æ¬£è³é¾è‡¥å²³ã€è‰åŸé¢¨å…‰èˆ‡æ”¾ç‰§çš„ç‰›ç¾¤ã€‚
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="bg-orange-400 text-white w-4 h-4 rounded-full flex items-center justify-center text-[10px] flex-shrink-0 mt-0.5">!</span>
                                    è»Šå»‚å‚™æœ‰é€æ˜é˜²é›¨/é¢¨ç½©ï¼Œå³ä½¿å†¬å¤©ä¹Ÿä¸æœƒå¤ªå†·ã€‚
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-pink-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showBuchonMenu = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-orange-600"><i class="fas fa-fish"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-orange-300 pb-3 font-hand tracking-wide">
                        ğŸŸ å¯Œæ‘é£Ÿå ‚ (ë¶€ì´Œì‹ë‹¹) èœå–®
                    </h3>

                    <div class="space-y-4">
                        <!-- æ‹›ç‰Œç…®ç‰©å€ -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-star text-jeju-orange"></i> æ‹›ç‰Œç…®ç‰©å®šé£Ÿ (å«å°èœ+æ¹¯)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-50">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-slate-800 leading-tight">ç™½å¸¶é­šç…®ç‰©å®šé£Ÿ</p>
                                            <p class="text-[10px] font-sans text-slate-400">ê°ˆì¹˜ì¡°ë¦¼ ì •ì‹ (Braised Cutlassfish)</p>
                                        </div>
                                        <span class="font-bold text-orange-600 ml-2">â‚©15,000</span>
                                    </div>
                                </div>
                                <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-50">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-slate-800 leading-tight">é¯–é­šç…®ç‰©å®šé£Ÿ</p>
                                            <p class="text-[10px] font-sans text-slate-400">ê³ ë“±ì–´ì¡°ë¦¼ ì •ì‹ (Braised Mackerel)</p>
                                        </div>
                                        <span class="font-bold text-orange-600 ml-2">â‚©13,000</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- çƒ¤é­šèˆ‡åœ¨åœ°é¢¨å‘³ -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> ç¾çƒ¤é­šé¡èˆ‡åœ¨åœ°é¢¨å‘³
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">çƒ¤é¯–é­š</p>
                                        <p class="text-[9px] font-sans text-slate-400">ê³ ë“±ì–´êµ¬ì´ (Grilled Mackerel)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">â‚©12,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">çƒ¤ç™½å¸¶é­š (å¤§)</p>
                                        <p class="text-[9px] font-sans text-slate-400">ê°ˆì¹˜êµ¬ì´ (Grilled Cutlassfish)</p>
                                    </div>
                                    <span class="font-bold text-blue-600">â‚©25,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">æ¿Ÿå·é®‘é­šç²¥</p>
                                        <p class="text-[9px] font-sans text-slate-400">ì „ë³µì£½ (Abalone Porridge)</p>
                                    </div>
                                    <span class="font-bold text-green-600">â‚©13,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- æš–å¿ƒæ¹¯å“ -->
                        <div class="bg-teal-50 p-4 rounded-2xl border border-teal-100 shadow-sm">
                            <h4 class="font-bold text-teal-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-mug-hot"></i> é®®ç”œæš–å¿ƒæ¹¯å“
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">æµ·è†½ç¾å¸¶å­æ¹¯</p>
                                        <p class="text-[9px] font-sans text-slate-400">ì„±ê²Œë¯¸ì—­êµ­ (Sea Urchin Seaweed Soup)</p>
                                    </div>
                                    <span class="font-bold text-teal-600">â‚©15,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">é®‘é­šç ‚é‹æ¹¯</p>
                                        <p class="text-[9px] font-sans text-slate-400">ì „ë³µëšë°°ê¸° (Abalone Hot Pot Soup)</p>
                                    </div>
                                    <span class="font-bold text-teal-600">â‚©15,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- è²¼å¿ƒæé†’ -->
                        <div class="bg-gray-50 p-4 rounded-2xl border border-gray-200 shadow-sm">
                            <h4 class="font-bold text-gray-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> é¤å»³ç­†è¨˜
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-1.5 pl-1 font-hand text-base">
                                <li>â€¢ <strong>å®šé£Ÿå…§å®¹ï¼š</strong> åŒ…å«ä¸€ç¢—é£¯ã€ç•¶æ—¥ä¾‹æ¹¯ä»¥åŠ 5-6 ç¨®ç²¾ç·»éŸ“å¼å°èœã€‚</li>
                                <li>â€¢ <strong>è¦ªå­æ¨è–¦ï¼š</strong> çƒ¤é¯–é­šèˆ‡æµ·è†½æ¹¯å£å‘³æ¸…æ·¡é®®ç¾ï¼Œéå¸¸é©åˆå°å­©ã€‚</li>
                                <li>â€¢ <strong>é»é¤æç¤ºï¼š</strong> ç…®ç‰©å®šé£Ÿå¾®è¾£ï¼Œè‹¥å®Œå…¨ä¸åƒè¾£å¯é¸çƒ¤é­šæˆ–æ¹¯é¡ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-orange-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showGeumdotMenu = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-red-600"><i class="fas fa-fire"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-red-300 pb-3 font-hand tracking-wide">
                        ğŸ¥© é‡‘ë— é»‘è±¬è‚‰ (ê¸ˆë— ì„±ì‚°) èœå–®
                    </h3>

                    <div class="space-y-4">
                        <!-- å¥—é¤å€ -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-sm">
                            <h4 class="font-bold text-red-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-thumbs-up text-jeju-orange"></i> è¶…å€¼é™å®šå¥—é¤ (Signature Set)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-50">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-bold text-slate-800 leading-tight">é‡‘ë— é»‘è±¬è‚‰äºŒäººå¥—é¤</p>
                                            <p class="text-[10px] font-sans text-slate-400">ê¸ˆë— í‘ë¼ì§€ ì„¸íŠ¸ (600g / Belly+Neck)</p>
                                        </div>
                                        <span class="font-bold text-red-600 ml-2">â‚©66,000</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å–®é»è‚‰å“ -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> é ‚ç´šå–®é»éƒ¨ä½ (180g / ä»½)
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">é»‘è±¬äº”èŠ±è‚‰</p>
                                        <p class="text-[9px] font-sans text-slate-400">í‘ì˜¤ê²¹ì‚´ (Black Pork Belly)</p>
                                    </div>
                                    <span class="font-bold text-orange-600">â‚©22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">é»‘è±¬è±¬é ¸è‚‰</p>
                                        <p class="text-[9px] font-sans text-slate-400">í‘ëª©ì‚´ (Black Pork Neck)</p>
                                    </div>
                                    <span class="font-bold text-orange-600">â‚©22,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">ç†Ÿæˆç™½è±¬è‚‰</p>
                                        <p class="text-[9px] font-sans text-slate-400">ìˆ™ì„± ë°±ë¼ì§€ (Aged Pork)</p>
                                    </div>
                                    <span class="font-bold text-slate-500">â‚©18,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- é…èœå€ -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-100 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-bowl-rice"></i> å¿…é»é“åœ°é…èœ
                            </h4>
                            <div class="space-y-2 font-hand text-lg">
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">é»‘è±¬è‚‰æ³¡èœæ¹¯</p>
                                        <p class="text-[9px] font-sans text-slate-400">í‘ë¼ì§€ ê¹€ì¹˜ì°Œê°œ (Pork Kimchi Stew)</p>
                                    </div>
                                    <span class="font-bold text-green-600">â‚©7,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">æ°´å†·éºµ / æ‹Œå†·éºµ</p>
                                        <p class="text-[9px] font-sans text-slate-400">ë¬¼ëƒ‰ë©´ / ë¹„ë¹”ëƒ‰ë©´ (Cold Noodles)</p>
                                    </div>
                                    <span class="font-bold text-green-600">â‚©7,000</span>
                                </div>
                                <div class="flex justify-between items-center bg-white px-3 py-2 rounded-lg border border-slate-50">
                                    <div>
                                        <p class="font-bold text-slate-800 text-base leading-none mb-1">ç«å±±çˆ†ç™¼è’¸è›‹</p>
                                        <p class="text-[9px] font-sans text-slate-400">ê³„ë€ì°œ (Steamed Egg)</p>
                                    </div>
                                    <span class="font-bold text-green-600">â‚©4,000</span>
                                </div>
                            </div>
                        </div>

                        <!-- é£²å“å€ -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-glass-water"></i> é£²å“èˆ‡é…’é¡
                            </h4>
                            <div class="grid grid-cols-2 gap-2 font-hand text-base">
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>ç‡’é…’ Soju</span><b>â‚©5,000</b></div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>å•¤é…’ Beer</span><b>â‚©5,000</b></div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>æ±½æ°´ Soda</span><b>â‚©2,000</b></div>
                                <div class="flex justify-between bg-white px-2 py-1 rounded"><span>èŠ±ç”Ÿç‘ªæ ¼åˆ©</span><b>â‚©5,000</b></div>
                            </div>
                        </div>

                        <!-- éŠç©å°æé†’ -->
                        <div class="bg-gray-50 p-4 rounded-2xl border border-gray-200 shadow-sm text-xs">
                            <h4 class="font-bold text-gray-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> ç‡’è‚‰å°æŒ‡å—
                            </h4>
                            <ul class="space-y-1 text-slate-600 font-hand text-base leading-relaxed">
                                <li>â€¢ åº—å“¡æœƒå¹«å¿™ä»£çƒ¤ï¼Œåªè¦å°ˆå¿ƒåè‘—åƒå°±è¡Œï¼</li>
                                <li>â€¢ æ¨è–¦åƒæ³•ï¼šå…ˆæ²¾é»ã€Œé¯·é­šé­šéœ²ã€æˆ–ã€ŒèŠ¥æœ«ã€æœ€å°å‘³ã€‚</li>
                                <li>â€¢ è’¸è›‹å£æ„Ÿç¶¿å¯†ï¼Œæ˜¯å°æœ‹å‹çš„æœ€æ„›ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-red-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showFerryInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-2 -right-2 text-4xl opacity-20 rotate-12"> ferry </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-dashed border-slate-200 pb-3 font-hand tracking-wide">
                        ç‰›å³¶æ¸¡è¼ª èˆ¹ç­ & ç¥¨åƒ¹
                    </h3>
                    <div class="mb-4">
                        <h4 class="font-bold text-slate-700 mb-2 text-sm"><i class="fas fa-clock text-blue-500 mr-1"></i> èˆ¹ç­æ™‚åˆ»è¡¨ (æ¯30åˆ†é˜ä¸€ç­)</h4>
                        <div class="bg-blue-50 rounded-lg p-3 text-xs leading-relaxed text-slate-600">
                            <p class="font-bold mb-1">å»ç¨‹ (åŸå±±å‡ºç™¼)</p>
                            <p>08:00, 08:30, 09:00 ... 17:00 (æœ«ç­)</p>
                            <p class="font-bold mt-2 mb-1">å›ç¨‹ (ç‰›å³¶å‡ºç™¼)</p>
                            <p>07:30, 08:00 ... 17:00 (æœ«ç­)</p>
                            <p class="text-[10px] text-gray-500 mt-2">* å¯¦éš›æ™‚é–“ä¾ç•¶æ—¥å¤©æ°£èˆ‡å­£ç¯€å¯èƒ½èª¿æ•´ï¼Œè«‹ææ—©æŠµé”ã€‚</p>
                        </div>
                    </div>
                    <div class="mb-4">
                        <h4 class="font-bold text-slate-700 mb-2 text-sm"><i class="fas fa-ticket-alt text-green-500 mr-1"></i> å¾€è¿”ç¥¨åƒ¹ (å«é–€ç¥¨+èˆ¹è²»)</h4>
                        <table class="boat-table w-full text-sm text-slate-600">
                            <thead class="bg-slate-100"><tr><th class="p-2 text-left">å°è±¡</th><th class="p-2 text-right">å¾€è¿”è²»ç”¨</th></tr></thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr><td class="p-2">æˆäºº (19æ­²+)</td><td class="p-2 text-right font-bold">10,500 éŸ“å…ƒ</td></tr>
                                <tr><td class="p-2">ä¸­å­¸ç”Ÿ (13-18æ­²)</td><td class="p-2 text-right font-bold">10,100 éŸ“å…ƒ</td></tr>
                                <tr><td class="p-2">å°å­¸ç”Ÿ (6-12æ­²)</td><td class="p-2 text-right font-bold">3,800 éŸ“å…ƒ</td></tr>
                                <tr><td class="p-2">å…’ç«¥ (2-5æ­²)</td><td class="p-2 text-right font-bold">3,000 éŸ“å…ƒ</td></tr>
                            </tbody>
                        </table>
                    </div>
                     <div class="mb-4">
                        <h4 class="font-bold text-slate-700 mb-2 text-sm"><i class="fas fa-car text-orange-500 mr-1"></i> è»Šè¼›é‹è²» (å¾€è¿”)</h4>
                        <table class="boat-table w-full text-sm text-slate-600">
                            <thead class="bg-slate-100"><tr><th class="p-2 text-left">è»Šå‹</th><th class="p-2 text-right">å¾€è¿”è²»ç”¨</th></tr></thead>
                            <tbody class="divide-y divide-slate-100">
                                <tr><td class="p-2">è¼•å‹è»Š (Morningç­‰)</td><td class="p-2 text-right font-bold">21,600 éŸ“å…ƒ</td></tr>
                                <tr><td class="p-2">ä¸­å‹è»Š (Avante, Sonata)</td><td class="p-2 text-right font-bold">26,000 éŸ“å…ƒ</td></tr>
                                <tr><td class="p-2">å¤§å‹è»Š (Grandeur, K7)</td><td class="p-2 text-right font-bold">30,400 éŸ“å…ƒ</td></tr>
                                 <tr><td class="p-2">ä¼‘æ—…è»Š (Carnival, Starex)</td><td class="p-2 text-right font-bold">37,000 éŸ“å…ƒ</td></tr>
                            </tbody>
                        </table>
                        <p class="text-[10px] text-red-500 mt-2">* ç§Ÿè³ƒè»Šä¸Šå³¶éœ€ç¬¦åˆç‰¹å®šæ¢ä»¶ (å¦‚å­•å©¦ã€65æ­²ä»¥ä¸Šé•·è€…ã€6æ­²ä»¥ä¸‹å…’ç«¥éš¨è¡Œ)ï¼Œè«‹å‹™å¿…å…ˆç¢ºèªã€‚</p>
                    </div>
                    <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-100 text-xs">
                        <p class="font-bold text-yellow-800 mb-1">âš ï¸ æ­èˆ¹å¿…å‚™</p>
                        <ul class="list-disc pl-4 space-y-1 text-yellow-700"><li>æ‰€æœ‰ä¹˜å®¢çš„<strong>è­·ç…§æ­£æœ¬</strong>ã€‚</li><li>å¡«å¯«<strong>ä¹˜èˆ¹ç”³å ±å–®</strong> (ä¸€å¼å…©ä»½ï¼Œå»å›ç¨‹å„ä¸€å¼µ)ã€‚</li><li>å»ºè­°ææ—© 30 åˆ†é˜æŠµé”å”®ç¥¨è™•ã€‚</li></ul>
                    </div>
                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showUdoPlan = function() {
            const udoSpots = [
                { name: 'è¥¿æ¿±ç™½æ²™ (Sanho Beach)', desc: 'éŸ“åœ‹å”¯ä¸€çš„ç´…è—»åœ˜å¡Šæµ·ç˜ï¼Œæ²™å­åƒçˆ†ç±³èŠ±ä¸€æ¨£ç™½ï¼', query: 'ìš°ë„ ì„œë¹ˆë°±ì‚¬', icon: 'fa-umbrella-beach' },
                { name: 'ä¸‹å¤æ°´æ´æµ·æ°´æµ´å ´', desc: 'æµ·æ°´è¶…æ¸…æ¾ˆï¼Œé©åˆç©æ°´ã€‚å¿…å» Blanc Rocher å’–å•¡å»³â˜•', query: 'í•˜ê³ ìˆ˜ë™í•´ìˆ˜ìš•ì¥', icon: 'fa-water' },
                { name: 'é£›æšå³¶ (Biyangdo)', desc: 'é€€æ½®æ™‚å¯æ­¥è¡Œå‰å¾€çš„å°å³¶ï¼Œæ‹ç…§æ‰“å¡è–åœ°ğŸ“¸', query: 'ë¹„ì–‘ë„ ì—°ìœ¡êµ', icon: 'fa-camera' },
                { name: 'æª¢è »æ²™ (é»‘æ²™ç˜)', desc: 'ğŸ¥œ å¿…åƒï¼šJimmy\'s èŠ±ç”Ÿå†°æ·‡æ·‹ï¼å¯æ­å¿«è‰‡çœ‹æµ·è•æ´ã€‚', query: 'ê²€ë©€ë ˆí•´ìˆ˜ìš•ì¥', icon: 'fa-ice-cream' },
                { name: 'ç‰›å³¶å³° (Udo Peak)', desc: 'ä¿¯ç°å…¨å³¶å£¯éº—æ™¯è‰²ï¼Œæœ‰é«”åŠ›å¯ä»¥çˆ¬ä¸Šå»çœ‹çœ‹ã€‚', query: 'ìš°ë„ë´‰', icon: 'fa-mountain' }
            ];

            let html = `
                <div class="text-left relative h-full">
                    <div class="absolute top-0 right-0 text-4xl opacity-20">ğŸ¥œ</div>
                    <h3 class="text-xl font-bold text-slate-800 mb-3 text-center border-b-2 border-orange-200 pb-2 font-hand tracking-wide">
                        ç‰›å³¶ç’°å³¶å¿…å»è·¯ç·š (é †æ™‚é‡)
                    </h3>
                    
                    <div class="bg-orange-50 p-3 rounded-xl mb-4 text-xs text-orange-800 flex items-center border border-orange-100">
                        <i class="fas fa-motorcycle text-xl mr-3"></i>
                        <div>
                            <strong>äº¤é€šå»ºè­°ï¼š</strong><br>
                            ä¸‹èˆ¹å¾Œç§Ÿã€Œé›»å‹•ä¸‰è¼ªè»Šã€æˆ–æ­ä¹˜ã€Œæµ·å²¸å¾ªç’°å·´å£«ã€éŠç©æœ€æ–¹ä¾¿ã€‚
                        </div>
                    </div>
                    <div class="space-y-0 pl-2">
            `;

            udoSpots.forEach((spot, index) => {
                const navUrl = `https://map.naver.com/p/search/${encodeURIComponent(spot.query)}`;
                html += `
                    <div class="relative pl-6 border-l-2 border-dashed border-slate-300 pb-6 last:border-0 last:pb-0">
                        <div class="absolute -left-[9px] top-0 bg-white border-2 border-orange-400 w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-orange-500 shadow-sm">${index + 1}</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-slate-100 -mt-1 hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-1">
                                <h4 class="font-bold text-slate-700 text-sm flex items-center">
                                    <i class="fas ${spot.icon} text-orange-300 mr-2 w-4 text-center"></i>${spot.name}
                                </h4>
                                <a href="${navUrl}" target="_blank" class="text-jeju-blue hover:text-blue-700 text-[10px] bg-blue-50 px-2 py-1 rounded-full whitespace-nowrap ml-2 font-bold flex items-center">
                                    <i class="fas fa-location-arrow mr-1"></i> å°èˆª
                                </a>
                            </div>
                            <p class="text-xs text-slate-500 leading-relaxed pl-6">${spot.desc}</p>
                        </div>
                    </div>
                `;
            });

            html += `
                    </div>
                    <div class="mt-6 text-center">
                        <button onclick="closeModal()" class="bg-slate-100 hover:bg-slate-200 text-slate-500 px-6 py-2 rounded-full text-xs font-bold transition-colors">
                            é—œé–‰ Close
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('modal-content-area').innerHTML = html;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showAquaPlanetInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-blue-600"><i class="fas fa-fish"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-blue-300 pb-3 font-hand tracking-wide">
                        ğŸ¬ Aqua Planet Jeju ç©æ¨‚æŒ‡å—
                    </h3>

                    <div class="space-y-4">
                        <!-- é–€ç¥¨ç‹€æ³å€ (Agoda Note) -->
                        <div class="bg-blue-600 text-white p-4 rounded-2xl shadow-lg border-2 border-blue-400 relative overflow-hidden">
                            <div class="absolute -right-2 -bottom-2 text-5xl opacity-20 rotate-12"><i class="fas fa-check-circle"></i></div>
                            <div class="relative z-10 flex items-center gap-3">
                                <i class="fas fa-ticket-alt text-2xl"></i>
                                <div>
                                    <p class="font-bold text-lg leading-tight">é–€ç¥¨å·²è³¼è²·</p>
                                    <p class="text-xs opacity-90 font-hand text-base">Agoda é è¨‚æˆåŠŸï¼Œç¾å ´å‡ºç¤ºæ†‘è­‰å³å¯</p>
                                </div>
                            </div>
                        </div>

                        <!-- ç°¡ä»‹å€ -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> æ™¯é»ç°¡ä»‹
                            </h4>
                            <p class="text-xs text-slate-600 leading-relaxed font-sans px-1">
                                æ¿Ÿå·å³¶å¿…å»ï¼äºæ´²æœ€å¤§ç´šåˆ¥çš„æ°´æ—é¤¨ã€‚ç”±æ°´æ—é¤¨ã€æµ·æ´‹ç§‘å­¸é¤¨åŠæµ·æ´‹åŠ‡å ´çµ„æˆï¼Œæ“æœ‰ 5,000 å¤šç¨®ã€4 è¬ 8 åƒå¤šéš»æµ·æ´‹ç”Ÿç‰©ã€‚
                            </p>
                        </div>

                        <!-- è¡¨æ¼”æ™‚é–“å€ -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-star"></i> å¿…çœ‹ç²¾å½©è¡¨æ¼”
                            </h4>
                            <div class="space-y-3">
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-orange-100">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><i class="fas fa-swimmer mr-1 text-orange-500"></i> æµ·å¥³æ½›æ°´æ¼”ç¤º (æ°´æ—é¤¨ B1)</p>
                                    <p class="text-[10px] text-slate-500 mb-2">è§€çœ‹æ¿Ÿå·æµ·å¥³ç„¡è£å‚™æ½›æ°´ç¤ºç¯„èˆ‡æ•…äº‹åˆ†äº«ã€‚</p>
                                    <div class="flex flex-wrap gap-1.5">
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">10:30</span>
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">12:20</span>
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">14:10</span>
                                        <span class="bg-orange-100 text-orange-600 text-[10px] font-bold px-2 py-0.5 rounded">16:00</span>
                                    </div>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-orange-100">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><i class="fas fa-theater-masks mr-1 text-blue-500"></i> æµ·æ´‹ç«¶æŠ€å ´ (åŠ‡å ´ B1)</p>
                                    <p class="text-[10px] text-slate-500 mb-2">åŒ…å«ä¿„ç¾…æ–¯ç©ºä¸­é£›äººé›œæŠ€èˆ‡æµ·ç…ã€æµ·è±šè¡¨æ¼”ã€‚</p>
                                    <div class="flex flex-wrap gap-1.5">
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">11:10</span>
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">13:00</span>
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">15:00</span>
                                        <span class="bg-blue-100 text-blue-600 text-[10px] font-bold px-2 py-0.5 rounded">16:50</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ç¥¨åƒ¹åƒè€ƒå€ -->
                        <div class="bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-coins"></i> ç¥¨åƒ¹åƒè€ƒ (ç¾å ´åŸåƒ¹)
                            </h4>
                            <div class="space-y-1.5 font-hand text-lg">
                                <div class="flex justify-between items-center text-slate-600">
                                    <span>æˆäºº (19æ­²+)</span><span class="font-bold">â‚©42,400</span>
                                </div>
                                <div class="flex justify-between items-center text-slate-600">
                                    <span>å…’ç«¥ (12æ­²ä»¥ä¸‹)</span><span class="font-bold">â‚©38,500</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-blue-700 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }
        
        window.showOlleMarketRecs = function() {
             document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-jeju-orange"><i class="fas fa-store"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-jeju-orange pb-3 font-hand tracking-wide">
                        ğŸŠ æ¯æ—¥å¶ä¾†å¸‚å ´ å¼·åŠ›æ¨è–¦
                    </h3>

                    <div class="space-y-4">
                        <!-- å¿…åƒç¾é£Ÿå€ -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-utensils"></i> é‚Šèµ°é‚Šåƒå››å¤§å¤©ç‹
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">â¶</span> æ©˜å­éº»ç³¬ (ê·¤ëª¨ì°Œ)</p>
                                    <p class="text-[10px] text-slate-500">å¤–çš®Qå½ˆï¼Œå…§é¤¡æ˜¯æ•´é¡†æ–°é®®å¤šæ±çš„æ©˜å­ï¼Œé…¸ç”œæ¸…çˆ½ï¼</p>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">â·</span> é»‘è±¬è‚‰å¯æ¨‚é¤… (í‘ë¼ì§€ ê³ ë¡œì¼€)</p>
                                    <p class="text-[10px] text-slate-500">å¤–æ®¼é…¥è„†ï¼Œå…§é¤¡æ˜¯ç´®å¯¦çš„é»‘è±¬è‚‰èˆ‡æ´‹è”¥ï¼Œé£½è¶³æ„Ÿåè¶³ã€‚</p>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">â¸</span> èƒèŸ¹å¥¶æ²¹å¯æ¨‚é¤… (ëŒ€ê²Œê·¸ë¼íƒ•)</p>
                                    <p class="text-[10px] text-slate-500">å°‡èŸ¹è‚‰èˆ‡æ¿ƒéƒèµ·å¸å¡«å…¥èŸ¹æ®¼å¾Œç«çƒ¤ï¼Œé¦™æ°£é€¼äººã€‚</p>
                                </div>
                                <div class="bg-white p-3 rounded-xl shadow-sm border border-slate-50">
                                    <p class="font-bold text-slate-800 text-sm mb-1"><span class="text-orange-500 mr-1">â¹</span> æ¼¢æ‹¿å³°æœæ± (í•œë¼ë´‰ ì£¼ìŠ¤)</p>
                                    <p class="text-[10px] text-slate-500">100% ç¾æ¦¨ï¼Œä¾†åˆ°æ¿Ÿå·å³¶æ¯å¤©éƒ½è¦ä¾†ä¸Šä¸€ç“¶çš„é…¸ç”œæ»‹å‘³ã€‚</p>
                                </div>
                            </div>
                        </div>

                        <!-- ä¼´æ‰‹ç¦®é‡é»å€ -->
                        <div class="bg-red-50 p-4 rounded-2xl border border-red-100 shadow-lg relative overflow-hidden">
                            <div class="absolute right-0 top-0 bg-red-500 text-white text-[10px] px-2 py-1 rounded-bl-lg font-bold">å¿…é€›åº—é‹ª</div>
                            <h4 class="font-bold text-red-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-gift text-red-500"></i> ä¼´æ‰‹ç¦®é¦–é¸æ¨è–¦
                            </h4>
                            <div class="bg-white p-4 rounded-xl shadow-sm border border-red-50">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="bg-red-100 text-red-600 font-black px-3 py-1 rounded-full text-sm">ğŸ“ 188 è™Ÿæ”¤ä½</span>
                                    <i class="fas fa-shopping-bag text-red-200"></i>
                                </div>
                                <div class="text-slate-700 font-hand text-lg space-y-2">
                                    <p>é€™å®¶åº—è²¨è‰²éå¸¸é½Šå…¨ï¼Œä¸”åƒ¹æ ¼å…¬é“ï¼Œæ¨è–¦è³¼è²·ï¼š</p>
                                    <ul class="list-disc pl-5 text-base space-y-1">
                                        <li><strong>æ¼¢æ‹¿å³°å·§å…‹åŠ› / æ©˜å­å·§å…‹åŠ›</strong> (å¤šç›’è²·æœ‰å„ªæƒ )</li>
                                        <li><strong>æ¿Ÿå·æ©˜å­ä¹¾</strong> (è¼•ä¾¿å¥½å¸¶ï¼Œé©åˆé€ç¦®)</li>
                                        <li><strong>çŸ³é ­çˆºçˆºé›è›‹ç³• / é€ å‹å°é£¾å“</strong></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- å¸‚å ´æ”»ç•¥æé†’ -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm text-xs">
                            <h4 class="font-bold text-blue-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle"></i> é€›è¡—å°ç­†è¨˜
                            </h4>
                            <ul class="space-y-1.5 text-slate-600 font-hand text-base leading-relaxed">
                                <li>â€¢ <strong>ç‡Ÿæ¥­æ™‚é–“ï¼š</strong> 07:00 - 21:00 (å¤œå¸‚æ°›åœåœ¨å‚æ™šæœ€ç†±é¬§)ã€‚</li>
                                <li>â€¢ <strong>åœè»Šæé†’ï¼š</strong> å¸‚å ´è¨­æœ‰å¤§å‹å…¬ç”¨åœè»Šå ´ï¼Œå‰ 30 åˆ†é˜é€šå¸¸å…è²»ã€‚</li>
                                <li>â€¢ <strong>è¦ªå­å‹å–„ï¼š</strong> å¸‚å ´ä¸­å¤®æœ‰æ¢æµæ°´é€ æ™¯æ­¥é“ï¼Œå¯ä»¥è®“å°æœ‹å‹ååœ¨é€™è£¡ä¼‘æ¯åƒæ±è¥¿ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-jeju-orange text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
             document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showCafeInfo = function() {
            const gamttanamNav = `https://map.naver.com/p/search/${encodeURIComponent('ê°ë”°ë‚¨')}`;
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-jeju-orange"><i class="fas fa-coffee"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-orange-300 pb-3 font-hand tracking-wide">
                        ğŸŠ æ©˜èŠ±é–£æ¨“ (ê·¤ê½ƒë‹¤ë½) æŒ‡å—
                    </h3>

                    <div class="space-y-4">
                        <!-- ç‡Ÿæ¥­è³‡è¨Š -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-clock"></i> ç‡Ÿæ¥­è³‡è¨Š
                            </h4>
                            <div class="text-sm text-slate-600 font-sans px-1">
                                <p class="flex justify-between"><span>æ¯æ—¥ç‡Ÿæ¥­æ™‚é–“ï¼š</span><span class="font-bold">11:00 - 19:00</span></p>
                                <p class="flex justify-between text-red-500 mt-1"><span>æœ€å¾Œå…¥åº—/é»é¤ï¼š</span><span class="font-bold text-xs">18:15</span></p>
                            </div>
                        </div>

                        <!-- æ¡æ©˜å­é«”é©—å€ -->
                        <div class="bg-green-50 p-4 rounded-2xl border border-green-200 shadow-sm">
                            <h4 class="font-bold text-green-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-basket-shopping"></i> æ¡æ©˜å­é«”é©— (ç”¢å­£é™å®š)
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="bg-white p-2 rounded-lg border border-green-100 shadow-sm flex justify-between items-center">
                                    <span>é«”é©—æ”¶è²» <span class="text-xs font-sans text-slate-400">(å«ç¾å ´è©¦åƒ)</span></span>
                                    <b class="text-green-600">â‚©5,000 / äºº</b>
                                </div>
                                <div class="bg-white p-2 rounded-lg border border-green-100 shadow-sm flex justify-between items-center">
                                    <span>å¤–å¸¶å°æ¡¶ <span class="text-xs font-sans text-slate-400">(ç´„ 1-1.5kg)</span></span>
                                    <b class="text-green-600">â‚©10,000 / æ¡¶</b>
                                </div>
                                <div class="text-xs text-slate-600 font-sans mt-2 bg-white/50 p-2 rounded border border-dashed border-green-300">
                                    <p class="font-bold mb-1 underline">æ¡æ‘˜è¦å‰‡ï¼š</p>
                                    <ul class="list-disc pl-4 space-y-1">
                                        <li>è«‹å‹™å¿…ä½¿ç”¨åº—å®¶æä¾›çš„å°ˆç”¨å‰ªåˆ€ï¼Œåš´ç¦å¾’æ‰‹æ‹”å–ã€‚</li>
                                        <li>æ¡ä¸‹çš„æ©˜å­è«‹å‹¿ä¸Ÿæ£„æˆ–æµªè²»ï¼Œè«‹ä¾æŒ‡ç¤ºæ”¾å…¥ç±ƒå…§ã€‚</li>
                                        <li>ç¦æ­¢æ”€çˆ¬æ©˜å­æ¨¹æˆ–æ–æ™ƒæ¨¹å¹¹ï¼Œä»¥å…æå£æœæ¨¹ã€‚</li>
                                        <li>æœåœ’è·¯é¢å¯èƒ½æ¿•æ»‘ï¼Œå°æœ‹å‹éœ€ç”±å¤§äººé™ªåŒã€‚</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- æ¶ˆè²»è¦å‰‡ -->
                        <div class="bg-white p-4 rounded-2xl border-2 border-dashed border-orange-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-coins text-jeju-orange"></i> å’–å•¡å»³è¦ç¯„
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-1 pl-1 font-hand text-base">
                                <li>â€¢ <strong>ä½æ¶ˆï¼š</strong> æ¯äººå¿…é ˆé»ä¸€ä»½é£²å“ (åŒ…å«å­©ç«¥)ã€‚</li>
                                <li>â€¢ <strong>æ¨è–¦ï¼š</strong> æ©˜å­æ‹¿éµã€æ©˜å­æ°£æ³¡é£²ã€æ‰‹å·¥æ©˜å­ç¾Šç¾¹ã€‚</li>
                                <li>â€¢ <strong>ç¦ä»¤ï¼š</strong> åš´ç¦å¤–é£Ÿï¼Œç¦æ­¢å•†æ¥­æ”å½±æˆ–é »ç¹æ›´æ›è¡£æœæ‹ç…§ã€‚</li>
                            </ul>
                        </div>

                        <!-- å®¢æ»¿å‚™æ¡ˆå€ -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-md relative overflow-hidden">
                            <div class="absolute right-0 top-0 bg-yellow-400 text-white text-[9px] px-2 py-0.5 rounded-bl-lg font-bold uppercase">Backup Plan</div>
                            <h4 class="font-bold text-yellow-800 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-map-signs text-yellow-600"></i> å®¢æ»¿å‚™æ¡ˆï¼šGamttanam
                            </h4>
                            <p class="text-[11px] text-slate-500 mb-3 leading-relaxed">
                                å¦‚æœæ©˜èŠ±é–£æ¨“å®¢æ»¿æˆ–æ’éšŠå¤ªä¹…ï¼Œæ¨è–¦å‰å¾€é™„è¿‘çš„ <strong>Gamttanam (ê°ë”°ë‚¨)</strong>ï¼ŒåŒæ¨£æ“æœ‰çµ•ç¾æ©˜å­åœ’æ™¯è§€èˆ‡æ¡æ‘˜é«”é©—ï¼
                            </p>
                            <a href="${gamttanamNav}" target="_blank" class="w-full bg-white border border-yellow-400 text-yellow-700 py-2 rounded-xl text-xs font-bold shadow-sm flex items-center justify-center gap-2 active:scale-95 transition">
                                <i class="fas fa-location-arrow"></i> å°èˆªå‰å¾€ Gamttanam
                            </a>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-jeju-orange text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showLandingDiningInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-yellow-600"><i class="fas fa-crown"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-yellow-400 pb-3 font-hand tracking-wide">
                        ğŸ½ï¸ è—é¼è‡ªåŠ©æ™šé¤ (Landing Dining)
                    </h3>

                    <div class="space-y-4">
                        <!-- é ç´„ç‹€æ…‹å€ -->
                        <div class="bg-yellow-600 text-white p-4 rounded-2xl shadow-lg border-2 border-yellow-400 relative overflow-hidden">
                            <div class="absolute -right-2 -bottom-2 text-5xl opacity-20 rotate-12"><i class="fas fa-calendar-check"></i></div>
                            <div class="relative z-10 flex items-center gap-3">
                                <i class="fas fa-user-clock text-2xl"></i>
                                <div>
                                    <p class="font-bold text-lg leading-tight">å·²é ç´„ 18:00</p>
                                    <p class="text-xs opacity-90 font-hand text-base">æ™‚é–“ä¸å¯è®Šå‹•ï¼Œè«‹æº–æ™‚æŠµé”é£¯åº— 1F</p>
                                </div>
                            </div>
                        </div>

                        <!-- ç‡Ÿæ¥­èˆ‡æ¶ˆè²» -->
                        <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 shadow-sm">
                            <h4 class="font-bold text-yellow-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-coins"></i> ç‡Ÿæ¥­æ™‚é–“èˆ‡æ”¶è²»æ¨™æº–
                            </h4>
                            <div class="text-sm text-slate-600 space-y-2 font-sans px-1">
                                <div class="flex justify-between items-center">
                                    <span>æ™šé¤ç‡Ÿé‹æ™‚æ®µï¼š</span><span class="font-bold bg-white px-2 py-0.5 rounded shadow-sm text-yellow-600">18:00 - 21:30</span>
                                </div>
                                <div class="grid grid-cols-1 gap-2 mt-3 font-hand text-lg">
                                    <div class="flex justify-between items-center bg-white px-3 py-1.5 rounded-lg border border-yellow-100">
                                        <span>æˆäºº (13æ­²+)</span><b class="text-yellow-700">â‚©149,000</b>
                                    </div>
                                    <div class="flex justify-between items-center bg-white px-3 py-1.5 rounded-lg border border-yellow-100">
                                        <span>å…’ç«¥ (37å€‹æœˆ-12æ­²)</span><b class="text-yellow-700">â‚©75,000</b>
                                    </div>
                                    <div class="flex justify-between items-center bg-white px-3 py-1.5 rounded-lg border border-yellow-100">
                                        <span>å¹¼å…’ (36å€‹æœˆä»¥ä¸‹)</span><b class="text-green-600 font-bold">å…è²» (FREE)</b>
                                    </div>
                                </div>
                                <p class="text-[10px] text-slate-400 italic mt-2">* åƒ¹æ ¼å·²åŒ…å« 10% æœå‹™è²»èˆ‡ 10% ç¨…é‡‘ã€‚å¹¼å…’è«‹å‚™å¦¥å¹´é½¡è­‰æ˜ã€‚</p>
                            </div>
                        </div>

                        <!-- é ‚ç´šäº®é»å€ -->
                        <div class="bg-orange-50 p-4 rounded-2xl border border-orange-200 shadow-sm">
                            <h4 class="font-bold text-orange-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-gem"></i> å¿…åƒé ‚ç´šé£Ÿæ
                            </h4>
                            <ul class="text-xs text-slate-600 space-y-2 pl-1 font-hand text-base">
                                <li class="flex items-center gap-2"><i class="fas fa-check text-orange-400"></i> ç„¡é™é‡ä¾›æ‡‰ï¼šé•·è…³èŸ¹ã€æ³¢å£«é “é¾è¦ã€é®‘é­šã€‚</li>
                                <li class="flex items-center gap-2"><i class="fas fa-check text-orange-400"></i> æ¿Ÿå·ç‰¹è‰²ï¼šç¾çƒ¤é»‘è±¬è‚‰ã€ç•¶åœ°æ–°é®®åˆºèº«æ‹¼ç›¤ã€‚</li>
                                <li class="flex items-center gap-2"><i class="fas fa-check text-orange-400"></i> ç²¾ç·»ç”œé»ï¼šç¾åšé¬†é¤…ã€é ‚ç´šæ‰‹å·¥å†°æ·‡æ·‹å€ã€‚</li>
                            </ul>
                        </div>

                        <!-- è²¼å¿ƒæé†’ -->
                        <div class="bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-sm text-xs">
                            <h4 class="font-bold text-slate-700 mb-2 flex items-center gap-2">
                                <i class="fas fa-info-circle text-slate-400"></i> ç”¨é¤å°ç­†è¨˜
                            </h4>
                            <ul class="space-y-1.5 text-slate-500 font-hand text-base leading-relaxed">
                                <li>â€¢ é¤å»³å‚™æœ‰å¤§é‡é«˜å“è³ªå…’ç«¥é¤æ¤…èˆ‡é¤å…·ã€‚</li>
                                <li>â€¢ è‘—è£å»ºè­°ï¼šSmart Casual (é¿å…ç©¿è‘—å®¢æˆ¿æ‹–é‹æˆ–ç¡è¡£)ã€‚</li>
                                <li>â€¢ é£²æ°´ï¼šé™¤äº†ç¾æ¦¨æœæ±ï¼Œé…’é¡é€šå¸¸éœ€é¡å¤–ä»˜è²»é»è³¼ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-yellow-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showThemeParkInfo = function() {
            // å»ºè­°å°‡ç…§ç‰‡ä¸Šå‚³è‡³ GitHubï¼Œæª”åè¨­å®šç‚ºï¼šjeju_shinhwa_park.jpg
            const photoUrl = "https://raw.githubusercontent.com/[ä½ çš„GitHubå¸³è™Ÿ]/[ä½ çš„å°ˆæ¡ˆåç¨±]/main/jeju_shinhwa_park.jpg";
            
            document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left relative h-full">
                    <div class="absolute -top-4 -right-2 text-5xl opacity-20 rotate-12 text-purple-600"><i class="fas fa-ticket-alt"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-4 text-center border-b-2 border-purple-300 pb-3 font-hand tracking-wide">
                        ğŸ¡ ç¥è©±ä¸»é¡Œå…¬åœ’ æ”»ç•¥æŒ‡å—
                    </h3>

                    <div class="space-y-4">
                        <!-- ç‡Ÿæ¥­èˆ‡å…¥å ´è³‡è¨Š -->
                        <div class="bg-purple-50 p-4 rounded-2xl border border-purple-100 shadow-sm">
                            <div class="flex justify-between items-center mb-2">
                                <h4 class="font-bold text-purple-700 text-sm flex items-center gap-2">
                                    <i class="fas fa-door-open"></i> ç‡Ÿæ¥­è³‡è¨Š
                                </h4>
                                <span class="bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded-full font-bold">å…ç¥¨å…¥å ´</span>
                            </div>
                            <div class="text-sm text-slate-600 space-y-1.5 font-sans px-1">
                                <div class="flex justify-between"><span>ç‡Ÿæ¥­æ™‚é–“ï¼š</span><span class="font-bold">10:00 - 20:00</span></div>
                                <p class="text-[10px] text-slate-400 italic">è¨»ï¼šåœ’å€å¯å…è²»é€²å…¥åƒè§€/é€›å•†åº—è¡—ï¼ŒéŠæ¨‚è¨­æ–½éœ€å¦è³¼ç¥¨ã€‚</p>
                            </div>
                        </div>

                        <!-- ç¥¨åƒ¹èˆ‡ Big 3 -->
                        <div class="bg-white p-4 rounded-2xl border border-2 border-dashed border-purple-200 shadow-sm">
                            <h4 class="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-tags text-purple-500"></i> å„å¼ç¥¨åƒ¹èˆ‡ä½¿ç”¨æ–¹å¼
                            </h4>
                            <div class="space-y-3 font-hand text-lg">
                                <div class="flex justify-between items-center border-b border-gray-50 pb-1.5">
                                    <span>å…¨æ—¥é€šç¥¨ (All-Day Pass)</span><b class="text-purple-600">â‚©30,000èµ·</b>
                                </div>
                                <div class="flex justify-between items-center bg-purple-50 p-2 rounded-lg">
                                    <span>Big 3 åˆ¸ <span class="text-xs text-slate-400">(ä»»é¸3é …è¨­æ–½)</span></span><b class="text-purple-600 text-xl">â‚©16,000</b>
                                </div>
                                <div class="flex justify-between items-center border-b border-gray-50 pb-1.5">
                                    <span>å–®é …è¨­æ–½åˆ¸ (Single Ride)</span><b class="text-purple-600">â‚©6,000èµ·</b>
                                </div>
                            </div>
                        </div>

                        <!-- å°å­©è¨­æ–½æ¸…å–® -->
                        <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 shadow-sm">
                            <h4 class="font-bold text-blue-700 mb-3 text-sm flex items-center gap-2">
                                <i class="fas fa-child"></i> å°å­©èƒ½ç©çš„è¨­æ–½ (èº«é«˜åˆ†ç´š)
                            </h4>
                            <div class="space-y-3">
                                <div class="bg-white p-2 rounded-lg shadow-sm">
                                    <p class="font-bold text-blue-600 text-[11px] border-b mb-1.5 pb-0.5">ğŸŸ¢ 90cm - 100cm (å®¶é•·é™ªåŒ)</p>
                                    <ul class="text-[11px] text-slate-600 grid grid-cols-1 gap-1">
                                        <li>â€¢ é€—é€—èŸ²ä¸–ç•Œå¿«è»Š <span class="text-orange-400 font-bold">(å¿…ç©!)</span></li>
                                        <li>â€¢ æ—‹è½‰æ¨‚åœ’ (æ—‹è½‰æœ¨é¦¬)</li>
                                        <li>â€¢ é€—é€—èŸ²å½±é™¢ (4D å½±é™¢)</li>
                                    </ul>
                                </div>
                                <div class="bg-white p-2 rounded-lg shadow-sm">
                                    <p class="font-bold text-purple-600 text-[11px] border-b mb-1.5 pb-0.5">ğŸŸ¡ 105cm - 120cm</p>
                                    <ul class="text-[11px] text-slate-600 grid grid-cols-1 gap-1">
                                        <li>â€¢ å¥§æ–¯å¡ V ä¸–ç•Œ</li>
                                        <li>â€¢ é£›è¶Šå¥§æ–¯å¡</li>
                                        <li>â€¢ é€—é€—èŸ²å¤ªç©ºå†’éšª</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- åœ’å€åœ°åœ–å±•ç¤ºå€ -->
                        <div class="bg-slate-50 p-4 rounded-2xl border border-slate-200 shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2 text-sm flex items-center gap-2">
                                <i class="fas fa-map"></i> åœ’å€åœ°åœ–
                            </h4>
                            <div class="bg-white p-1 rounded border border-slate-200">
                                <img src="${photoUrl}" 
                                     onerror="this.src='https://images.unsplash.com/photo-1548115184-bc6544d06a58?auto=format&fit=crop&w=400&q=80';" 
                                     class="w-full h-auto rounded shadow-sm" alt="åœ’å€åœ°åœ–">
                            </div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <button onclick="closeModal()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition">çŸ¥é“äº†</button>
                    </div>
                </div>
            `;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showPororoInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `<div class="text-left"><h3 class="text-xl font-bold text-slate-800 mb-3 text-center border-b-2 border-blue-200 pb-2 font-hand">Pororo æ¨‚åœ’</h3><p class="font-hand">å®¤å…§å¤–çš†æœ‰è¨­æ–½ï¼Œæ¨è–¦é ç•™ 4 å°æ™‚ä»¥ä¸Šã€‚</p></div>`;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showSuksungdoInfo = function() {
            document.getElementById('modal-content-area').innerHTML = `<div class="text-left"><h3 class="text-xl font-bold text-slate-800 mb-3 text-center border-b-2 border-red-200 pb-2 font-hand">ç†Ÿæˆåˆ°ç‡’è‚‰</h3><p class="font-hand">å·²è¨‚ä½ 18:30ã€‚å¿…é»ç†Ÿæˆäº”èŠ±è‚‰ï¼</p></div>`;
            document.getElementById('info-modal').classList.remove('hidden');
        }

        window.showJungangRecs = function() {
             document.getElementById('modal-content-area').innerHTML = `
                <div class="text-left">
                    <h3 class="text-xl font-bold text-slate-800 mb-3 text-center border-b-2 border-red-200 pb-2 font-hand">ä¸­å¤®åœ°ä¸‹è¡—æ¨è–¦</h3>
                    <div class="bg-red-50 p-4 rounded-xl text-center text-slate-600 font-hand text-lg border border-red-100">
                        <i class="fas fa-edit text-4xl mb-2 text-red-300"></i><br>
                        <span class="font-bold text-red-500">å…§å®¹æ’°å¯«ä¸­...</span><br>
                        <span class="text-sm">(åŒ…å«æœé£¾ã€ç¾å¦èˆ‡åœ¨åœ°ç¾é£Ÿæ¨è–¦)</span>
                    </div>
                </div>
            `;
             document.getElementById('info-modal').classList.remove('hidden');
        }

        async function fetchRate() {
            try {
                const res = await fetch('https://api.exchangerate-api.com/v4/latest/TWD');
                const data = await res.json();
                currentExchangeRate = data.rates.KRW;
                if(document.getElementById('krw-val')) {
                    document.getElementById('rate-loading').style.display = 'none';
                    document.getElementById('rate-result').classList.remove('hidden');
                    document.getElementById('krw-val').innerText = currentExchangeRate.toFixed(2);
                }
                updateRateCheatSheet(1/currentExchangeRate);
            } catch (e) { console.error(e); }
        }

        function updateRateCheatSheet(rate) {
            const listEl = document.getElementById('rate-cheat-sheet');
            if (!listEl) return;
            const amounts = [1000, 5000, 10000, 30000, 50000];
            let html = '';
            amounts.forEach(krw => {
                const twd = Math.round(krw * rate);
                html += `<li class="flex justify-between items-center border-b border-dashed border-yellow-300 pb-1"><span class="font-bold">â‚© ${krw.toLocaleString()}</span><span class="font-bold text-jeju-orange">NT$ ${twd.toLocaleString()}</span></li>`;
            });
            listEl.innerHTML = html;
        }

        async function fetchWeather() {
            if(!document.getElementById('weather-widget')) return;
            try {
                const url = "https://api.open-meteo.com/v1/forecast?latitude=33.4996&longitude=126.5312&current=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=Asia%2FSeoul&forecast_days=8";
                const res = await fetch(url);
                const data = await res.json();
                weatherDataCache = data;
                renderWeatherWidget(data);
            } catch (e) { console.error(e); }
        }

        function renderWeatherWidget(data) {
            const current = data.current;
            document.getElementById('curr-temp').innerText = `${current.temperature_2m}Â°`;
            document.getElementById('weather-loading').style.display='none';
            document.getElementById('weather-content').classList.remove('hidden');
            
            let html = '';
            for(let i=0;i<7;i++) {
                const date = moment(data.daily.time[i]).format('MM/DD');
                html += `
                <div class="flex-shrink-0 w-20 flex flex-col items-center p-2 bg-white border-2 border-dashed border-slate-200 rounded-xl mx-1">
                    <span class="text-sm font-bold">${date}</span>
                    <span class="text-[10px]">${data.daily.temperature_2m_min[i]}Â°~${data.daily.temperature_2m_max[i]}Â°</span>
                </div>`;
            }
            document.getElementById('forecast-container').innerHTML = html;
        }

        function addExpense() {
            const name = document.getElementById('expense-name').value;
            const amount = parseFloat(document.getElementById('expense-amount').value);
            
            if(!name || !amount) {
                document.getElementById('modal-content-area').innerHTML = `<p class="p-4 font-bold">è«‹è¼¸å…¥é …ç›®åç¨±èˆ‡é‡‘é¡å–”ï¼</p>`;
                document.getElementById('info-modal').classList.remove('hidden');
                return;
            }
            
            expenseData.push({ id: Date.now(), name, amount, date: new Date().toISOString() });
            localStorage.setItem('jeju_expenses', JSON.stringify(expenseData));
            renderExpenses();
            document.getElementById('expense-name').value = '';
            document.getElementById('expense-amount').value = '';
        }

        function renderExpenses() {
            const listEl = document.getElementById('expense-list');
            const totalEl = document.getElementById('total-twd');
            if(!listEl) return;
            
            if(expenseData.length === 0) {
                listEl.innerHTML = `<p class="text-center py-10 opacity-50 font-hand">é‚„æ²’æœ‰æ¶ˆè²»ç´€éŒ„å–”ï¼</p>`;
                totalEl.innerText = 'NT$ 0';
                return;
            }
            
            let html = '';
            let totalTwd = 0;
            expenseData.forEach((ex) => {
                const twd = Math.round(ex.amount / currentExchangeRate);
                totalTwd += twd;
                html += `<div class="flex justify-between items-center bg-white p-3 rounded-xl shadow-sm mb-2"><div class="font-bold text-sm">${ex.name}</div><div class="font-bold text-jeju-blue">â‚© ${ex.amount.toLocaleString()}</div></div>`;
            });
            listEl.innerHTML = html;
            totalEl.innerText = `NT$ ${totalTwd.toLocaleString()}`;
        }

        function toggleDetails(id) {
            const el = document.getElementById(id);
            if(el.classList.contains('show')) el.classList.remove('show');
            else el.classList.add('show');
        }

        function getContent(id) {
            const header = (text) => `<div class="mb-6 text-center"><h2 class="washi-tape-title text-xl font-bold font-hand">${text}</h2></div>`;
            
            switch(id) {
                case 'intro':
                    return `${header('Tutorial æ•™å­¸')}
                    <div class="bg-orange-50 p-10 rounded-xl text-center text-slate-600 font-hand text-lg border border-orange-100 mt-4">
                        <i class="fas fa-edit text-4xl mb-2 text-orange-300"></i><br>
                        <span class="font-bold text-orange-500">å…§å®¹æ’°å¯«ä¸­...</span><br>
                        <span class="text-sm">(ç¨å¾Œè£œä¸Šæ•™å­¸è³‡è¨Š)</span>
                    </div>`;
                case 'flight':
                    return `${header('Flight Info')}${renderBookingInfo()}`;
                case 'rate': 
                    return `
                    ${header('Currency Calculator')}
                    <div id="rate-display">
                        <div class="bg-white border-2 border-slate-200 rounded-xl p-4 mb-6 shadow-sm">
                            <div id="rate-loading" class="text-center font-hand text-xl">é€£ç·šä¸­...</div>
                            <div id="rate-result" class="hidden">
                                <span class="text-2xl font-black text-jeju-orange font-hand">1 TWD â‰ˆ <span id="krw-val">--</span> KRW</span>
                                <div class="mt-4 space-y-3">
                                    <input type="number" id="calc-twd" placeholder="è¼¸å…¥å°å¹£" oninput="convertCurrency('twd')" class="w-full p-2 border rounded-lg font-hand">
                                    <input type="number" id="calc-krw" placeholder="è¼¸å…¥éŸ“å…ƒ" oninput="convertCurrency('krw')" class="w-full p-2 border rounded-lg font-hand text-jeju-blue">
                                </div>
                            </div>
                        </div>
                        <div class="bg-yellow-100 p-4 rounded-lg shadow-md mb-6"><ul class="space-y-1 font-hand" id="rate-cheat-sheet"></ul></div>
                        <div class="bg-white p-5 rounded-xl border mb-6">
                            <h3 class="font-bold text-jeju-green mb-4 font-hand">æ–°å¢æ”¯å‡º</h3>
                            <input type="text" id="expense-name" placeholder="é …ç›®" class="w-full mb-2 p-2 border rounded-lg">
                            <input type="number" id="expense-amount" placeholder="é‡‘é¡ (KRW)" class="w-full mb-2 p-2 border rounded-lg">
                            <button onclick="addExpense()" class="w-full bg-jeju-green text-white py-2 rounded-lg font-bold font-hand">æ–°å¢</button>
                        </div>
                        <div class="flex justify-between items-center mb-2 px-2">
                            <h3 class="font-bold font-hand">æ¶ˆè²»ç´€éŒ„</h3>
                            <p class="font-bold text-jeju-orange" id="total-twd">NT$ 0</p>
                        </div>
                        <div id="expense-list"></div>
                    </div>`;
                case 'weather': 
                    return `${header('7 Days Weather')}
                    <div id="weather-widget">
                        <div id="weather-loading" class="text-center py-10 font-hand">Checking...</div>
                        <div id="weather-content" class="hidden">
                            <div class="bg-blue-400 rounded-2xl p-5 text-white mb-6">
                                <div class="text-6xl font-black font-hand" id="curr-temp">--Â°</div>
                            </div>
                            <div class="flex overflow-x-auto gap-3 pb-4 hide-scrollbar" id="forecast-container"></div>
                        </div>
                    </div>`;
                case 'prep': 
                    return `${header('Checklist')}<div class="bg-white p-4 rounded-lg border mb-4"><ul class="space-y-2 font-hand"><li><input type="checkbox" class="mr-2"> è­·ç…§</li><li><input type="checkbox" class="mr-2"> åœ‹éš›é§•ç…§</li></ul></div>`;
                case 'booking': 
                    return `${header('Vouchers')}<div class="bg-white p-4 rounded-lg border mb-4 font-hand">ç§Ÿè»Šã€é£¯åº—ã€é–€ç¥¨æ†‘è­‰å·²å‚™å¦¥æ–¼å„è¡Œç¨‹ä¸­ã€‚</div>`;
                case 'day1': return renderScheduleList(day1Events, 'Day 1 : 1/30(äº”)');
                case 'day2': return renderScheduleList(day2Events, 'Day 2 : 1/31(å…­)');
                case 'day3': return renderScheduleList(day3Events, 'Day 3 : 2/01(æ—¥)');
                case 'day4': return renderScheduleList(day4Events, 'Day 4 : 2/02(ä¸€)');
                case 'day5': return renderScheduleList(day5Events, 'Day 5 : 2/03(äºŒ)');
                case 'day6': return renderScheduleList(day6Events, 'Day 6 : 2/04(ä¸‰)');
                case 'day7': return renderScheduleList(day7Events, 'Day 7 : 2/05(ç™¼)');
                case 'day8': return renderScheduleList(day8Events, 'Day 8 : 2/06(äº”)');
                default: return '<div>Coming Soon</div>';
            }
        }

        function convertCurrency(source) {
            const twd = document.getElementById('calc-twd'), krw = document.getElementById('calc-krw');
            if(source==='twd') krw.value=(parseFloat(twd.value)*currentExchangeRate).toFixed(0)||'';
            else twd.value=(parseFloat(krw.value)/currentExchangeRate).toFixed(0)||'';
        }
    </script>
</body>
</html>